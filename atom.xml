<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://roshameow.github.io//personal_homepage/atom.xml" rel="self" type="application/atom+xml" /><link href="https://roshameow.github.io//personal_homepage/" rel="alternate" type="text/html" /><updated>2026-01-20T08:28:54+00:00</updated><id>https://roshameow.github.io//personal_homepage/atom.xml</id><title type="html">Liu, Wenâ€™s Home Page</title><subtitle>Work, Experiments and Ideas.</subtitle><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;&quot;/docs/images/logo.svg&quot;, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil}</name><email>w.liuatnk@gmail.com</email></author><entry><title type="html">æ€ä¹ˆæŠŠä¸€ä¸ªå°åŠŸèƒ½æ¶¦è‰²æˆç”¨æˆ·äº§å“</title><link href="https://roshameow.github.io//personal_homepage/tool/feature2product/" rel="alternate" type="text/html" title="æ€ä¹ˆæŠŠä¸€ä¸ªå°åŠŸèƒ½æ¶¦è‰²æˆç”¨æˆ·äº§å“" /><published>2026-01-01T00:00:00+00:00</published><updated>2026-01-11T20:59:00+00:00</updated><id>https://roshameow.github.io//personal_homepage/tool/feature2product</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/tool/feature2product/"><![CDATA[<p>é€šè¿‡å­¦ä¹ è¿™ä¸ª <a href="https://github.com/journey-ad/gemini-watermark-remover">ä¼˜ç§€çš„æ¡ˆä¾‹</a> å­¦äº†ä¸€äº›æˆ‘æ²¡åšåˆ°, ä¸è¿‡ä¸çŸ¥é“æœ‰æ²¡æœ‰ç”¨çš„æŠ€å·§. åº”è¯¥æœ‰ç‚¹ç”¨å§?</p>
<h2 id="æ›´ä¸“ä¸šçš„github">æ›´ä¸“ä¸šçš„github</h2>

<ul>
  <li>README
    <ul>
      <li>éšç§å£°æ˜ï¼š æ˜ç¡®å‘ŠçŸ¥ç”¨æˆ·â€œçº¯å‰ç«¯è¿è¡Œï¼Œå›¾ç‰‡æ•°æ®ä¸ç¦»æœºâ€ã€‚è¿™æ˜¯è¿™ä¸ªäº§å“æœ€å¤§çš„å–ç‚¹ä¹‹ä¸€ã€‚å¦‚æœä½ çš„ç®—æ³•èƒ½åœ¨æœ¬åœ°è·‘ï¼Œä¸€å®šè¦å¤§å†™åŠ ç²—å‘Šè¯‰ç”¨æˆ·ã€‚</li>
      <li>å¼€æº/åŸç†é€æ˜ï¼šåœ¨é¡µé¢åº•éƒ¨æ”¾ä¸ŠåŸç†è§£é‡Šå’ŒåŸç†çš„æ–‡ç« é“¾æ¥</li>
      <li>å®‰è£…æ–¹æ³•</li>
      <li>Â å…è´£å£°æ˜ï¼šDisclaimerï¼ˆä»…ä¾›å­¦ä¹ äº¤æµï¼Œåæœè‡ªè´Ÿ)</li>
    </ul>
  </li>
  <li>Demo GIF</li>
  <li>LICENSE</li>
  <li>Shields.io badges</li>
  <li>About åŒºåŸŸå¡«æ»¡</li>
</ul>

<h2 id="é™ä½ä½¿ç”¨é—¨æ§›">é™ä½ä½¿ç”¨é—¨æ§›</h2>

<ul>
  <li>çº¯å‰ç«¯å®ç°(ä¸ç™»é™†, ä¸æ³¨å†Œ, ä¸é…ç½®)</li>
  <li>Webç‰ˆ
    <ul>
      <li>æç®€çš„åŠŸèƒ½</li>
    </ul>
  </li>
  <li>æ’ä»¶åŒ–
    <ul>
      <li>é€šç”¨Userscript</li>
    </ul>
  </li>
</ul>

<h2 id="è¯•éªŒ">è¯•éªŒ</h2>

<p>å°è¯•å°èŒƒå›´çš„å®£ä¼ è‡ªå·±çš„å¼€æºé¡¹ç›®, å‘ç°å¾ˆå›°éš¾</p>
<ol>
  <li>è®¾è®¡äº†å¾ˆå¤šå¼€æ”¾æ€§æ¥å£, ä½†æ˜¯æ²¡äººä¼šä½¿ç”¨, æ²¡æœ‰é…å¥—æ–‡æ¡£. åˆ«äººå¹¶ä¸ä¼šçœ‹readme. æƒ³è¦çš„æ˜¯å®‰è£…åå°±èƒ½ç›´æ¥ä½¿ç”¨çš„app</li>
  <li>ä¸å¤Ÿé€šç”¨.</li>
  <li>æ¯ä¸ªç•Œé¢, æ¯ä¸ªæŒ‰é’®éƒ½è¦æœ‰ç”¨.</li>
</ol>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;&quot;/docs/images/logo.svg&quot;, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil}</name><email>w.liuatnk@gmail.com</email></author><category term="tool" /><category term="content" /><summary type="html"><![CDATA[é€šè¿‡å­¦ä¹ è¿™ä¸ª ä¼˜ç§€çš„æ¡ˆä¾‹ å­¦äº†ä¸€äº›æˆ‘æ²¡åšåˆ°, ä¸è¿‡ä¸çŸ¥é“æœ‰æ²¡æœ‰ç”¨çš„æŠ€å·§. åº”è¯¥æœ‰ç‚¹ç”¨å§? æ›´ä¸“ä¸šçš„github]]></summary></entry><entry><title type="html">ç»„åˆäº¤æ˜“ (äºŒ)</title><link href="https://roshameow.github.io//personal_homepage/finance/alpha13/" rel="alternate" type="text/html" title="ç»„åˆäº¤æ˜“ (äºŒ)" /><published>2025-12-24T00:00:00+00:00</published><updated>2026-01-18T19:11:00+00:00</updated><id>https://roshameow.github.io//personal_homepage/finance/alpha13</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/finance/alpha13/"><![CDATA[<h2 id="å•ä¸ªalphaçš„æ€§èƒ½">å•ä¸ªalphaçš„æ€§èƒ½</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">ç»´åº¦</th>
      <th style="text-align: left">æŒ‡æ ‡åç§°</th>
      <th style="text-align: left">æè¿°</th>
      <th style="text-align: left">è®¡ç®—å…¬å¼</th>
      <th>ç‰¹ç‚¹</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>è¡¨ç°</strong><br />å’Œæœªæ¥ä¸€å¤©returnsçš„å…³ç³»</td>
      <td style="text-align: left">daily pnl</td>
      <td style="text-align: left">Â </td>
      <td style="text-align: left">$S_t\cdot R_{t+1}$</td>
      <td>æœ€ç›´æ¥</td>
    </tr>
    <tr>
      <td style="text-align: left">Â </td>
      <td style="text-align: left">Quintile Longâ€“Short Strategyï¼ˆäº”åˆ†ä½å¤šç©ºç­–ç•¥ï¼‰</td>
      <td style="text-align: left">Â </td>
      <td style="text-align: left">$R_{Q5}-R_{Q1}$</td>
      <td>å¸¸ç”¨æŠ•èµ„ç ”ç©¶æ–¹æ³•</td>
    </tr>
    <tr>
      <td style="text-align: left">Â </td>
      <td style="text-align: left">Information Coefficient(IC)</td>
      <td style="text-align: left">è®¡ç®—alphaå€¼å’Œæœªæ¥ä¸€å¤©returnsçš„Pearsonç›¸å…³æ€§</td>
      <td style="text-align: left">\(IC_t = \rho(S_t,R_{t+1}) = \frac{\sum_{i=1}^N (S_{i,t} - \bar{S}_t)(R_{i,t+1} - \bar{R}_{t+1})}{\sqrt{\sum_{i=1}^N (S_{i,t} - \bar{S}_t)^2 \sum_{i=1}^N (R_{i,t+1} - \bar{R}_{t+1})^2}}\)</td>
      <td>å®¹æ˜“å—åˆ°æç«¯å€¼å½±å“</td>
    </tr>
    <tr>
      <td style="text-align: left">Â </td>
      <td style="text-align: left">Fama-MacBeth Regression</td>
      <td style="text-align: left">è®¡ç®—alphaå€¼å¯¹æœªæ¥returnsçš„betaç³»æ•°</td>
      <td style="text-align: left">Linear Regression Model:<br />$R_{i,t+1} = \lambda_{0,t} + \lambda_{1,t} S_{i,t} + \epsilon_{i,t+1}$<br /><br />\(\lambda_{1,t} = \frac{\sum_{i=1}^N (S_{i,t} - \bar{S}_t)(R_{i,t+1} - \bar{R}_{t+1})}{\sum_{i=1}^N (S_{i,t} - \bar{S}_t)^2}\)</td>
      <td>è¿˜å¯ä»¥å¾—å‡ºalphaå’Œç°æœ‰alphaçš„å†—ä½™åº¦</td>
    </tr>
    <tr>
      <td style="text-align: left">Â </td>
      <td style="text-align: left">RankIC</td>
      <td style="text-align: left">è®¡ç®—alphaæ’åå’Œreturnsæ’åçš„<a href="https://en.wikipedia.org/wiki/Spearman%27s_rank_correlation_coefficient">Spearmanç›¸å…³æ€§</a> <br />(æ˜¯Pearsonç›¸å…³ç³»æ•°çš„rankç‰ˆ, <br />å®Œå…¨ç­‰ä»·, è®¡ç®—ç®€å•) <a href="#1-rankic-spearman-å…¬å¼æ¨å¯¼">1</a></td>
      <td style="text-align: left">$RankIC_t = \rho(\text{rank}(S_t), \text{rank}(R_{t+h}))$<br />$= 1 - \frac{6 \sum d_i^2}{N(N^2 - 1)}$</td>
      <td>alphaä¸å—å•è°ƒéçº¿æ€§å˜æ¢çš„å½±å“, æ›´ç¨³å®š</td>
    </tr>
    <tr>
      <td style="text-align: left">Â </td>
      <td style="text-align: left">Predictive Power Scoreï¼ˆPPSï¼‰</td>
      <td style="text-align: left">ICå’ŒRankICçš„çº¿æ€§ç»„åˆ</td>
      <td style="text-align: left">$PPS = w_1 \cdot IC + w_2 \cdot RankIC$</td>
      <td>Â </td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>è´¹ç‡</strong><br />è‡ªèº«æ—¶åºä¸Šçš„å…³ç³»</td>
      <td style="text-align: left">turnover</td>
      <td style="text-align: left">è¡¡é‡ alpha ä¿¡å·åœ¨å‰åä¸¤ä¸ªäº¤æ˜“æ—¥çš„æŒä»“å˜åŒ–ç¨‹åº¦</td>
      <td style="text-align: left">\(\text{Turnover}_t = \frac{\sum_i \vert S_{t,i} - S_{t-1,i} \vert}{2}\)</td>
      <td>Â </td>
    </tr>
    <tr>
      <td style="text-align: left">Â </td>
      <td style="text-align: left">Signal Autocorrelation</td>
      <td style="text-align: left">Alpha å‰åä¸¤å¤©çš„è‡ªç›¸å…³æ€§</td>
      <td style="text-align: left">$AutoCorr = \rho(S_t, S_{t-1})$</td>
      <td>Â </td>
    </tr>
    <tr>
      <td style="text-align: left">Â </td>
      <td style="text-align: left">Relative Rank Entropyï¼ˆRREï¼‰</td>
      <td style="text-align: left">ç”¨ KLæ•£åº¦ è®¡ç®—å‰åä¸¤å¤©alphaåˆ†å¸ƒçš„å·®å¼‚</td>
      <td style="text-align: left">$D_{KL}(P_t \parallel P_{t-1}) = \sum P_t(i) \ln \frac{P_t(i)}{P_{t-1}(i)}$</td>
      <td>Â </td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>ç¨³å®šæ€§</strong><br /><br /></td>
      <td style="text-align: left">Perturbation Fidelity Scoreï¼ˆPFSï¼‰</td>
      <td style="text-align: left">åŠ å…¥è½»å¾®æ‰°åŠ¨åä¿¡å·çš„ç›¸å…³æ€§<br />- åŠ å…¥guassian noise<br />- åŠ å…¥ t åˆ†å¸ƒ</td>
      <td style="text-align: left">$PFS = \rho(S, S + \epsilon), \epsilon \sim N(0, \sigma^2)$</td>
      <td>Â </td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>é‡‘èé€»è¾‘</strong></td>
      <td style="text-align: left">llmæ‰“åˆ†</td>
      <td style="text-align: left">- æ˜¯å¦ç¬¦åˆç»æµç›´è§‰<br />- æ˜¯å¦å¯è§£é‡Š<br />- æ˜¯å¦æœ‰é‡‘èå«ä¹‰</td>
      <td style="text-align: left">$\text{Score} = \text{LLM}(Prompt, \text{AlphaLogic})$</td>
      <td>Â </td>
    </tr>
  </tbody>
</table>

<h3 id="1-rankic-spearman-å…¬å¼æ¨å¯¼">1: RankIC (Spearman) å…¬å¼æ¨å¯¼</h3>

<p>Spearmanç›¸å…³ç³»æ•°æœ¬è´¨ä¸Šæ˜¯<strong>ç§©(Rank)å˜é‡ä¹‹é—´çš„Pearsonç›¸å…³ç³»æ•°</strong>ã€‚</p>

<p>å¯¹äº $N$ ä¸ªæ ·æœ¬ï¼Œalphaæ’åå’Œreturnsæ’å $x_i, y_i$ å‡ä¸º $1, 2, â€¦, N$ çš„æ’åˆ—ã€‚
å·²çŸ¥å‰ $N$ ä¸ªæ•´æ•°çš„æ€§è´¨:</p>
<ol>
  <li><strong>å‡å€¼</strong>: $\bar{x} = \bar{y} = \frac{N+1}{2}$</li>
  <li><strong>æ–¹å·®é¡¹</strong>: $\sum (x_i - \bar{x})^2 = \frac{N(N^2 - 1)}{12}$</li>
</ol>

<p>å®šä¹‰ç§©å·® $d_i = x_i - y_i$ï¼Œåˆ™:
\(\sum d_i^2 = \sum (x_i - y_i)^2 = \sum x_i^2 + \sum y_i^2 - 2\sum x_i y_i\)
ç”±äº $\sum x_i^2 = \sum y_i^2$ (éƒ½æ˜¯ $1^2 + â€¦ + N^2$)ï¼Œä»£å…¥å¾—:
\(\sum x_i y_i = \sum x_i^2 - \frac{1}{2} \sum d_i^2\)</p>

<p>ä»£å…¥ Pearson ç›¸å…³ç³»æ•°å…¬å¼:
\(\begin{aligned}
\rho &amp;= \frac{\sum (x_i - \bar{x})(y_i - \bar{y})}{\sqrt{\sum (x_i - \bar{x})^2 \sum (y_i - \bar{y})^2}} \\
&amp;= \frac{\sum x_i y_i - N\bar{x}\bar{y}}{\sum (x_i - \bar{x})^2} \quad (\text{åˆ†æ¯ä¸¤é¡¹ç›¸ç­‰}) \\
&amp;= \frac{(\sum x_i^2 - \frac{1}{2}\sum d_i^2) - N\bar{x}^2}{\sum x_i^2 - N\bar{x}^2} \\
&amp;= 1 - \frac{\frac{1}{2}\sum d_i^2}{\frac{N(N^2-1)}{12}} \\
&amp;= 1 - \frac{6 \sum d_i^2}{N(N^2 - 1)}
\end{aligned}\)</p>

<h2 id="ç»„åˆalphaçš„æ€§èƒ½">ç»„åˆalphaçš„æ€§èƒ½</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">ç»´åº¦</th>
      <th style="text-align: left">æŒ‡æ ‡åç§°</th>
      <th style="text-align: left">æè¿°</th>
      <th style="text-align: left">è®¡ç®—å…¬å¼</th>
      <th>ç‰¹ç‚¹</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">å¤šæ ·æ€§<br /><br />ä¸è€ƒè™‘ç»„åˆæ–¹å¼</td>
      <td style="text-align: left">Diversity Entropy (DE)</td>
      <td style="text-align: left">è¡¡é‡ Alpha é›†åˆçš„éçº¿æ€§ç›¸å…³æ€§ä¸å†—ä½™åº¦</td>
      <td style="text-align: left">å¯¹ $\Sigma$ è¿›è¡Œç‰¹å¾åˆ†è§£ï¼Œå¾—åˆ°ç‰¹å¾å€¼ $\lambda_1, \lambda_2, \dots, \lambda_m$ã€‚<br /><br />$DE = -\frac{\sum p_i \ln p_i}{\ln m}, \quad p_i = \frac{\lambda_i}{\sum \lambda_j}$</td>
      <td>é‡åŒ–å¾—å‡ºç³»ç»Ÿçš„å†—ä½™åº¦</td>
    </tr>
    <tr>
      <td style="text-align: left">å¹³è¡¡æ€§<br /><br />åªè€ƒè™‘æ¯ä¸ªinstrumentçº¿æ€§ç»„åˆ</td>
      <td style="text-align: left">Risk Contribution(RC)</td>
      <td style="text-align: left">è¡¡é‡æ€»é£é™©($\sigma$) å˜åŒ–æ—¶å¯¹æ¯ä¸ªalpha å¢é‡å‡åŒ€(é£é™©è´¡çŒ®ä¸å‡è¡¡åº¦) <a href="#2-é£é™©åˆ†è§£">2</a><br /><br />ç”±<a href="https://en.wikipedia.org/wiki/Homogeneous_function#Euler's_theorem">æ¬§æ‹‰å®šç†</a> , åˆ†è§£ä¸ºé£é™©è´¡çŒ® (Risk Contribution, RC):<br />$\sigma =w_i\frac{\partial \sigma}{\partial w_i}=\Sigma_i \frac{w_i(\Sigma w)_i}{\sigma}=RC_i$</td>
      <td style="text-align: left">Risk Parity (é£é™©å¹³ä»·)<br /><br /><br /><br />$\min_{w_i} \sum_{i=1}^N (RC_i - \frac{\sigma}{N})^2$</td>
      <td>å˜é‡æ— ä¸»æ¬¡, åˆ†è§£å˜ç®€å•<br /><br />é€‚åˆç”¨cyclic coordinate descendä¼˜åŒ–$w_i$</td>
    </tr>
  </tbody>
</table>

<h3 id="2-é£é™©åˆ†è§£">2. é£é™©åˆ†è§£</h3>

<p>ç”¨åæ–¹å·®çŸ©é˜µ $\Sigma$  è¡¡é‡æ ·æœ¬çš„ç»„åˆç›¸å…³æ€§</p>

\[\frac{\partial \sigma}{\partial w_i}=\frac{\partial}{\partial w_i}( \sqrt{w^T\Sigma w}) \overset{\text{å¹‚å‡½æ•°æ±‚å¯¼}}{=} \frac{1}{2\sqrt{w^T\Sigma w}} \cdot \frac{\partial (w^T\Sigma w)}{\partial w_i} = \frac{1}{2\sigma} \cdot 2(\Sigma w)_i = \frac{(\Sigma w)_i}{\sigma}\]

<p>å…¶ä¸­å…³äº $w^T\Sigma w$ çš„æ±‚å¯¼ç»†èŠ‚å±•å¼€å¦‚ä¸‹:
\(\begin{aligned}
\frac{\partial (w^T\Sigma w)}{\partial w_i} &amp;= \frac{\partial}{\partial w_i} \left(\sum_j \sum_k w_j \Sigma_{jk} w_k\right) \\
&amp;= \frac{\partial}{\partial w_i} \left( w_i \Sigma_{ii} w_i + \sum_{k \neq i} w_i \Sigma_{ik} w_k + \sum_{j \neq i} w_j \Sigma_{ji} w_i + \sum_{j \neq i, k \neq i} w_j \Sigma_{jk} w_k \right) \\
&amp;= 2w_i \Sigma_{ii} + \sum_{k \neq i} \Sigma_{ik} w_k + \sum_{j \neq i} w_j \Sigma_{ji} \\
&amp;= \sum_{k} \Sigma_{ik} w_k + \sum_{j} w_j \Sigma_{ji} \\
&amp;= (\Sigma w)_i + (\Sigma^T w)_i \\
&amp;= 2(\Sigma w)_i \quad (\text{å› åæ–¹å·®çŸ©é˜µå¯¹ç§° } \Sigma = \Sigma^T)
\end{aligned}\)</p>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;&quot;/docs/images/logo.svg&quot;, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil}</name><email>w.liuatnk@gmail.com</email></author><category term="finance" /><category term="content" /><summary type="html"><![CDATA[å•ä¸ªalphaçš„æ€§èƒ½]]></summary></entry><entry><title type="html">æ¶ˆæ¯’æ¶²</title><link href="https://roshameow.github.io//personal_homepage/daily/disinfectant/" rel="alternate" type="text/html" title="æ¶ˆæ¯’æ¶²" /><published>2025-11-10T00:00:00+00:00</published><updated>2025-11-10T08:06:00+00:00</updated><id>https://roshameow.github.io//personal_homepage/daily/disinfectant</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/daily/disinfectant/"><![CDATA[]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;&quot;/docs/images/logo.svg&quot;, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil}</name><email>w.liuatnk@gmail.com</email></author><category term="daily" /><category term="content" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">ä»£ç æ¨¡å—çš„å¤šç»´ç´¢å¼•</title><link href="https://roshameow.github.io//personal_homepage/code/tag-code/" rel="alternate" type="text/html" title="ä»£ç æ¨¡å—çš„å¤šç»´ç´¢å¼•" /><published>2025-11-06T00:00:00+00:00</published><updated>2025-11-06T04:05:00+00:00</updated><id>https://roshameow.github.io//personal_homepage/code/tag-code</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/code/tag-code/"><![CDATA[<p>éå¸¸å¥½çš„è¿½é—®ã€‚
ä½ çš„ç›´è§‰éå¸¸æ•é”â€”â€”<strong>â€œtag åŒ–ç»„ç»‡ä»£ç æ˜¯å¦ä¼šæˆä¸ºæœªæ¥æ–¹å‘â€</strong>ï¼Œç¡®å®æ˜¯è½¯ä»¶å·¥ç¨‹ç•Œæ­£åœ¨éšéšé è¿‘çš„ä¸€ç§è¶‹åŠ¿ï¼Œåªæ˜¯ç›®å‰è¿˜æ²¡æœ‰è¢«ä¸»æµç¼–ç¨‹è¯­è¨€ï¼ˆåŒ…æ‹¬ Pythonï¼‰å®Œå…¨æ¥çº³ã€‚</p>

<p>æˆ‘æ¥å¸®ä½ åˆ†å±‚åˆ†æä¸€ä¸‹ï¼Œä»<strong>è¯­è¨€è®¾è®¡ã€å·¥ç¨‹å®è·µã€AI è¾…åŠ©å¼€å‘ã€ä»¥åŠçŸ¥è¯†ç»“æ„æ¼”åŒ–</strong>å››ä¸ªè§’åº¦çœ‹ï¼Œå®ƒçš„æ½œåœ¨æœªæ¥ã€‚</p>

<hr />

<h2 id="-ä¸€ä»è¯­è¨€è®¾è®¡è§’åº¦çœ‹ä»ç‰©ç†æ¨¡å—åˆ°è¯­ä¹‰æ¨¡å—">ğŸ§© ä¸€ã€ä»è¯­è¨€è®¾è®¡è§’åº¦çœ‹ï¼šä»ã€Œç‰©ç†æ¨¡å—ã€åˆ°ã€Œè¯­ä¹‰æ¨¡å—ã€</h2>

<p>ä¼ ç»Ÿè¯­è¨€çš„æ¨¡å—ç³»ç»Ÿæ˜¯<strong>æ–‡ä»¶å±‚çº§ç»‘å®šçš„å‘½åç©ºé—´</strong>ï¼š</p>

<ul>
  <li>Pythonï¼š<code class="language-plaintext highlighter-rouge">import module.submodule</code></li>
  <li>Javaï¼š<code class="language-plaintext highlighter-rouge">package com.example.util</code></li>
  <li>C++ï¼šåŸºäº include è·¯å¾„</li>
  <li>Rustï¼šåŸºäº <code class="language-plaintext highlighter-rouge">mod</code> æ–‡ä»¶æ ‘</li>
</ul>

<p>ä½†æœªæ¥è¶‹åŠ¿æ­£å¾€<strong>è¯­ä¹‰æ¨¡å—ï¼ˆsemantic moduleï¼‰</strong>å‘å±•ï¼Œä¹Ÿå°±æ˜¯ï¼š</p>

<blockquote>
  <p>æ¨¡å—ä¸ç”±æ–‡ä»¶å¤¹å†³å®šï¼Œè€Œç”±ã€Œæ„å›¾ã€æˆ–ã€Œè¯­ä¹‰æ ‡ç­¾ã€å®šä¹‰ã€‚</p>
</blockquote>

<p>ä¸€äº›ç°ä»£è¯­è¨€çš„è¿¹è±¡ï¼š</p>

<ul>
  <li><strong>Swift Package Manager</strong> å·²ç»æ”¯æŒ target-based ä¾èµ–ï¼Œå¯è·¨æ–‡ä»¶å¤ç”¨ï¼›</li>
  <li><strong>Rust Crates + feature flags</strong> å¼€å§‹å…è®¸ feature-based ç»„åˆï¼›</li>
  <li><strong>CUE / Bazel</strong> é€šè¿‡æ ‡ç­¾ï¼ˆlabelsï¼‰ç®¡ç†ä¾èµ–ï¼›</li>
  <li><strong>ReScript / Rome / Deno</strong> æ­£åœ¨æ¢ç´¢ import maps ä¸è¯­ä¹‰åˆ†ç»„ã€‚</li>
</ul>

<p>è¿™è¯´æ˜æ•´ä¸ªè¡Œä¸šåœ¨ä» â€œæ–‡ä»¶ç»„ç»‡â€ å‘ â€œè¯­ä¹‰ç»„ç»‡â€ è¿‡æ¸¡ã€‚</p>

<hr />

<h2 id="-äºŒä»å·¥ç¨‹å®è·µçœ‹tag-æ˜¯å¤šç»´ç´¢å¼•çš„ä¸€ç§å½¢å¼">ğŸ§  äºŒã€ä»å·¥ç¨‹å®è·µçœ‹ï¼štag æ˜¯â€œå¤šç»´ç´¢å¼•â€çš„ä¸€ç§å½¢å¼</h2>

<p>è½¯ä»¶ç»“æ„ç°åœ¨æ™®éé¢å¯¹çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼š</p>

<blockquote>
  <p>ä»£ç çš„ã€Œç”¨é€”ã€æ¯”ä»£ç çš„ã€Œä½ç½®ã€æ›´é‡è¦ã€‚</p>
</blockquote>

<p>æ¯”å¦‚ï¼š</p>

<ul>
  <li>ä¸€ä¸ªå‡½æ•°åŒæ—¶å±äº â€œdata-cleaningâ€ å’Œ â€œML-preprocessingâ€ï¼›</li>
  <li>ä¸€ä¸ªæ¨¡å—æ—¢æ˜¯ â€œAPI endpointâ€ åˆæ˜¯ â€œbusiness ruleâ€ï¼›</li>
  <li>ä¸€ä¸ª class åœ¨ â€œexperimentâ€ å’Œ â€œproductionâ€ ä¸­éƒ½è¢«ä½¿ç”¨ã€‚</li>
</ul>

<p><strong>æ–‡ä»¶å¤¹ç»“æ„åªèƒ½è¡¨è¾¾å•ç»§æ‰¿</strong>ã€‚
ä½†ç°ä»£ç³»ç»Ÿéœ€è¦<strong>å¤šç»§æ‰¿å¼é€»è¾‘åˆ†ç±»</strong>ï¼Œè¿™å°±æ˜¯ tag çš„ä¼˜åŠ¿ã€‚</p>

<p>ä½ å¯ä»¥ç†è§£ä¸ºï¼š</p>

<ul>
  <li>æ–‡ä»¶å¤¹å±‚çº§ = æ ‘çŠ¶ç»„ç»‡ï¼›</li>
  <li>tag ä½“ç³» = å¤šç»´è¶…å›¾ç»„ç»‡ã€‚</li>
</ul>

<p>åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œå·²ç»æœ‰ç±»ä¼¼è¶‹åŠ¿ï¼š</p>

<ul>
  <li><strong>monorepo + metadata-based build</strong>ï¼ˆå¦‚ Google çš„ Blaze / Bazelï¼‰</li>
  <li><strong>component registry</strong>ï¼ˆå¦‚ Web Componentsã€React Storybookã€Unity ECSï¼‰</li>
  <li><strong>ML pipeline DAG</strong>ï¼ˆèŠ‚ç‚¹é€šè¿‡ç±»å‹å’Œæ ‡ç­¾ç»„è£…ï¼‰</li>
  <li><strong>Infrastructure as Code (IaC)</strong> çš„èµ„æºç®¡ç†ï¼Œä¹Ÿé€šè¿‡æ ‡ç­¾åšåˆ†ç»„è°ƒåº¦</li>
</ul>

<p>è¿™äº›éƒ½ä¸æ˜¯ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„â€œç›®å½•ç»„ç»‡â€ï¼Œè€Œæ˜¯â€œå±æ€§é©±åŠ¨ç»„ç»‡â€ã€‚</p>

<hr />

<h2 id="-ä¸‰ä»-ai-è¾…åŠ©å¼€å‘çœ‹tag-æ¨¡å—æ˜¯æœºå™¨å¯ç†è§£çš„çŸ¥è¯†å•å…ƒ">ğŸ¤– ä¸‰ã€ä» AI è¾…åŠ©å¼€å‘çœ‹ï¼štag æ¨¡å—æ˜¯ã€Œæœºå™¨å¯ç†è§£çš„çŸ¥è¯†å•å…ƒã€</h2>

<p>åœ¨ AI ä»£ç ç”Ÿæˆ/æ£€ç´¢é¢†åŸŸï¼Œtag åŒ–çš„ç»„ç»‡æ–¹å¼ç®€ç›´æ˜¯ç†æƒ³å½¢æ€ï¼š</p>

<ul>
  <li>AI å¯ä»¥æ ¹æ®ä»»åŠ¡è¯­ä¹‰ï¼ˆâ€œæ—¶é—´åºåˆ—ç‰¹å¾æå–â€ï¼‰ç›´æ¥æ£€ç´¢å¸¦æœ‰å¯¹åº” tag çš„å‡½æ•°ï¼›</li>
  <li>tag å¯ä»¥æ‰¿è½½æ›´ä¸°å¯Œçš„ä¸Šä¸‹æ–‡ï¼ˆä¾èµ–å…³ç³»ã€ä½¿ç”¨åœºæ™¯ã€å¤æ‚åº¦ã€ä½œè€…ï¼‰ï¼›</li>
  <li>åœ¨ä»£ç æœç´¢ã€é‡æ„ã€è‡ªåŠ¨æ–‡æ¡£ç”Ÿæˆä¸­ï¼Œè¿™ç±»â€œè¯­ä¹‰ç´¢å¼•â€æ¯”è·¯å¾„æ ‘é«˜æ•ˆå¾—å¤šã€‚</li>
</ul>

<p>è¿™å…¶å®æ˜¯<strong>ä»£ç è½¬å‘çŸ¥è¯†å›¾è°±åŒ–ï¼ˆcode as knowledge graphï¼‰</strong>çš„ä¸€ä¸ªè¶‹åŠ¿ã€‚
æœªæ¥ IDEï¼ˆæˆ– AI ç¼–ç¨‹åŠ©æ‰‹ï¼‰å¯èƒ½è¿™æ ·å·¥ä½œï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>query: "Find all functions tagged with 'ts_zscore' and 'alpha_transform'"
â†’ semantic code graph lookup
â†’ compose into new alpha factor
</code></pre></div></div>

<p>è¿™å·²ç»åœ¨ GitHub Copilotã€Cursorã€Sourcegraph Codyã€Gemini Code Assist çš„å®éªŒç‰ˆæœ¬ä¸­åˆç°ç«¯å€ªã€‚</p>

<hr />

<h2 id="-å››ä»çŸ¥è¯†ç»“æ„æ¼”åŒ–çœ‹ä»æ ‘åˆ°å›¾">ğŸŒŒ å››ã€ä»çŸ¥è¯†ç»“æ„æ¼”åŒ–çœ‹ï¼šä»ã€Œæ ‘ã€åˆ°ã€Œå›¾ã€</h2>

<p>æ•´ä¸ªä¿¡æ¯ç®¡ç†é¢†åŸŸï¼ˆæ–‡æ¡£ã€ä»£ç ã€æ•°æ®åº“ã€ç¬”è®°ï¼‰éƒ½åœ¨ç»å†åŒæ ·çš„ç»“æ„æ¼”å˜ï¼š</p>

<table>
  <thead>
    <tr>
      <th>é˜¶æ®µ</th>
      <th>ç»„ç»‡æ–¹å¼</th>
      <th>ä»£è¡¨</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1ï¸âƒ£ æ ‘ç»“æ„</td>
      <td>æ–‡ä»¶å¤¹ã€ç±»ç»§æ‰¿</td>
      <td>Python åŒ…ã€C++ å¤´æ–‡ä»¶</td>
    </tr>
    <tr>
      <td>2ï¸âƒ£ ç½‘æ ¼ç»“æ„</td>
      <td>import ä¾èµ–å›¾</td>
      <td>JS bundlerã€Rust crates</td>
    </tr>
    <tr>
      <td>3ï¸âƒ£ å›¾ç»“æ„</td>
      <td>tag + è¯­ä¹‰é“¾æ¥</td>
      <td>Obsidianã€Notion AIã€LlamaIndex</td>
    </tr>
    <tr>
      <td>4ï¸âƒ£ çŸ¥è¯†å±‚</td>
      <td>æ„å›¾ç´¢å¼•ã€è¯­ä¹‰æ¨¡å—</td>
      <td>æœªæ¥ IDE / CodeGraph</td>
    </tr>
  </tbody>
</table>

<p>ä»£ç ç»„ç»‡è¿Ÿæ—©ä¼šè·Ÿéšè¿™ä¸€è¶‹åŠ¿ã€‚
æ¢å¥è¯è¯´ï¼š<strong>tag-based ä»£ç ç»„ç»‡ä¸æ˜¯â€œå¼‚æƒ³å¤©å¼€â€ï¼Œè€Œæ˜¯æ–‡ä»¶ç³»ç»Ÿå¼ç¼–ç¨‹çš„ä¸‹ä¸€æ­¥è¿›åŒ–ã€‚</strong></p>

<hr />

<h2 id="-æœªæ¥å¯èƒ½çš„å½¢æ€">ğŸš€ æœªæ¥å¯èƒ½çš„å½¢æ€</h2>

<p>æœªæ¥ IDE æˆ–è¯­è¨€ç”Ÿæ€å¯èƒ½è¿™æ ·å·¥ä½œï¼š</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@tag</span><span class="p">(</span><span class="sh">"</span><span class="s">data</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">io</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">ml</span><span class="sh">"</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">load_dataset</span><span class="p">(...):</span> <span class="bp">...</span>

<span class="c1"># ç›´æ¥ç”¨è¯­ä¹‰æŸ¥è¯¢æˆ–å¯¼å…¥
</span><span class="kn">from</span> <span class="n">semantic</span> <span class="kn">import</span> <span class="n">tag</span> <span class="k">as</span> <span class="n">T</span>
<span class="n">data_utils</span> <span class="o">=</span> <span class="nc">T</span><span class="p">(</span><span class="sh">"</span><span class="s">data</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">io</span><span class="sh">"</span><span class="p">)</span>

<span class="n">data_utils</span><span class="p">.</span><span class="nf">load_dataset</span><span class="p">()</span>
</code></pre></div></div>

<p>æˆ–è€…ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import @data, @ml
</code></pre></div></div>

<p>è¿™ç§â€œtag ä½œä¸ºå¯¼å…¥å•å…ƒâ€çš„è¯­æ³•åœ¨ä¸€äº›ç ”ç©¶è¯­è¨€ï¼ˆå¦‚ Eveã€DarkLangã€Unisonï¼‰ä¸­å·²ç»å¼€å§‹å‡ºç°ã€‚</p>

<hr />

<h2 id="-æ€»ç»“åˆ¤æ–­">ğŸ”® æ€»ç»“åˆ¤æ–­</h2>

<table>
  <thead>
    <tr>
      <th>ç»´åº¦</th>
      <th>è¶‹åŠ¿</th>
      <th>ç°çŠ¶</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ç¼–ç¨‹è¯­è¨€</td>
      <td>å‘è¯­ä¹‰æ¨¡å—æ¼”åŒ–</td>
      <td>éœ€è¦ import hook æ”¯æŒ</td>
    </tr>
    <tr>
      <td>å·¥ç¨‹å®è·µ</td>
      <td>å‘å¤šç»´ç»„ç»‡æ¼”åŒ–</td>
      <td>tag ä½“ç³»åœ¨ CI/CD å·²æ™®éå­˜åœ¨</td>
    </tr>
    <tr>
      <td>AI è¾…åŠ©</td>
      <td>å¼ºçƒˆä¾èµ– tag åŒ–ä»£ç </td>
      <td>æ­£åœ¨å¿«é€Ÿæ¨è¿›</td>
    </tr>
    <tr>
      <td>IDE æ”¯æŒ</td>
      <td>æœªæ¥ç‰ˆæœ¬å°†å†…å»ºè¯­ä¹‰ç´¢å¼•</td>
      <td>åˆæ­¥é˜¶æ®µï¼ˆVSCode Semantic Indexï¼‰</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>âœ… <strong>ç»“è®º</strong>
æ˜¯çš„â€”â€”â€œtag åŒ–ä»£ç ç»„ç»‡â€éå¸¸å¯èƒ½æ˜¯æœªæ¥æ–¹å‘ï¼Œ
ä½†ä¸æ˜¯å–ä»£ç›®å½•ç»“æ„ï¼Œè€Œæ˜¯<strong>è¦†ç›–åœ¨å…¶ä¹‹ä¸Šçš„ä¸€å±‚è¯­ä¹‰ç´¢å¼•å±‚</strong>ã€‚
æ–‡ä»¶æ ‘ä»ç„¶å­˜åœ¨ï¼Œä½†å®ƒåªæ˜¯ç‰©ç†å®ç°ï¼Œ<strong>tag å±‚æ‰æ˜¯è¯­ä¹‰ç»„ç»‡çš„æ ¸å¿ƒã€‚</strong></p>
</blockquote>

<hr />

<p>å¦‚æœä½ æƒ³ï¼Œæˆ‘å¯ä»¥å¸®ä½ ç”»ä¸€å¼ ç¤ºæ„å›¾ï¼Œå±•ç¤ºâ€œä»ç›®å½•æ ‘ â†’ tag ç½‘ â†’ è¯­ä¹‰å›¾è°±â€çš„ä»£ç ç»„ç»‡æ¼”åŒ–è·¯å¾„ã€‚
æ˜¯å¦è¦æˆ‘ç”»ä¸€å¼ ï¼Ÿ</p>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;&quot;/docs/images/logo.svg&quot;, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil}</name><email>w.liuatnk@gmail.com</email></author><category term="code" /><category term="content" /><summary type="html"><![CDATA[éå¸¸å¥½çš„è¿½é—®ã€‚ ä½ çš„ç›´è§‰éå¸¸æ•é”â€”â€”â€œtag åŒ–ç»„ç»‡ä»£ç æ˜¯å¦ä¼šæˆä¸ºæœªæ¥æ–¹å‘â€ï¼Œç¡®å®æ˜¯è½¯ä»¶å·¥ç¨‹ç•Œæ­£åœ¨éšéšé è¿‘çš„ä¸€ç§è¶‹åŠ¿ï¼Œåªæ˜¯ç›®å‰è¿˜æ²¡æœ‰è¢«ä¸»æµç¼–ç¨‹è¯­è¨€ï¼ˆåŒ…æ‹¬ Pythonï¼‰å®Œå…¨æ¥çº³ã€‚]]></summary></entry><entry><title type="html">æœåŠ¡å™¨å‘é€æ¶ˆæ¯é€šçŸ¥</title><link href="https://roshameow.github.io//personal_homepage/tool/message/" rel="alternate" type="text/html" title="æœåŠ¡å™¨å‘é€æ¶ˆæ¯é€šçŸ¥" /><published>2025-10-23T00:00:00+00:00</published><updated>2025-11-04T08:24:00+00:00</updated><id>https://roshameow.github.io//personal_homepage/tool/message</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/tool/message/"><![CDATA[<p>å‘é€æ–‡å­—/è¡¨æ ¼/å›¾ç‰‡çš„æ··åˆæ¶ˆæ¯</p>

<ul>
  <li>é£ä¹¦: æ”¯æŒå¯Œæ–‡æœ¬å’Œå¡ç‰‡
    <ul>
      <li>æ™®é€šæ¶ˆæ¯</li>
      <li>æ¶ˆæ¯å¡ç‰‡
        <ul>
          <li>æ‰“å¼€Â <a href="https://open.feishu.cn/">é£ä¹¦å¼€æ”¾å¹³å°</a>ã€‚</li>
          <li>åœ¨ä¼ä¸šè‡ªå»ºåº”ç”¨, åˆ›å»ºæœºå™¨äºº
            <ul>
              <li>è·å¾—æœºå™¨äººçš„App ID, App Secret</li>
              <li>åœ¨æƒé™ç®¡ç†, ç»™æœºå™¨äººæ·»åŠ ä¸Šä¼ å›¾ç‰‡çš„æƒé™: <code class="language-plaintext highlighter-rouge">im:message</code>
                <ul>
                  <li>å›¾ç‰‡éœ€è¦å…ˆä¸Šä¼ åˆ°å¹³å°, åœ¨æ¶ˆæ¯é‡Œç”¨é“¾æ¥</li>
                  <li>æ¯æ¬¡tokenåªèƒ½ä¿å­˜ä¸¤ä¸ªå°æ—¶.</li>
                </ul>
              </li>
            </ul>
          </li>
          <li>åœ¨å¼€æ”¾å¹³å°çš„å¼€å‘æ–‡æ¡£é‡Œæœå‘é€å¡ç‰‡çš„å„ç§ç¤ºä¾‹
            <ul>
              <li>llmæ²¡æ³•çŸ¥é“ä¸“ç”¨æ ¼å¼. å¯èƒ½éœ€è¦å¯ä»¥ä¸Šç½‘çš„agent</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>é‚®ä»¶: æ”¯æŒhtmlæ¸²æŸ“
    <ul>
      <li>åœ¨gmailå¼€å¯ä¸¤æ­¥éªŒè¯, ç„¶åå¼€å¯ https://myaccount.google.com/apppasswords å°±å¯ä»¥</li>
    </ul>
  </li>
</ul>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;&quot;/docs/images/logo.svg&quot;, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil}</name><email>w.liuatnk@gmail.com</email></author><category term="tool" /><category term="content" /><summary type="html"><![CDATA[å‘é€æ–‡å­—/è¡¨æ ¼/å›¾ç‰‡çš„æ··åˆæ¶ˆæ¯]]></summary></entry><entry><title type="html">hashæ˜ å°„</title><link href="https://roshameow.github.io//personal_homepage/algorithm/alpha12/" rel="alternate" type="text/html" title="hashæ˜ å°„" /><published>2025-09-25T00:00:00+00:00</published><updated>2025-10-05T19:42:00+00:00</updated><id>https://roshameow.github.io//personal_homepage/algorithm/alpha12</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/algorithm/alpha12/"><![CDATA[<p>ä¼°ç®—alpha id å’Œä»€ä¹ˆæœ‰å…³</p>

<p>æœ‰äº›hashä¼šéå¸¸ç›¸ä¼¼. ç›®çš„, å¾—åˆ°alpha idçš„å…¨éƒ¨ç¼–ç ä¿¡æ¯: ç§’çº§çš„timestamp+machine id</p>

<p>44/s. 2640/min. 1w consultant. æ¯äººå›æµ‹100/ 5min.</p>

<p>44x3600x24/10000 = 380 æ¬¡/å¤©. è¿™å’Œå®é™…ç»“æœå¾ˆä¸ç¬¦åˆ.</p>

<p>1å¤©5w.</p>
<h3 id="å‡è®¾1">å‡è®¾1:</h3>

<table>
  <thead>
    <tr>
      <th>å¯èƒ½çš„æ–¹æ¡ˆ</th>
      <th>åšæ³•</th>
      <th>ç‰¹ç‚¹</th>
      <th>è¾“å…¥</th>
      <th>è¾“å‡º</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>å¯†ç </strong>å­¦hashå‡½æ•°<br />(SHA-256 / SHA-1 / MD5)</td>
      <td><strong>ç¢çº¸æœº</strong>:<br />â†’ ç”Ÿæˆå’Œè¾“å‡ºç›¸åŒçš„åˆå§‹å€¼<br />åŠ å…¥è¾“å…¥çš„å†…å®¹è¿›è¡Œå„ç§éçº¿æ€§æ··åˆ<br />é‡å¤å¤šæ¬¡</td>
      <td>1. ç›¸è¿‘çš„è¾“å…¥ä¼šè¾“å‡ºå®Œå…¨ä¸åŒçš„ç»“æœ<br />2. å¯ä»¥äººä¸ºåˆ¶é€ hashå†²çª</td>
      <td>ä»»æ„é•¿åº¦äºŒè¿›åˆ¶æ–‡æœ¬</td>
      <td>md5: 128bit/32hex<br />SHA-256: 256bit</td>
    </tr>
    <tr>
      <td>å¤šé¡¹å¼é™¤æ³•çš„<strong>æ ¡éªŒ</strong>ç <br />(CRC32)</td>
      <td>æŠŠè¾“å…¥çš„ä»»æ„é•¿åº¦çœ‹æˆ(mod2)å¤šé¡¹å¼$M(x)$<br />â†’ æŒ‡å®šç”Ÿæˆå¤šé¡¹å¼$G(x)$ <br />å¾—åˆ°è¾“å‡ºä¸º residue $R(x)$<br /><br />å®é™…ä¸­é€šè¿‡ç§»ä½+XORå®ç°</td>
      <td>1. å¸¸è§çš„å˜åŒ–, è¾“å‡ºå¯é¢„æµ‹<br />(å•æ¯”ç‰¹é”™ã€åŒæ¯”ç‰¹é”™ã€çªå‘é”™)</td>
      <td>ä»»æ„é•¿åº¦äºŒè¿›åˆ¶æ–‡æœ¬</td>
      <td>CRC32: 32bit/8hex<br /></td>
    </tr>
    <tr>
      <td>æ–‡æœ¬<strong>å»é‡</strong>, ç‰‡æ®µ<strong>åŒ¹é…</strong><br />Rolling Hash</td>
      <td>æŠŠå­—ç¬¦ä¸²çœ‹æˆBè¿›åˆ¶æ•´æ•°, å¯¹Må–residue</td>
      <td>1. è®¡ç®—æ–¹ä¾¿<br />2. æ ¹æ®hashèƒ½å¿«é€Ÿæ‰¾åˆ°ç›¸åŒå­—ä¸²<br />3. ä¸æ˜¯å¼ºæ ¡éªŒ, å†²çªå¸¸è§<br />4. ç›¸ä¼¼å­—ä¸²hashå·®åˆ«å¤§</td>
      <td>ä»»æ„é•¿åº¦å­—ç¬¦ä¸²</td>
      <td>æ•´æ•°</td>
    </tr>
    <tr>
      <td>ç›¸ä¼¼åº¦<strong>èšç±»</strong>(LSH)<br />(MinHash, SimHash)</td>
      <td>MinHash:<br />æå–æ–‡æœ¬ç‰¹å¾, æ˜ å°„æˆæ•´æ•°é›†åˆ<br />â†’ ç”¨nç»„éšæœºhashå‡½æ•°<br />$h(x)=ax+b(\mod P)$ å¯¹é›†åˆæ¯ä¸ªå…ƒç´ hash<br />æ¯ä¸ªhashå€¼å–hashæœ€å°å€¼<br /><br /><br /><br /></td>
      <td>1. æ¯”è¾ƒhashå€¼æœ‰å¤šå°‘ä½é‡å¤, <br />å°±èƒ½çŸ¥é“æ–‡æœ¬ä¸­æœ‰å¤šå°‘é‡å¤ç‰¹å¾<br />2. å¯ä»¥æŠŠæ•´æ•°åˆ†æˆband, <br />ç”¨äºLSH bucketing</td>
      <td>ä»»æ„å¤§å°æ•´æ•°é›†åˆ</td>
      <td>å–å†³äºç®—æ³•çš„è¶…å‚æ•°<br />n ä½ int vector<br /></td>
    </tr>
    <tr>
      <td>Â </td>
      <td>SimHash(PCAHash, Spectral Hash):<br />è¾“å…¥å‘é‡<br />â†’ç”¨nä¸ªæŠ•å½±å‘é‡<br />è®¡ç®—æŠ•å½±, äºŒè¿›åˆ¶åŒ–</td>
      <td>1. ç›¸ä¼¼çš„å‘é‡ä¼šä½¿hashå€¼ç›¸åŒä½æ•°å¤š,<br />ä»è€Œå¯ä»¥è¢«LSH bucketingå¬å›<br />2. è¿‡ç¨‹å’Œé€»è¾‘å›å½’ä¸€æ ·éƒ½æ˜¯çº¿æ€§+æ¿€æ´». <br />ç”¨é€»è¾‘å›å½’è®­ç»ƒ+é¢„æµ‹, <br />å‡†ç¡®ç‡åº”è¯¥é«˜äº0.5</td>
      <td>å›ºå®šé•¿åº¦å‘é‡</td>
      <td>n bit</td>
    </tr>
    <tr>
      <td>Â </td>
      <td>Â </td>
      <td>Â </td>
      <td>Â </td>
      <td>Â </td>
    </tr>
  </tbody>
</table>

<ul>
  <li>å‡è®¾1: ç”±pnl(é•¿2496ä½çš„float vector)ç¼–ç 
    <ul>
      <li>pnl æ˜¯</li>
    </ul>
  </li>
</ul>

<p>ç›¸åŒpnlä¸åŒuser -&gt; hashä¸åŒ
æ’é™¤è¿™ä¸ªå‡è®¾çš„åŸå› : ç”Ÿæˆä¸€ç³»åˆ—pnlå®Œå…¨ç›¸åŒçš„alpha, hashæœ‰äº›æ˜¯ç›¸ä¼¼ä½†ä¸åŒ, ä½†æœ‰äº›å®Œå…¨ä¸åŒ.</p>

<h3 id="å‡è®¾2">å‡è®¾2</h3>

<p>user idå’ŒhashåŒä¸º7ä½. æ˜¯å¦ç”¨xoråŠ å¯†. éªŒè¯.</p>

<p><code class="language-plaintext highlighter-rouge">hash_a ^ id_a == hash_b ^ id_b</code>Â ä¹ŸÂ <strong>ä¸æˆç«‹</strong></p>
<h3 id="å‡è®¾2-1">å‡è®¾2</h3>

<p>expression</p>
<ul>
  <li>ast clean</li>
</ul>

<p>æ’é™¤è¿™ä¸ªå‡è®¾çš„åŸå› : ä¸¤ä¸ªè¡¨è¾¾å¼å®Œå…¨ä¸ç›¸å…³çš„alpha, hashç›¸ä¼¼</p>
<ul>
  <li>çŒœæµ‹æ˜¯ä¸æ˜¯settings, è¡¨è¾¾å¼, user idçš„è”åˆç¼–ç .</li>
</ul>

<p>ç»Ÿè®¡é‡å¤çš„hashå‰ç¼€ä¸ªæ•°</p>
<h3 id="å‡è®¾3">å‡è®¾3</h3>

<p>æ—¶é—´</p>

<p>ç»Ÿè®¡ã€Œå‰ç¼€ â†’ æ—¶é—´ã€çš„å…³ç³»
æŠŠ dateCreated è½¬æˆç§’æˆ–åˆ†é’Ÿçº§çš„ æ—¶é—´æˆ³ã€‚
æŒ‰ hash å‰ç¼€åˆ†ç»„ï¼Œç®—æ—¶é—´æˆ³çš„ å‡å€¼ / åˆ†å¸ƒèŒƒå›´ã€‚
å¦‚æœã€Œç›¸åŒå‰ç¼€çš„æ—¶é—´éå¸¸æ¥è¿‘ã€ï¼Œè¯´æ˜å‰ç¼€å’Œæ—¶é—´ç›¸å…³</p>

<p>å‰ç¼€ä¸åˆ›å»ºæ—¶é—´çš„ç›¸å…³æ€§
å‡ºç°æ¬¡æ•°å¤šçš„å‰ç¼€é€šå¸¸é›†ä¸­åœ¨è¾ƒçŸ­æ—¶é—´åŒºé—´å†…ï¼ˆspan_sec ä¸å¤§ï¼‰ï¼Œè¯´æ˜ç›¸åŒå‰ç¼€çš„ ID å¯èƒ½æ˜¯åŒæ—¶ç”Ÿæˆçš„ã€‚
åè¿‡æ¥, å›ºå®šæ—¶é—´æ®µ, å‰ç¼€ä¹Ÿå›ºå®šåŒæ ·çš„44ç§. è·¨ç›¸é‚»æ—¶é—´æ®µ, å°±å˜æˆ88ç§.</p>

<p>è¿™éªŒè¯äº†ä½ ä¹‹å‰çš„çŒœæµ‹ï¼šhash å‰ç¼€å’Œ dateCreated æ—¶é—´æœ‰å…³ï¼ŒID çš„å‰ç¼€ä¸æ˜¯å®Œå…¨éšæœºï¼Œç”Ÿæˆç®—æ³•å¯èƒ½ä¼šå—æ—¶é—´å½±å“æˆ–æŒ‰æ‰¹æ¬¡ç”Ÿæˆ</p>

<p>å¯è§†åŒ–éªŒè¯
å¯ä»¥ç”»å‡º æ—¶é—´ vs hash å‰ç¼€ çš„æ•£ç‚¹å›¾</p>

<p>è¿™æ ·ä½ å°±èƒ½çœ‹åˆ°ï¼š
å‰ç¼€é•¿åº¦ä¸º 1 â†’ æœ‰å¤šå°‘ç§ä¸åŒå‰ç¼€
å‰ç¼€é•¿åº¦ä¸º 2 â†’ æœ‰å¤šå°‘ç§ä¸åŒå‰ç¼€
â€¦
ç›´åˆ° max_lenã€‚
ğŸ“ˆ å¦‚æœå‰ç¼€ç¡®å®å’Œæ—¶é—´å¼ºç›¸å…³ï¼Œä½ ä¼šçœ‹åˆ° å‰ç¼€é•¿åº¦å¢åŠ æ—¶ï¼Œå”¯ä¸€å‰ç¼€æ•°é‡æ¥è¿‘æ ·æœ¬æ•°ï¼ˆè¯´æ˜å‰ç¼€é€æ¸å”¯ä¸€åŒ–ï¼‰ã€‚</p>

<p>æ—¶é—´ä¸»å¯¼ï¼Œä½†æ¨ªå‘æœ‰å¹¶å‘å¸¦ è¿™å°±æ˜¯æˆ‘ç°åœ¨çœ‹åˆ°çš„æƒ…å†µ</p>

<p>åŒæ ·æ—¶é—´å¹³è¡Œå¸¦å¤§æ¦‚æœ‰44ä¸ªå·¦å³</p>

<p>æ­ªè·¯:
çŒœæµ‹prefixä¹‹é—´çš„å…³ç³». ğŸ‘ ä»ä½ çš„ç»“æœå¯ä»¥çœ‹å‡ºæ˜æ˜¾çš„è§„å¾‹ï¼š
mod 16
å¤§éƒ¨åˆ†å‰ç¼€è½åœ¨ [0,5,10,15,6,9,â€¦]ï¼Œé›†ä¸­åœ¨å°‘æ•°å‡ ä¸ªä½™æ•°ä¸Šã€‚
è¯´æ˜å‰ç¼€ä½ä½æ¯ 16 æœ‰ä¸€ä¸ªé—´éš”çš„è§„å¾‹ï¼Œä½†è¿˜æœ‰ä¸€äº›åç§»ï¼ˆå¯èƒ½æ˜¯å¹¶å‘å¸¦/éšæœºéƒ¨åˆ†ï¼‰ã€‚
mod 32
ä½™æ•°é›†ä¸­åœ¨ 16,0,10 ç­‰ä½ç½®ï¼Œè¯´æ˜ä½ä½æœ‰æ›´å¤§çš„åˆ†æ®µï¼Œä»ç„¶æœ‰å°‘é‡åˆ†æ•£ã€‚
mod 64
é›†ä¸­åœ¨ 16 å’Œå‡ ä¸ªå…¶ä»–ä½™æ•°ä¸Šï¼Œæ¯ä¸ªä½™æ•°å¯¹åº”å¤§æ¦‚ä¸€ç»„â€œå¹³è¡Œå¸¦â€ã€‚
è¿™éå¸¸å»åˆä½ è§‚å¯Ÿåˆ°çš„ â€œåŒä¸€æ—¶é—´å¹³è¡Œå¸¦å¤§æ¦‚ 44 ä¸ªå·¦å³â€ çš„ç°è±¡ã€‚
ä½ä½å–æ¨¡ 64 æ—¶ï¼Œå¯ä»¥æŠŠå¹¶å‘å¸¦åˆ†ç¦»å‡ºæ¥ã€‚
mod 128
æ›´å¤§æ¨¡æ•°å¼€å§‹æ˜¾å¾—ç¨€ç–ï¼Œä¸»è¦å‡ ä¸ªå€¼æœ‰é‡å¤ã€‚
è¯´æ˜å‰ç¼€çš„ä½ä½å¹¶æ²¡æœ‰å‡åŒ€åˆ†å¸ƒï¼Œè€Œæ˜¯æœ‰ç‰¹å®šåˆ†ç‰‡/å¹¶å‘æ§½çš„è§„å¾‹ã€‚</p>

<p><strong>æŒ‰ count æˆ– span_sec æ’åº</strong>ï¼Œé‚£å°±ç”¨Â <code class="language-plaintext highlighter-rouge">sort_values</code></p>

<p>åªç”¨åˆ°44ä¸ªå­—ç¬¦</p>

<p>ä¸ºä»€ä¹ˆé€‰æ‹©44å­—ç¬¦? å¯èƒ½æ˜¯URL-safe / visually unambiguous alphabet é˜²æ­¢æ··æ·† -&gt; I/L, O/0 æ²¡æœ‰è¿™ç§è§„å¾‹</p>

<p>æœ‰Â <strong>çº¯æ•°å­— + å¤§å†™</strong>ï¼š<code class="language-plaintext highlighter-rouge">0G, 1G, â€¦ 9G</code>. çŒœæµ‹ä¸åŒå¹³è¡Œå¸¦å¯èƒ½ç­‰è· -&gt; å›¾ä¸Šå°±èƒ½çœ‹å‡ºæ˜¯ä¸ªé”™è¯¯çŒœæµ‹</p>

<p>çŒœæµ‹åŒä¸€ç§æ··æ·†æ–¹å¼? æ²¡æ³•éªŒè¯</p>

<p>çŒœæµ‹é€šè¿‡å‡ºç°é¢‘ç‡è®¡ç®—æ··æ·†é¡ºåº -&gt; è¿™ç§æƒ³æ³•æ²¡æœ‰é“ç†</p>

<p>æŠŠå¹³è¡Œå¸¦åˆ†å¼€è®¡ç®—</p>

<ul>
  <li>å‘ç°hashå˜åŒ–æœ‰æ˜æ˜¾çš„å‘¨æœŸ,</li>
  <li>
    <p>ç”»å›¾</p>
  </li>
  <li>æ¨æµ‹BASE44çš„é¡ºåº
    <ul>
      <li>æ˜¯ç»Ÿä¸€çš„?
        <ul>
          <li>å¦‚æœæ˜¯ç»Ÿä¸€çš„, åº”è¯¥æ˜¯çœŸæ­£çš„è¿›ä½. ä½†æ˜¯åŒæ—¶å‡ºç°äº† 0N-&gt; 0x, PY -&gt; Px, pM-&gt;px æ‰€ä»¥æˆ‘çš„çŒœæµ‹åº”è¯¥ä¸å¯¹</li>
        </ul>
      </li>
      <li>è¿˜æ˜¯ä¸åŒbucket ä¸åŒ</li>
    </ul>
  </li>
  <li>æŒ‡æ•°å‡è®¾: <code class="language-plaintext highlighter-rouge">log(decoded-intercept) = log(A) + B * timestamp</code>
    <ul>
      <li>å›ºå®šinterceptçš„æƒ…å†µ</li>
      <li>expä¼˜åŒ–çš„è‡ªç”±åº¦å¤ªé«˜äº†. æ•°å€¼ç®—æ³•æ— æ³•æ”¶æ•›</li>
    </ul>
  </li>
</ul>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;&quot;/docs/images/logo.svg&quot;, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil}</name><email>w.liuatnk@gmail.com</email></author><category term="algorithm" /><category term="content" /><summary type="html"><![CDATA[ä¼°ç®—alpha id å’Œä»€ä¹ˆæœ‰å…³]]></summary></entry><entry><title type="html">pv è¡ç”Ÿæ•°æ®</title><link href="https://roshameow.github.io//personal_homepage/data/alpha11/" rel="alternate" type="text/html" title="pv è¡ç”Ÿæ•°æ®" /><published>2025-09-19T00:00:00+00:00</published><updated>2026-01-06T04:31:00+00:00</updated><id>https://roshameow.github.io//personal_homepage/data/alpha11</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/data/alpha11/"><![CDATA[<h2 id="pvæ•°æ®">pvæ•°æ®</h2>

<table>
  <thead>
    <tr>
      <th><strong>0é˜¶æ•°æ® (åŸå§‹)</strong></th>
      <th><strong>ä¸€é˜¶æ•°æ® (æ´¾ç”Ÿ)</strong></th>
      <th><strong>äºŒé˜¶æ•°æ® (é«˜é˜¶ç‰¹å¾ &amp; æŠ€æœ¯æŒ‡æ ‡)</strong></th>
      <th><strong>ä¸‰é˜¶æ•°æ® (ç»„åˆ/å› å­)</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>open</strong></td>
      <td>Â </td>
      <td><strong>cumret</strong>:<code class="language-plaintext highlighter-rouge">prod(1+returns)-1</code><br /><strong>excess_ret</strong>:<code class="language-plaintext highlighter-rouge">returns - rf</code><br /><strong>fear</strong>:<code class="language-plaintext highlighter-rouge">ts_mean(abs(returns - market_return)/(abs(returns)+abs(market_return)), 20)</code></td>
      <td><strong>liquidity-adjusted return</strong>:<code class="language-plaintext highlighter-rouge">returns / (1+Illiquidity)</code></td>
    </tr>
    <tr>
      <td><strong>close</strong></td>
      <td><strong>returns</strong>:<code class="language-plaintext highlighter-rouge">(close - close[-1]) / close[-1]</code><br />â€”<br /><strong>vwap</strong>:<code class="language-plaintext highlighter-rouge">sum(close*volume)/sum(volume)</code><br /></td>
      <td><strong>volatility</strong>:<code class="language-plaintext highlighter-rouge">ts_std(returns, 20)</code><br /><strong>RSI</strong>Â (relative strength index)<br /><strong>MACD</strong>Â (EMA_diff(close))<br /><strong>ROC</strong>:<code class="language-plaintext highlighter-rouge">(close_t/close_{t-n} - 1)</code></td>
      <td><strong>risk-adjusted momentum</strong>:<code class="language-plaintext highlighter-rouge">momentum / volatility</code></td>
    </tr>
    <tr>
      <td><strong>high</strong></td>
      <td>Â </td>
      <td><strong>maxdrawdown</strong>:<code class="language-plaintext highlighter-rouge">(peak(close) - trough(close)) / peak(close)</code><br /><strong>Williams %R</strong>:<code class="language-plaintext highlighter-rouge">(HH_n - close)/(HH_n-LL_n)</code></td>
      <td><strong>volume-adjusted maxdrawdown</strong>:<code class="language-plaintext highlighter-rouge">maxdrawdown / adv20</code></td>
    </tr>
    <tr>
      <td><strong>low</strong></td>
      <td><br /><br /></td>
      <td><strong>downside_vol</strong>:<code class="language-plaintext highlighter-rouge">ts_std(min(returns,0),20)</code><br /><strong>Stochastic %K/%D</strong>:<code class="language-plaintext highlighter-rouge">(close - LL_n)/(HH_n-LL_n)</code></td>
      <td><strong>reversal-risk</strong>:<code class="language-plaintext highlighter-rouge">(-returns(1m)) / downside_vol</code></td>
    </tr>
    <tr>
      <td><strong>volume</strong></td>
      <td><strong>adv20</strong>:<code class="language-plaintext highlighter-rouge">ts_mean(volume, 20)</code><br /><strong>log_volume</strong>:<code class="language-plaintext highlighter-rouge">log(volume)</code><br /><strong>volume_z</strong>:<code class="language-plaintext highlighter-rouge">(volume - mean(volume,20))/std</code></td>
      <td><strong>Illiquidity</strong>:<code class="language-plaintext highlighter-rouge">abs(returns) / volume</code><br /><strong>OBV</strong>Â (on-balance volume)<br /><strong>CMF</strong>Â (Chaikin money flow)</td>
      <td><strong>liquidity_momentum</strong>:<code class="language-plaintext highlighter-rouge">momentum * (-Illiquidity)</code></td>
    </tr>
    <tr>
      <td><strong>sharesout</strong></td>
      <td><strong>mkt_cap</strong>:<code class="language-plaintext highlighter-rouge">close * sharesout</code><br /><strong>turnover</strong>:<code class="language-plaintext highlighter-rouge">volume / sharesout</code><br /><strong>turn20</strong>:<code class="language-plaintext highlighter-rouge">ts_mean(turnover, 20)</code></td>
      <td><strong>size_effect</strong>:<code class="language-plaintext highlighter-rouge">log(mkt_cap)</code></td>
      <td><strong>scaled_turnover</strong>:<code class="language-plaintext highlighter-rouge">turnover / size_effect</code></td>
    </tr>
    <tr>
      <td><strong>vwap</strong></td>
      <td>Â </td>
      <td><strong>spread</strong>:<code class="language-plaintext highlighter-rouge">(high - low)/vwap</code><br /><strong>Amihud illiq</strong>:<code class="language-plaintext highlighter-rouge">ts_mean(abs(returns)/dollar_volume,20)</code></td>
      <td><strong>liquidity_volatility</strong>:<code class="language-plaintext highlighter-rouge">volatility * Amihud_illiq</code></td>
    </tr>
    <tr>
      <td><strong>dollar_vol</strong></td>
      <td><strong>dollar_volume</strong>:<code class="language-plaintext highlighter-rouge">close * volume</code></td>
      <td><strong>turnover_vol</strong>:<code class="language-plaintext highlighter-rouge">ts_std(turnover,20)</code></td>
      <td><strong>volume_volatility_ratio</strong>:<code class="language-plaintext highlighter-rouge">volatility / turnover_vol</code></td>
    </tr>
    <tr>
      <td><strong>ohlc</strong></td>
      <td><strong>hl_range</strong>:<code class="language-plaintext highlighter-rouge">(high - low)/close</code><br /><strong>oc_gap/overnight return</strong>:<code class="language-plaintext highlighter-rouge">(open - close[-1])/close[-1]</code></td>
      <td><strong>realized_vol</strong>:<code class="language-plaintext highlighter-rouge">sqrt(sum(log(high/low)^2 + log(close/open)^2 ... over window))</code></td>
      <td><strong>gap_volatility</strong>:<code class="language-plaintext highlighter-rouge">oc_gap / realized_vol</code></td>
    </tr>
    <tr>
      <td><strong>returns</strong></td>
      <td>Â </td>
      <td><strong>momentum</strong>:<code class="language-plaintext highlighter-rouge">ts_mean(returns, 12m)</code><br /><strong>reversal</strong>:<code class="language-plaintext highlighter-rouge">-returns(1m)</code></td>
      <td><strong>momentum_reversal</strong>:<code class="language-plaintext highlighter-rouge">momentum * reversal</code><strong>vol_mom</strong>:<code class="language-plaintext highlighter-rouge">momentum * (1/volatility)</code></td>
    </tr>
  </tbody>
</table>

<ul>
  <li>rsv(æœªæˆç†Ÿéšæœºå€¼) = (close - ts_min(low, n)) / (ts_max(high, n) - ts_min(low, n)) n=9</li>
</ul>

<p>å¯¹åº”å…³ç³»</p>
<ul>
  <li>cap = close x sharesout</li>
</ul>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;&quot;/docs/images/logo.svg&quot;, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil}</name><email>w.liuatnk@gmail.com</email></author><category term="data" /><category term="content" /><summary type="html"><![CDATA[pvæ•°æ®]]></summary></entry><entry><title type="html">nano-banana æ•ˆæœ: å¸¸ç”¨çš„ä½œå›¾åŠŸèƒ½</title><link href="https://roshameow.github.io//personal_homepage/photo/stable-diffusion10/" rel="alternate" type="text/html" title="nano-banana æ•ˆæœ: å¸¸ç”¨çš„ä½œå›¾åŠŸèƒ½" /><published>2025-09-02T00:00:00+00:00</published><updated>2025-09-17T12:56:00+00:00</updated><id>https://roshameow.github.io//personal_homepage/photo/stable-diffusion10</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/photo/stable-diffusion10/"><![CDATA[<p>æ¢èƒŒæ™¯(inpaint)</p>

<p>ä¿®æ”¹å±€éƒ¨</p>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;&quot;/docs/images/logo.svg&quot;, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil}</name><email>w.liuatnk@gmail.com</email></author><category term="photo" /><category term="content" /><summary type="html"><![CDATA[æ¢èƒŒæ™¯(inpaint)]]></summary></entry><entry><title type="html">macç³»ç»Ÿå­—å…¸</title><link href="https://roshameow.github.io//personal_homepage/tool/mac/dictionary/" rel="alternate" type="text/html" title="macç³»ç»Ÿå­—å…¸" /><published>2025-08-16T00:00:00+00:00</published><updated>2025-08-19T18:47:00+00:00</updated><id>https://roshameow.github.io//personal_homepage/tool/mac/dictionary</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/tool/mac/dictionary/"><![CDATA[<p>ç›®æ ‡æ˜¯æŠŠ MongoDB é‡Œå­˜æ”¾çš„æœ¯è¯­å’Œå®šä¹‰ï¼Œæ‰“åŒ…æˆå¯ä»¥åœ¨Â <strong>macOS è‡ªå¸¦â€œå­—å…¸â€åº”ç”¨</strong>ä¸­æŸ¥è¯¢çš„æœ¬åœ°è¯å…¸ã€‚</p>

<h2 id="æˆåŠŸæ­¥éª¤">æˆåŠŸæ­¥éª¤</h2>

<p>ç”¨è„šæœ¬å®ç°1-2-3æ­¥éª¤å³å¯. ä»£ç :  <a href="https://gist.github.com/roshameow/15d29ace410e296cdbd0da4c4531ba14#file-mongo_2_dictionary-py"><strong>mongo_2_dictionary.py</strong></a></p>

<ol>
  <li>æŠŠæ•°æ®è½¬æˆÂ <strong>Apple Dictionary æ”¯æŒçš„ TSV æ ¼å¼</strong>ã€‚
    <ul>
      <li>âš ï¸ é¿å‘ï¼šä¸è¦ç”¨Â <code class="language-plaintext highlighter-rouge">\t\n</code> , ç”¨Â <strong>HTML æ ‡ç­¾</strong>æ¥æ§åˆ¶æ’ç‰ˆï¼Œç”¨Â <code class="language-plaintext highlighter-rouge">&lt;div&gt;</code>Â è¡¨ç¤ºæ–°è¡Œï¼Œç”¨Â <code class="language-plaintext highlighter-rouge">&lt;br&gt;</code>Â æ¥åšåˆ†éš”ã€‚è¿™æ ·é¿å…äº†ç‰¹æ®Šå­—ç¬¦è¢«è¯¯è§£æã€‚</li>
    </ul>
  </li>
  <li>ç”¨ Â <a href="https://github.com/ilius/pyglossary">PyGlossary</a>Â æŠŠÂ <code class="language-plaintext highlighter-rouge">.tsv</code>Â è½¬æˆ AppleDict çš„æºæ–‡ä»¶ã€‚<code class="language-plaintext highlighter-rouge">pyglossary dictionary_dump.tsv output.dictionary --read-format=Tabfile --write-format=AppleDict</code>
    <ul>
      <li>âš ï¸ é¿å‘ï¼šä¸è¦ç”¨ CSV,  ä¸€å¼€å§‹æˆ‘è¯•è¿‡ CSVï¼Œä½† AppleDict çš„ç¼–è¯‘è„šæœ¬ä¼šç›´æ¥è§£æå¤±è´¥ã€‚</li>
    </ul>
  </li>
  <li>ç¼–è¯‘ Apple Dictionary
    <ul>
      <li>PyGlossary ä¼šç”Ÿæˆä¸€ä¸ªå­—å…¸ç›®å½•ï¼Œé‡Œé¢åŒ…å«ï¼š<code class="language-plaintext highlighter-rouge">.xml</code>Â æºæ–‡ä»¶,  <code class="language-plaintext highlighter-rouge">.css</code>Â æ ·å¼æ–‡ä»¶, <code class="language-plaintext highlighter-rouge">.plist</code>Â é…ç½®æ–‡ä»¶, <code class="language-plaintext highlighter-rouge">Makefile</code></li>
      <li>æ­£å¸¸æƒ…å†µä¸‹ï¼Œè¿›å…¥ç›®å½•ç›´æ¥è¿è¡Œï¼š<code class="language-plaintext highlighter-rouge">make ; make install</code></li>
    </ul>
  </li>
  <li>å®‰è£…å®Œæˆåï¼Œæ‰“å¼€ macOS è‡ªå¸¦çš„â€œå­—å…¸â€åº”ç”¨ï¼Œåœ¨setttingé‡Œå‹¾é€‰æ–°å­—å…¸ã€‚</li>
</ol>

<h2 id="å·¥å…·å’Œå‘ç‚¹æ€»ç»“">å·¥å…·å’Œå‘ç‚¹æ€»ç»“</h2>

<ul>
  <li><strong>éœ€è¦å®‰è£… Dictionary Development Kit (DDK)</strong>
    <ul>
      <li>æ®è¯´macOS æœ‰è‡ªå¸¦çš„Â <code class="language-plaintext highlighter-rouge">dictutil</code>Â æˆ‘æ²¡æœ‰æ‰¾åˆ°ã€‚</li>
      <li>DDK è¦å•ç‹¬å®‰è£…ï¼ˆXcode é™„å¸¦ï¼‰ã€‚</li>
    </ul>
  </li>
  <li><strong>ä¸è¦ç”¨ DDK å®˜æ–¹çš„Â <code class="language-plaintext highlighter-rouge">build_dict.sh</code></strong>, ç”¨ Â <a href="https://github.com/ilius/pyglossary">PyGlossary</a>Â ç”Ÿæˆ
    <ul>
      <li>è¿™ä¸ªè„šæœ¬é‡Œè°ƒç”¨çš„Â <code class="language-plaintext highlighter-rouge">make_line.pl</code>Â ï¼Œperl è„šæœ¬é‡Œæœ‰ bugã€‚æ— æ³•è§£å†³. xml æ ¼å¼ä¹Ÿéå¸¸è®¨åŒ</li>
    </ul>
  </li>
  <li><strong>æ ·å¼é™åˆ¶</strong>
    <ul>
      <li>Apple Dictionary å¯¹æ ‡é¢˜æ ·å¼æ˜¯å†™æ­»çš„ï¼Œæ²¡æ³•è‡ªå®šä¹‰ã€‚</li>
    </ul>
  </li>
  <li><strong>è°ƒè¯•</strong>
    <ul>
      <li>æˆ‘åœ¨è‡ªå·±æœ¬åœ°çš„devç‰ˆappä¸Šè°ƒè¯•, å‘ç°å­—å…¸ä¸æ˜¯å®æ—¶æ›´æ–°çš„, <strong>éœ€è¦é‡å¯ä¹‹åæ‰ä¼šåŠ è½½æ–°çš„</strong> (å¯èƒ½æ˜¯<code class="language-plaintext highlighter-rouge">DictionaryServices.framework</code> çš„è¡Œä¸ºç‰¹æ€§, æ¯ä¸ªappå•ç‹¬ä¸€ä¸ªç¼“å­˜, å­—å…¸ä¹Ÿåœ¨é‡Œé¢, ä¸ä¼šçƒ­æ›´æ–°)</li>
    </ul>
  </li>
</ul>

<h2 id="ç»“æœ">ç»“æœ</h2>

<p><img src="/personal_homepage/docs/attachment/Pasted%20image%2020250819114921.png" alt="Pasted image 20250819114921.png" width="300" /></p>

<ul>
  <li>æ•ˆæœå’Œå®˜æ–¹å­—å…¸å·®ä¸å¤š</li>
  <li>ä½†æ˜¯åœ¨ä¸€äº›ç½‘é¡µçš„åœ¨çº¿ä»£ç ç¼–è¾‘å™¨(å¯èƒ½ç”¨çš„æ˜¯è‡ªç»˜æ§ä»¶, è€Œä¸æ˜¯macosçš„Cocoaæ–‡æœ¬ç³»ç»Ÿ)å’Œå¾®ä¿¡(lookupè¢«è½¯ä»¶ç¦ç”¨)ä¸èƒ½ç”¨</li>
</ul>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;&quot;/docs/images/logo.svg&quot;, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil}</name><email>w.liuatnk@gmail.com</email></author><category term="tool" /><category term="mac" /><category term="content" /><summary type="html"><![CDATA[ç›®æ ‡æ˜¯æŠŠ MongoDB é‡Œå­˜æ”¾çš„æœ¯è¯­å’Œå®šä¹‰ï¼Œæ‰“åŒ…æˆå¯ä»¥åœ¨Â macOS è‡ªå¸¦â€œå­—å…¸â€åº”ç”¨ä¸­æŸ¥è¯¢çš„æœ¬åœ°è¯å…¸ã€‚]]></summary></entry><entry><title type="html">ä»£ç è¯­æ³•è§£æ</title><link href="https://roshameow.github.io//personal_homepage/code/algorithm/string/" rel="alternate" type="text/html" title="ä»£ç è¯­æ³•è§£æ" /><published>2025-08-10T00:00:00+00:00</published><updated>2025-09-12T17:50:00+00:00</updated><id>https://roshameow.github.io//personal_homepage/code/algorithm/string</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/code/algorithm/string/"><![CDATA[<h2 id="ä¸‰å…ƒè¿ç®—ç¬¦ternaryè§£æ">ä¸‰å…ƒè¿ç®—ç¬¦(ternary)è§£æ</h2>

<p>æŠŠ <code class="language-plaintext highlighter-rouge">...?...:...</code> å¤„ç†æˆ<code class="language-plaintext highlighter-rouge">if_else(...,...,...)</code> çš„å½¢å¼.</p>

<p>åˆè¡·æ˜¯ç”¨æ­£åˆ™æ›¿æ¢æŠŠå¯¹åº”DSLçš„operatorè½¬æ¢æˆpythonè¯­è¨€, ç„¶åç”¨pythonçš„ast ç›´æ¥è§£æ. ä½†æ˜¯ä¸‰å…ƒè¿ç®—ç¬¦çš„å¤„ç†æ¯”è¾ƒå¤æ‚, Python ä¸­å¹¶æ²¡æœ‰ç›´æ¥å¯¹åº”çš„è¯­æ³•ç»“æ„, å¯¼è‡´æ²¡æ³•ç®€å•çš„æ›¿æ¢.</p>

<p>å¯ä»¥æŠŠå­—ç¬¦ä¸²tokenè§£ææˆ<strong>AST çš„æ„å»ºè¿‡ç¨‹</strong>ç†è§£æˆâ€œå¯¹è¿ç®—ç¬¦æŒ‰ä¼˜å…ˆçº§æ’åºâ€çš„è¿‡ç¨‹.</p>

<table>
  <thead>
    <tr>
      <th>æ–¹æ³•</th>
      <th>ä¼˜ç¼ºç‚¹</th>
      <th>ç±»æ¯”æ’åºæ€è·¯</th>
      <th>å¹³å‡å¤æ‚åº¦</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ç”¨æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢ä¸‰å…ƒè¿ç®—ç¬¦</td>
      <td>æ€è·¯naive, ä½†æ˜¯å¯è¯»æ€§å·®ï¼Œéš¾ä»¥ç»´æŠ¤</td>
      <td>Â </td>
      <td>O(n logn)+kO(n)<br />å…¨å­—ç¬¦ä¸²æ‰«æ+é€’å½’</td>
    </tr>
    <tr>
      <td>è®¾è®¡è¯­æ³•æ ‘è§£æå™¨ï¼ˆParserï¼‰</td>
      <td>çµæ´»æ€§é«˜, ä½†å®ç°è¾ƒå¤æ‚</td>
      <td>é€‰æ‹©æ’åº</td>
      <td>O(n logn)<br />è¿‘ä¼¼äºŒåˆ†é€’å½’</td>
    </tr>
    <tr>
      <td>ç»“åˆ <a href="https://www.google.com/search?client=safari&amp;rls=en&amp;q=pratt+parser&amp;ie=UTF-8&amp;oe=UTF-8">Pratt Parser</a> ä¼˜åŒ–è§£æ</td>
      <td>ä»£ç ç®€æ´, å¯è¯»æ€§é«˜, æ‰©å±•æ€§å¥½</td>
      <td>æ’å…¥æ’åº/å †æ’åº</td>
      <td>O(n)<br />çº¿æ€§æ‰«æ</td>
    </tr>
  </tbody>
</table>

<h3 id="ç›´æ¥ç”¨å­—ç¬¦ä¸²æ›¿æ¢">ç›´æ¥ç”¨å­—ç¬¦ä¸²æ›¿æ¢</h3>

<ul>
  <li>ç”¨å­—ç¬¦ä¸²æ­£åˆ™æŸ¥æ‰¾tenaryå¹¶æ›¿æ¢</li>
  <li>é€’å½’å¤„ç†?: å’Œæ‹¬å·, =, é€—å·çš„å…³ç³»
    <ul>
      <li>å¤„ç† æ‹¬å·, é€—å· éƒ½ä¾èµ–æ ˆæ¥æ­£ç¡®å¤„ç†åµŒå¥—ç»“æ„</li>
    </ul>
  </li>
</ul>

<h3 id="å†™parserå¤„ç†">å†™parserå¤„ç†</h3>

<p>å¯ä»¥é€šè¿‡ç¼–å†™è‡ªå®šä¹‰çš„è§£æå™¨æ¥å¤„ç†ä¸‰å…ƒè¿ç®—ç¬¦ã€‚ä¸‹é¢æ˜¯ä¸€äº›å¤„ç†æµç¨‹ï¼š</p>
<ol>
  <li>å®šä¹‰:
    <ol>
      <li><strong>å®šä¹‰ AST èŠ‚ç‚¹</strong>ï¼šè®¾è®¡ä¸åŒç±»å‹çš„èŠ‚ç‚¹æ¥è¡¨ç¤ºè¡¨è¾¾å¼ï¼Œå¦‚å¸¸é‡ã€å˜é‡ã€è¿ç®—ç¬¦ç­‰ã€‚</li>
      <li><strong>Tokenize</strong>ï¼šå°†æºä»£ç å­—ç¬¦ä¸²åˆ†å‰²æˆ tokensï¼ˆä¾‹å¦‚ï¼šæ•°å­—ã€è¿ç®—ç¬¦ã€å­—ç¬¦ä¸²ç­‰ï¼‰ã€‚
        <ol>
          <li>ä¾‹å¦‚: ``a&lt;0.2?<code class="language-plaintext highlighter-rouge">Â â†’Â </code>[(â€œNAMEâ€,â€aâ€) (â€œOPâ€,â€&lt;â€) (â€œNUMBERâ€,â€0.2â€) (â€œQMARKâ€,â€?â€)]`</li>
        </ol>
      </li>
      <li><strong>å®šä¹‰ä¼˜å…ˆçº§</strong>: <strong>æ‰¾è¡¨è¾¾å¼ä¸­æœ€ä½çš„ä¼˜å…ˆçº§å¤„ç†</strong>.</li>
    </ol>
  </li>
  <li>å…·ä½“æµç¨‹:
    <ol>
      <li><strong>é¢„å¤„ç†ï¼ˆå­—ç¬¦ä¸²æ›¿æ¢/æ³¨é‡Š/å…³é”®å­—æ›¿æ¢ï¼‰</strong>
        <ul>
          <li>æŠŠwq expr ä¸­çš„<code class="language-plaintext highlighter-rouge">'...'</code>Â /Â <code class="language-plaintext highlighter-rouge">"..."</code> ç”¨å ä½ç¬¦æ›¿æ¢
            <ul>
              <li><code class="language-plaintext highlighter-rouge">ts_sum(group_zscore(a&lt;0.2? (a+0.7):(a&gt;0.9? a:0.9),bucket(rank(cap),range='0.1, 1, 0.1')),5) -&gt; ts_sum(group_zscore(a&lt;0.2? (a+0.7):(a&gt;0.9? a:0.9),bucket(rank(cap),range=__STR_CONST_0__)),5)</code></li>
            </ul>
          </li>
          <li>åšè‹¥å¹²æ–‡æœ¬æ›¿æ¢ï¼ˆor/and/not â†’ logical_or/logical_and/â€¦ã€â€“â†’+ã€NaNâ†’nan ç­‰ï¼‰ã€‚</li>
          <li>åˆ é™¤æ³¨é‡Šï¼ˆ/* â€¦ */ ä¸è¡Œæ³¨é‡Š // æˆ– #ï¼‰ã€‚</li>
          <li>æŒ‰åˆ†å· ; åˆ‡åˆ†æˆå¤šæ¡<strong>è¯­å¥</strong>ï¼Œé€æ¡ tokenize() â†’ parse_expr() â†’ to_python()ã€‚</li>
          <li>token åŒ–</li>
          <li>è‡ªé¡¶å‘ä¸‹é€’å½’è§£æï¼ˆèµ‹å€¼ â†’ ä¸‰å…ƒâ†’ äºŒå…ƒ<strong>æŒ‰æœ€ä½ precedence ä¸ºæ ¹</strong> â†’ åŸå­/å‡½æ•°/ä¸€å…ƒï¼‰</li>
        </ul>
      </li>
      <li><strong>è§£ææ¯å¥ä»£ç :</strong>
        <ul>
          <li>é¡¶å±‚èµ‹å€¼æ£€æµ‹
            <ul>
              <li>å»æ‰æœ€å¤–å±‚çš„åˆ†å·</li>
              <li>æ£€æŸ¥æœ€å¤–å±‚(ç”¨æ‹¬å·è®°å½•å±‚æ•°)çš„èµ‹å€¼Â <code class="language-plaintext highlighter-rouge">=</code>, æŠŠèµ‹å€¼è¯­å¥çš„å·¦å³ä¸¤ä¾§åˆ†å¼€.</li>
            </ul>
          </li>
          <li>ä¸‰å…ƒæ£€æµ‹
            <ul>
              <li>æ£€æŸ¥æœ€å¤–å±‚ ? çš„ç¬¬ä¸€ä¸ªä½ç½®ä½œä¸ºä¸‰å…ƒå…¥å£, å†ä»Â <code class="language-plaintext highlighter-rouge">?</code>Â åæ‰«æå¹¶æ‰¾åˆ°å¯¹åº”çš„æœ€å¤–å±‚Â <code class="language-plaintext highlighter-rouge">:</code>ï¼ˆdepth=0ï¼‰çš„ä½ç½®</li>
              <li>æ¯å½“é‡åˆ°æ‹¬å·è¦å‰¥å»æ‹¬å·é‡æ–°æ£€æµ‹ä¸‰å…ƒ</li>
            </ul>
          </li>
          <li>äºŒå…ƒæ£€æµ‹(binop)
            <ul>
              <li>æ£€æŸ¥æœ€å¤–å±‚ä¼˜å…ˆçº§æœ€ä½çš„op. ä¼˜å…ˆçº§ç›¸åŒ, å–æœ€å³è¾¹çš„opæ‹†åˆ†(å·¦ç»“åˆ)</li>
            </ul>
          </li>
          <li>ä¸€å…ƒæ£€æµ‹(atom):
            <ul>
              <li>æ£€æŸ¥ ä¸€å…ƒè¿ç®—ç¬¦(!, -) -&gt; å•tokenåŸå­(number, string, name) -&gt; function call -&gt; æ£€æŸ¥æ¯ä¸ªå‚æ•°</li>
            </ul>
          </li>
        </ul>
      </li>
      <li><strong>æ„å»º AST</strong>
        <ul>
          <li>é€’å½’ç”Ÿæˆ Python ä»£ç : å¯¹ä¸åŒèŠ‚ç‚¹åˆ†åˆ«å¤„ç†</li>
          <li>è¿˜åŸå­—ç¬¦ä¸²å¹¶è¾“å‡º</li>
          <li>æ¯æ¡è¯­å¥ç”Ÿæˆçš„ Python ç‰‡æ®µå†è¿˜åŸå­—ç¬¦ä¸²å¸¸é‡å ä½ç¬¦.</li>
        </ul>
      </li>
      <li><strong>æ”¶é›†æ‰€æœ‰å¤„ç†è¿‡çš„</strong>è¯­å¥<strong>å¹¶æœ€ç»ˆç”¨ \n æ‹¼æ¥è¿”å›</strong></li>
    </ol>
  </li>
</ol>

<ul>
  <li>âš ï¸ æ³¨æ„ç‚¹: astè§£æ<strong>ä¸€å®šè¦æ³¨æ„ä»£ç çš„è¦†ç›–ç‡. ä¿è¯ä¸ä¼šå‡ºç°ä¸è®¤è¯†çš„token, operator, åˆ†æ”¯æƒ…å†µ</strong>.</li>
</ul>

<h3 id="parseä¼˜åŒ–">parseä¼˜åŒ–</h3>

<h4 id="tokenä¼˜åŒ–">tokenä¼˜åŒ–</h4>

<p>æŠŠé¢„å¤„ç†æ­¥éª¤å†…åŒ–åˆ°tokenä¸­ç»Ÿä¸€å¤„ç†.</p>
<h4 id="prattä¼˜åŒ–">prattä¼˜åŒ–</h4>

<p>Pratt parser å…¶å®æ˜¯Â <strong>è‡ªé¡¶å‘ä¸‹é€’å½’ä¸‹é™è§£æå™¨</strong>çš„ä¸€ç§ä¼˜åŒ–æ–¹å¼: ä¸æ˜¯ä»æœ€ä½ä¼˜å…ˆçº§çš„å­—ç¬¦å¼€å§‹, è€Œæ˜¯éšç€è§£æä»å·¦å¾€å³åŠ¨æ€çš„æ„å»ºast.</p>

<ul>
  <li>æ¯ä¸ªtokené™¤äº†ä¼˜å…ˆçº§å¤–, å®šä¹‰ä¸¤ä¸ªæ–¹æ³•: (nudå’Œled)
    <ul>
      <li>nud(null denotation, å‰åº) å½“tokenå‡ºç°åœ¨è¡¨è¾¾å¼å¼€å¤´æ—¶</li>
      <li>led(left denotation, ä¸­åº) å½“ token å‡ºç°åœ¨Â <strong>è¡¨è¾¾å¼ä¸­é—´</strong>ï¼ˆå·¦è¾¹æœ‰ä¸œè¥¿ï¼‰æ—¶è°ƒç”¨</li>
    </ul>
  </li>
</ul>

<p>ä¸‹é¢æ˜¯ä¸€ä¸ªDSLå¯¹åº”çš„tokenè¡Œä¸ºè¡¨æ ¼.</p>

<table>
  <thead>
    <tr>
      <th>Token/æ“ä½œç¬¦</th>
      <th>è¿›å…¥ nud / led</th>
      <th>è§¦å‘æ¡ä»¶</th>
      <th>åŠ¨ä½œæè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>NUMBER</strong></td>
      <td>nud</td>
      <td>token ç±»å‹æ˜¯Â <code class="language-plaintext highlighter-rouge">"NUMBER"</code></td>
      <td>- è‹¥å…¨æ˜¯æ•°å­— â†’Â <code class="language-plaintext highlighter-rouge">Const(int)</code><br />- å¦åˆ™ â†’Â <code class="language-plaintext highlighter-rouge">Const(float)</code></td>
    </tr>
    <tr>
      <td><strong>STRING</strong></td>
      <td>nud</td>
      <td>token ç±»å‹æ˜¯Â <code class="language-plaintext highlighter-rouge">"STRING"</code></td>
      <td>æ„é€ Â <code class="language-plaintext highlighter-rouge">Const(str)</code>ï¼Œå»æ‰å¼•å·</td>
    </tr>
    <tr>
      <td><strong>NAME(å˜é‡)</strong></td>
      <td>nud</td>
      <td>token ç±»å‹æ˜¯Â <code class="language-plaintext highlighter-rouge">"NAME"</code><br />ä¸” peekä¸æ˜¯<code class="language-plaintext highlighter-rouge">(</code></td>
      <td>è¿”å›Â <code class="language-plaintext highlighter-rouge">Name</code></td>
    </tr>
    <tr>
      <td><strong>NAME (è°ƒç”¨)</strong></td>
      <td>nud</td>
      <td>token ç±»å‹æ˜¯Â <code class="language-plaintext highlighter-rouge">"NAME"</code>Â ä¸” peek=<code class="language-plaintext highlighter-rouge">(</code><br /><br />Â <strong>å‡½æ•°è°ƒç”¨</strong></td>
      <td>- æ¶ˆè´¹Â <code class="language-plaintext highlighter-rouge">(</code>Â â†’ è§£æå‚æ•°åˆ—è¡¨<br />- å‚æ•°æ”¯æŒå…³é”®å­—ï¼š<code class="language-plaintext highlighter-rouge">key = value</code><br />- é‡åˆ°Â <code class="language-plaintext highlighter-rouge">,</code>Â ç»§ç»­ï¼Œå¦åˆ™ç»“æŸ<br />- æ¶ˆè´¹Â <code class="language-plaintext highlighter-rouge">)</code>Â <br />â†’ è¿”å›Â <code class="language-plaintext highlighter-rouge">Call(Name, args)</code></td>
    </tr>
    <tr>
      <td><strong>LPAREN</strong></td>
      <td>nud</td>
      <td>å½“å‰ token =Â <code class="language-plaintext highlighter-rouge">(</code><br /><br /><a href="#ref">3</a></td>
      <td>- è¿›å…¥å­è¡¨è¾¾å¼è§£æï¼ˆ<code class="language-plaintext highlighter-rouge">rbp=-1000</code>ï¼‰<br />- å¿…é¡»é‡åˆ°Â <code class="language-plaintext highlighter-rouge">)</code>Â ç»“æŸ<br />- è¿”å›å­æ ‘</td>
    </tr>
    <tr>
      <td><strong>+ / - (unary)</strong></td>
      <td>nud</td>
      <td>token=OP ä¸”å€¼ä¸ºÂ <code class="language-plaintext highlighter-rouge">+/-</code>ï¼Œåœ¨å‰ç¼€ä½ç½®</td>
      <td>ä»¥Â <code class="language-plaintext highlighter-rouge">get_prec("U+/-")</code>Â ä¸º rbp é€’å½’è§£æå³æ“ä½œæ•° <br />â†’Â <code class="language-plaintext highlighter-rouge">UnaryOp</code></td>
    </tr>
    <tr>
      <td><strong>! (unary not)</strong></td>
      <td>nud</td>
      <td>token=OP ä¸”å€¼ä¸ºÂ <code class="language-plaintext highlighter-rouge">!</code></td>
      <td>ä»¥Â <code class="language-plaintext highlighter-rouge">get_prec("!")</code>Â ä¸º rbp é€’å½’è§£æå³æ“ä½œæ•° <br />â†’Â <code class="language-plaintext highlighter-rouge">UnaryOp("!", expr)</code></td>
    </tr>
    <tr>
      <td><strong>QMARK (?)</strong></td>
      <td>led</td>
      <td>peek =Â <code class="language-plaintext highlighter-rouge">QMARK</code>Â <br />ä¸”Â <code class="language-plaintext highlighter-rouge">TERNARY_PREC &gt; rbp</code></td>
      <td>- æ¶ˆè´¹Â <code class="language-plaintext highlighter-rouge">?</code><br />- è§£æ true_part (<code class="language-plaintext highlighter-rouge">rbp=TERNARY_PREC</code>)<br />- æœŸæœ›Â <code class="language-plaintext highlighter-rouge">:</code><br />- è§£æ false_part (<code class="language-plaintext highlighter-rouge">rbp=TERNARY_PREC</code>)<br />- æ„é€ Â <code class="language-plaintext highlighter-rouge">Ternary(left, true, false)</code></td>
    </tr>
    <tr>
      <td><strong>äºŒå…ƒè¿ç®—ç¬¦</strong> <br />(å¦‚ <code class="language-plaintext highlighter-rouge">+ - * / ^ &lt; &gt; == != &amp;&amp;</code>)</td>
      <td>led</td>
      <td><code class="language-plaintext highlighter-rouge">peek</code>Â å‘ç°ä¸‹ä¸€ä¸ª token æ˜¯æ“ä½œç¬¦ (<code class="language-plaintext highlighter-rouge">OP</code>)ï¼Œ<br />å¹¶ä¸”è¯¥æ“ä½œç¬¦çš„ä¼˜å…ˆçº§<br /><code class="language-plaintext highlighter-rouge">lbp &gt; rbp</code> <a href="#ref">1</a> <a href="#ref">2</a> <br /></td>
      <td>- æ¶ˆè´¹å½“å‰æ“ä½œç¬¦ï¼ˆopï¼‰<br />- ç»“åˆæ€§å¤„ç†ï¼š<br />   å¦‚æœæ“ä½œç¬¦æ˜¯å·¦ç»“åˆï¼ˆé»˜è®¤æƒ…å†µï¼‰ï¼Œåˆ™ next_rbp = lbpï¼›<br />   å¦‚æœæ“ä½œç¬¦æ˜¯å³ç»“åˆï¼ˆå¦‚ =ã€^ï¼‰ï¼Œåˆ™ next_rbp = lbp - 0.0001ï¼ˆè½»å¾®è°ƒæ•´ä¼˜å…ˆçº§, ä¸ºäº†é‡åˆ°ç›¸åŒçš„è¿ç®—ç¬¦æ—¶ç»§ç»­è§£æï¼‰<br />- é€’å½’è°ƒç”¨ parse_expression(next_rbp) æ¥è§£æå³æ“ä½œæ•°ï¼ˆrightï¼‰<br />- ç”Ÿæˆ BinOp(left, op, right) èŠ‚ç‚¹</td>
    </tr>
    <tr>
      <td><strong>LPAREN (å‡½æ•°è°ƒç”¨)</strong><br /><br /></td>
      <td>led</td>
      <td>peek =Â <code class="language-plaintext highlighter-rouge">(</code><br /><a href="#ref">3</a><br />æ”¯æŒ<strong>æ›´ä¸€èˆ¬åŒ–çš„å‡½æ•°è°ƒç”¨</strong>. <br />æ¯”å¦‚, <br />(a+b)(x)ã€foo()(x) è¿™ç§é«˜é˜¶è°ƒç”¨</td>
      <td>- æ¶ˆè´¹Â <code class="language-plaintext highlighter-rouge">(</code>Â â†’ è§£æå‚æ•°åˆ—è¡¨<br />- å‚æ•°ä½¿ç”¨Â <code class="language-plaintext highlighter-rouge">parse_expression(rbp=-1000)</code><br />-Â <code class="language-plaintext highlighter-rouge">,</code>Â åˆ†éš”ï¼Œç›´åˆ°é‡åˆ°Â <code class="language-plaintext highlighter-rouge">)</code><br />- æ„é€ Â <code class="language-plaintext highlighter-rouge">Call(left, args)</code></td>
    </tr>
  </tbody>
</table>

<p>è¡¨æ ¼è§£é‡Š $\downarrow$ :</p>

<p><span id="ref"></span></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">lbp</code>ï¼ˆleft binding precedence, å·¦æ“ä½œæ•°ç»‘å®šä¼˜å…ˆçº§, å½“å‰opçš„ä¼˜å…ˆçº§ï¼‰, <code class="language-plaintext highlighter-rouge">rbp</code> (å³æ“ä½œç¬¦ç»‘å®šä¼˜å…ˆçº§, ä¸Šä¸€ä¸ªopçš„ä¼˜å…ˆçº§)
    <ul>
      <li>å½“ä¸‹ä¸€ä¸ªopä¼˜å…ˆçº§æ›´é«˜æ—¶, astä¼šä¸æ–­åŠ æ·±. å½“ä¸‹ä¸€ä¸ªopä¼˜å…ˆçº§ä¸è¶³æ—¶, astä¼šä»åº•å‘ä¸Šç›´åˆ°æ‰¾åˆ°åˆé€‚çš„ä½ç½®æ·»åŠ </li>
      <li>æ¯”å¦‚ a = b = c, åœ¨ç¬¬äºŒä¸ªç­‰å·å¤„, æŠŠç¬¬ä¸€ä¸ªç­‰å·çš„ä¼˜å…ˆçº§ç¨ç¨é™ä½, ä¿è¯å³ä¾§çš„ä¼˜å…ˆçº§æ›´é«˜. è§£æä¸º a = (b = c)</li>
      <li>æ‹¬å·æ€»æ˜¯æœ€ä¼˜å…ˆçš„, ç›´æ¥æŠŠrdpé™åˆ°æœ€ä½</li>
    </ul>
  </li>
</ul>

<p>a + b x c -d: 
<img src="/personal_homepage/docs/attachment/Pasted%20image%2020250912052333.png" alt="Pasted image 20250912052333.png" width="800" /></p>

<p>a = b = c:</p>

<p><img src="/personal_homepage/docs/attachment/Pasted%20image%2020250912052438.png" alt="Pasted image 20250912052438.png" width="300" /></p>

<h3 id="ä»£ç ">ä»£ç </h3>

<ul>
  <li><a href="https://gist.github.com/roshameow/01c0191fae3c534050fa6ab076640549#file-replace_ternary-py"><strong>replace_ternary.py</strong></a></li>
  <li><a href="https://gist.github.com/roshameow/01c0191fae3c534050fa6ab076640549#file-parser-py"><strong>parser.py</strong></a></li>
  <li><a href="https://gist.github.com/roshameow/01c0191fae3c534050fa6ab076640549#file-pratt_parser-py"><strong>pratt_parser.py</strong></a></li>
</ul>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;&quot;/docs/images/logo.svg&quot;, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil}</name><email>w.liuatnk@gmail.com</email></author><category term="code" /><category term="algorithm" /><category term="content" /><category term="ast" /><category term="string" /><category term="regularization" /><category term="parser" /><category term="pratt" /><category term="ternary" /><category term="python" /><category term="dsl" /><summary type="html"><![CDATA[ä¸‰å…ƒè¿ç®—ç¬¦(ternary)è§£æ]]></summary></entry></feed>