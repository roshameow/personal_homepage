<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.3.3">Jekyll</generator><link href="https://roshameow.github.io//personal_homepage/atom.xml" rel="self" type="application/atom+xml" /><link href="https://roshameow.github.io//personal_homepage/" rel="alternate" type="text/html" /><updated>2024-03-12T03:17:51+00:00</updated><id>https://roshameow.github.io//personal_homepage/atom.xml</id><title type="html">Liu, Wenâ€™s Home Page</title><subtitle>Work, Experiments and Ideas.</subtitle><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><entry><title type="html">blenderå­¦ä¹ : é•œå¤´æ¨ç§»</title><link href="https://roshameow.github.io//personal_homepage/docs/blender/blender-learning9/" rel="alternate" type="text/html" title="blenderå­¦ä¹ : é•œå¤´æ¨ç§»" /><published>2024-03-12T00:00:00+00:00</published><updated>2024-03-12T15:32:52+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/blender/blender-learning9</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/blender/blender-learning9/"><![CDATA[<h2 id="å‰å‘æ¨é•œå¤´">å‰å‘æ¨é•œå¤´</h2>

<p>å‚è€ƒ<a href="https://www.xiaohongshu.com/explore/65a2ce0a000000001d037212">è¿™ä¸ªæ•™å­¦è§†é¢‘</a>, ç”¨array modifierå¤åˆ¶å¤šä¸ªæ¨¡å‹ , å¾—åˆ°ä¸€ç§ç©¿æ¢­æ•ˆæœ</p>

<p><img src="/personal_homepage/docs/attachment/camera_move.mp4" alt="camera_move.mp4" width="300" /></p>

<h2 id="æ¨¡å‹èµ„æº">æ¨¡å‹èµ„æº</h2>

<p>[1] https://sketchfab.com/feed</p>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="blender" /><category term="content" /><category term="camera" /><summary type="html"><![CDATA[å‰å‘æ¨é•œå¤´]]></summary></entry><entry><title type="html">blenderå­¦ä¹ : åšæµå…‰æ•ˆæœ</title><link href="https://roshameow.github.io//personal_homepage/docs/blender/blender-learning8/" rel="alternate" type="text/html" title="blenderå­¦ä¹ : åšæµå…‰æ•ˆæœ" /><published>2024-03-11T00:00:00+00:00</published><updated>2024-03-12T14:17:26+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/blender/blender-learning8</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/blender/blender-learning8/"><![CDATA[<p>ç”¨é‡‘å±æè´¨åå°„worldèƒŒæ™¯çš„æµåŠ¨</p>
<h3 id="æ­¥éª¤">æ­¥éª¤:</h3>

<p>å‚è€ƒ<a href="https://www.bilibili.com/video/BV1Ny421q7HM/">è¿™ä¸ªæ•™å­¦è§†é¢‘</a></p>
<ul>
  <li>åˆ¶ä½œç‰©ä½“:
    <ul>
      <li>æ·»åŠ curve</li>
      <li>è°ƒæ•´Data-&gt;Geometry-&gt;Bevel(å€’è§’)-&gt;Round-&gt; Depth: æŠŠæ›²çº¿å˜æˆè½¯ç®¡</li>
      <li>åŠ modifier-&gt;subdivisor</li>
    </ul>
  </li>
  <li>shader:
    <ul>
      <li>object: ç”¨principled BSDF, æŠŠmetallicè°ƒåˆ°1, roughness è°ƒæ•´åˆ°0.1</li>
      <li>world:
        <ul>
          <li>åœ¨backgroundæ·»åŠ æµåŠ¨æè´¨
            <ul>
              <li>è®¾ç½®<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/input/texture_coordinate.html">texture Coordinate</a>  generate-&gt;Mapping(Y=#frame/40)-&gt;backgroundå›¾ç‰‡</li>
            </ul>
          </li>
          <li>å¾—åˆ°é»‘è‰²èƒŒæ™¯
            <ul>
              <li>æ·»åŠ ä¸€ä¸ªé»‘è‰²èƒŒæ™¯, <a href="https://blenderartists.org/t/why-use-is-camera-ray-in-the-world/650625/3">ç”¨Light Pathçš„Is Camera Rayæ§åˆ¶æ··åˆ</a> : èƒŒæ™¯å’Œç‰©ä½“åˆ†å¼€çš„åŸç†?</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>light: æ”¹æˆsun, ç»™ç‰©ä½“å¢åŠ åå…‰</li>
  <li>ç»“æœ:
    <ul>
      <li><img src="/personal_homepage/docs/attachment/color_change.mp4" alt="color_change.mp4" width="300" /></li>
    </ul>
  </li>
</ul>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="blender" /><category term="content" /><category term="shader" /><category term="curve" /><summary type="html"><![CDATA[ç”¨é‡‘å±æè´¨åå°„worldèƒŒæ™¯çš„æµåŠ¨ æ­¥éª¤:]]></summary></entry><entry><title type="html">attentionçš„ä¼˜åŒ–</title><link href="https://roshameow.github.io//personal_homepage/docs/attention2/" rel="alternate" type="text/html" title="attentionçš„ä¼˜åŒ–" /><published>2024-03-09T00:00:00+00:00</published><updated>2024-03-11T23:17:24+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/attention2</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/attention2/"><![CDATA[<h3 id="gaugated-attention-unit">GAU(gated attention unit)</h3>

<p>self-attentionåšä¸ºweight, convåšä¸ºå˜æ¢</p>

<h3 id="ssmstate-space-model">SSM(state space model)</h3>

<p><a href="https://en.wikipedia.org/wiki/State-space_representation">çŠ¶æ€ç©ºé—´</a> çš„è¡¨ç¤º: ç”¨inputæ›´æ–°çŠ¶æ€, ç”¨çŠ¶æ€ç”Ÿæˆoutput</p>

<h3 id="linear-attention">Linear attention</h3>

<h3 id="s4structured-state-space-sequence-ç»“æ„">S4(Structured state space sequence) ç»“æ„</h3>
<h3 id="h3hungry-hungry-hippos-ç»“æ„">H3(Hungry Hungry Hippos) ç»“æ„</h3>

<h3 id="mamba">Mamba</h3>

<h3 id="retnet">RetNet</h3>

<h3 id="rwkv">RWKV</h3>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="content" /><summary type="html"><![CDATA[GAU(gated attention unit)]]></summary></entry><entry><title type="html">blenderå­¦ä¹ : åšå¡é€šæè¾¹</title><link href="https://roshameow.github.io//personal_homepage/docs/blender/blender-learning7/" rel="alternate" type="text/html" title="blenderå­¦ä¹ : åšå¡é€šæè¾¹" /><published>2024-03-06T00:00:00+00:00</published><updated>2024-03-07T20:14:23+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/blender/blender-learning7</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/blender/blender-learning7/"><![CDATA[<h2 id="ç”¨solidifyèƒŒé¢å‰”é™¤æ³•çº¿ç¿»è½¬">ç”¨solidify+èƒŒé¢å‰”é™¤+æ³•çº¿ç¿»è½¬</h2>

<p>ç»™meshå¢åŠ åšåº¦, è®©æè¾¹æè´¨åªåœ¨åšåº¦è¾¹ç¼˜ç”Ÿæ•ˆ</p>
<h3 id="æ­¥éª¤">æ­¥éª¤:</h3>

<p>å‚è€ƒ<a href="https://www.bilibili.com/video/BV1Ju4y197yk">è¿™ä¸ªæ•™å­¦è§†é¢‘</a></p>

<ul>
  <li>shader:
    <ul>
      <li>é€‰æ‹©ä¸€ä¸ªä¸»materialçš„æ•ˆæœ(Slot 1): ç”¨Diffuse BSDF-&gt;shader to RGB-&gt;Color Ramp-&gt;Emission</li>
      <li>æ·»åŠ ä¸€ä¸ªæè¾¹æè´¨(Slot 2): ç”¨Emission, é€‰æ‹©æˆ‘ä»¬æè¾¹çš„é¢œè‰²
        <ul>
          <li>å¯¹è¿™ä¸ªæè´¨å¼€å¯Backface Culling(èƒŒé¢å‰”é™¤)</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>åœ¨Modifieræ·»åŠ <a href="https://docs.blender.org/manual/en/latest/modeling/modifiers/generate/solidify.html">solidify</a>: ç»™meshè¡¨é¢å¢åŠ åšåº¦
    <ul>
      <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240307120524.png" alt="Pasted image 20240307120524.png" width="100" /> <img src="/personal_homepage/docs/attachment/Pasted%20image%2020240307120542.png" alt="Pasted image 20240307120542.png" width="110" /></li>
      <li>è°ƒæ•´thickness=-0.02m
        <ul>
          <li>offseté»˜è®¤æ˜¯-1, è¦è®©thicknesså’ŒoffsetåŒæ–¹å‘(è®©å¢åŠ çš„åšåº¦meshæœå¤–å‡¸)</li>
        </ul>
      </li>
      <li>Materials-&gt;Material Offset=1 :è®©solidifyçš„åšåº¦meshé‡‡ç”¨æˆ‘ä»¬çš„æè¾¹æè´¨, å³ä¸‹ä¸€ä¸ªslotçš„material</li>
      <li>å¼€å¯Normals-&gt;flip: è®©é¢œè‰²ä¸Šåˆ°åšåº¦meshçš„å†…è¡¨é¢</li>
    </ul>
  </li>
  <li>ç»“æœ: å¯¹ä¸‰ç»´çš„æ¨¡å‹æè¾¹æœ‰ç§æ–°é²œçš„è§‚æ„Ÿ.
    <ul>
      <li><img src="/personal_homepage/docs/attachment/stoke.mp4" alt="stoke.mp4" width="300" /></li>
      <li>æè¾¹çš„å‰ææ˜¯æå–è¾¹ç¼˜. å¦‚æœæ˜¯äºŒç»´å›¾åƒæœ‰å¾ˆå¤šåšæ³•, æ¯”å¦‚è‡ªåŠ¨æå–å›¾åƒçš„è¾¹ç¼˜åˆå¹¶. å¯¹äºæˆ‘ä»¬è‡ªå·±å»ºçš„æ¨¡å‹å½“ç„¶ä¹Ÿæœ‰åŠæ³•æå–è¾¹ç¼˜. ä½†æ˜¯å¦‚æœå…¶ä»–æ–¹å¼å¾—åˆ°çš„æ¨¡å‹(æ¯”å¦‚æ‰«æå¾—åˆ°çš„æ¨¡å‹), æˆ‘ä»¬æ€ä¹ˆè¯†åˆ«è¾¹ç¼˜, ç„¶åeditå‘¢?</li>
    </ul>
  </li>
</ul>

<h2 id="blenderä½¿ç”¨æŠ€å·§">blenderä½¿ç”¨æŠ€å·§</h2>

<ul>
  <li>å¤åˆ¶materialå’Œmodifier:
    <ul>
      <li>æŒ‰<a href="https://blender.stackexchange.com/questions/7044/copy-material-to-another-object">è¿™ä¸ªæ–¹æ³•</a> å¯ä»¥å¤åˆ¶åˆ°å…¨éƒ¨, ä½†æ˜¯æ²¡æ³•é€‰æ‹©materailçš„å•ä¸ªslotğŸ˜ , åªèƒ½å…¨éƒ¨å¤åˆ¶è¿‡å»?</li>
    </ul>
  </li>
</ul>

<h2 id="å…¶ä»–æè¾¹æ•ˆæœ">å…¶ä»–æè¾¹æ•ˆæœ</h2>

<p>[1] https://svg-animation-booklet.vercel.app/chapter5.html#å®ç°åŠ¨ç”» svgæè¾¹åŠ¨ç”»</p>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="blender" /><category term="content" /><category term="material" /><category term="stoke" /><category term="modifier" /><summary type="html"><![CDATA[ç”¨solidify+èƒŒé¢å‰”é™¤+æ³•çº¿ç¿»è½¬]]></summary></entry><entry><title type="html">stable-diffusionçš„ç»“æ„å’Œå¾®è°ƒæ¨¡å‹</title><link href="https://roshameow.github.io//personal_homepage/docs/deeplearning/stable-diffusion6/" rel="alternate" type="text/html" title="stable-diffusionçš„ç»“æ„å’Œå¾®è°ƒæ¨¡å‹" /><published>2024-02-29T00:00:00+00:00</published><updated>2024-03-07T03:18:33+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/deeplearning/stable-diffusion6</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/deeplearning/stable-diffusion6/"><![CDATA[<h2 id="stable-diffusionç»“æ„å’Œcontrolnetæ’ä»¶">stable-diffusionç»“æ„å’Œcontrolnetæ’ä»¶</h2>

<p><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240306124200.png" alt="Pasted image 20240306124200.png" width="500" /></p>

<ul>
  <li>controlnetä¿æŒå’Œstable-diffusion u-netä¸ŠåŠéƒ¨åˆ†ç›¸åŒçš„ç»“æ„</li>
  <li>controlnetè¾“å…¥æ˜¯å’ŒåŸå›¾ä¸€æ ·çš„hintå›¾åƒ, æ¯”å¦‚controlnet-openposeè¾“å…¥çš„ä¸æ˜¯å…³èŠ‚åæ ‡æ•°æ®, è€Œæ˜¯å½©è‰²çš„äººä½“åæ ‡å›¾</li>
</ul>

<h2 id="resnetblock-spatialtransfomer-ç»“æ„å’Œæ’ä»¶">Resnetblock, SpatialTransfomer ç»“æ„å’Œæ’ä»¶</h2>

<p><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240306123108.png" alt="Pasted image 20240306123108.png" width="300" /> <img src="/personal_homepage/docs/attachment/Pasted%20image%2020240306123128.png" alt="Pasted image 20240306123128.png" width="500" /></p>

<ul>
  <li>loraå¯ä»¥åº”ç”¨åœ¨ç½‘ç»œçš„ä»»ä½•çº¿æ€§ç»“æ„ä¸Š, æ¯”å¦‚:
    <ul>
      <li>attentioné‡Œé¢çš„q,k,v,outå±‚</li>
      <li>feedforwardé‡Œé¢çš„linearå±‚</li>
      <li>clipé‡Œé¢çš„mlp, fcå±‚</li>
    </ul>
  </li>
  <li>è¿™å‡ ç§æ¨¡å‹çš„ä½œç”¨çš„ç²’åº¦ä¸ä¸€æ ·, ä»å°åˆ°å¤§æ˜¯: lora(çº¿æ€§å±‚) &lt; Gligen=IpAdapter(SpatialTransformerå±‚) &lt; Controlnet(U-netçš„block)
    <ul>
      <li>æ¨¡å‹çš„sizeä¹Ÿæ˜¯ä¾æ¬¡å˜å¤§</li>
    </ul>
  </li>
</ul>

<h2 id="reference">reference</h2>
<p><span id="ref"></span>
[1] Hu, Edward J., Yelong Shen, Phillip Wallis, Zeyuan Allen-Zhu, Yuanzhi Li, Shean Wang, Lu Wang, and Weizhu Chen. â€œ<strong>LoRA</strong>: Low-Rank Adaptation of Large Language Models.â€ arXiv, October 16, 2021. <a href="https://doi.org/10.48550/arXiv.2106.09685">https://doi.org/10.48550/arXiv.2106.09685</a>.</p>

<p>[2] Zhang, Lvmin, and Maneesh Agrawala. â€œAdding Conditional <strong>Control</strong> to Text-to-Image Diffusion Models.â€ arXiv, February 10, 2023. <a href="https://doi.org/10.48550/arXiv.2302.05543">https://doi.org/10.48550/arXiv.2302.05543</a>.</p>

<p>[3] Ye, Hu, Jun Zhang, Sibo Liu, Xiao Han, and Wei Yang. â€œ<strong>IP-Adapter</strong>: Text Compatible Image Prompt Adapter for Text-to-Image Diffusion Models.â€ arXiv.org, August 13, 2023. <a href="https://arxiv.org/abs/2308.06721v1">https://arxiv.org/abs/2308.06721v1</a>.</p>

<p>[4] Li, Yuheng, Haotian Liu, Qingyang Wu, Fangzhou Mu, Jianwei Yang, Jianfeng Gao, Chunyuan Li, and Yong Jae Lee. â€œ<strong>GLIGEN</strong>: Open-Set Grounded Text-to-Image Generation.â€ arXiv, April 16, 2023. <a href="https://doi.org/10.48550/arXiv.2301.07093">https://doi.org/10.48550/arXiv.2301.07093</a>.</p>

<p>ä»£ç : å‚è€ƒcomfyuié‡Œ<code class="language-plaintext highlighter-rouge">comfy.ldm.modules.diffusionmodules.openaimodel.py</code> çš„å®ç°, é™¤äº†controlnetæ˜¯åŠ åœ¨<code class="language-plaintext highlighter-rouge">condition</code> æµé‡Œé¢, å…¶ä»–å‡ ç§éƒ½æ˜¯é€šè¿‡<code class="language-plaintext highlighter-rouge">model.patches</code> åˆ‡æ¢ç½‘ç»œåˆ†æ”¯å®ç°çš„.</p>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="deeplearning" /><category term="content" /><category term="attention" /><category term="stable-diffusion" /><category term="lora" /><category term="controlnet" /><category term="ipadapter" /><category term="gligen" /><summary type="html"><![CDATA[stable-diffusionç»“æ„å’Œcontrolnetæ’ä»¶]]></summary></entry><entry><title type="html">stable-diffusionçš„ç”¨æ³•: å¸¸ç”¨æ’ä»¶</title><link href="https://roshameow.github.io//personal_homepage/docs/tool/stable-diffusion5/" rel="alternate" type="text/html" title="stable-diffusionçš„ç”¨æ³•: å¸¸ç”¨æ’ä»¶" /><published>2024-02-27T00:00:00+00:00</published><updated>2024-02-29T17:53:57+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/tool/stable-diffusion5</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/tool/stable-diffusion5/"><![CDATA[<p>ComfyUIä½¿ç”¨æ—¶ç”¨åˆ°çš„æ’ä»¶</p>

<table>
  <thead>
    <tr>
      <th>æ’ä»¶</th>
      <th>ç”¨é€”</th>
      <th>ç±»å‹</th>
      <th>å¿…é¡»?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://github.com/ltdrdata/ComfyUI-Manager">ComfyUI-Manager</a></td>
      <td>- æŸ¥æ‰¾å’Œå®‰è£…æ’ä»¶å’Œæ¨¡å‹<br />- å¯ä»¥è¯†åˆ«å·¥ä½œæµä¸­çš„missing node</td>
      <td>åŠŸèƒ½</td>
      <td>âœ”ï¸</td>
    </tr>
    <tr>
      <td><a href="https://github.com/rgthree/rgthree-comfy">rgthree-comfy</a></td>
      <td>- æ˜¾ç¤ºä¸€ä¸ªnodeæ‰§è¡Œè¿›åº¦æ¡<br />- ä¼˜åŒ–èŠ‚ç‚¹æ‰§è¡Œgraph<br />- æä¾›Image ComparerèŠ‚ç‚¹<br />- Lora Loader Stack èŠ‚ç‚¹</td>
      <td>åŠŸèƒ½</td>
      <td>Â </td>
    </tr>
    <tr>
      <td><a href="https://github.com/palant/image-resize-comfyui">Resize</a></td>
      <td>resizeå›¾ç‰‡</td>
      <td>åŠŸèƒ½<br /></td>
      <td>âœ”ï¸</td>
    </tr>
    <tr>
      <td><a href="https://github.com/giriss/comfy-image-saver">image-saver</a></td>
      <td>Save Image w/MetadataèŠ‚ç‚¹<br />æŠŠå›¾ç‰‡ç”Ÿæˆçš„ä¿¡æ¯å†™åˆ°å›¾ç‰‡metadataé‡Œ<br />(webuiæœ‰ç±»ä¼¼åŠŸèƒ½)</td>
      <td>åŠŸèƒ½</td>
      <td>Â </td>
    </tr>
    <tr>
      <td><a href="https://github.com/ltdrdata/ComfyUI-Impact-Pack">Impact-Pack</a></td>
      <td>å¾ˆå¤šåŠŸèƒ½, ä½†æ˜¯æœ‰äº›æ„Ÿè§‰å°è£…çš„å¤ªå¤æ‚äº†</td>
      <td>åŠŸèƒ½</td>
      <td>Â </td>
    </tr>
    <tr>
      <td><a href="https://github.com/Suzie1/ComfyUI_Comfyroll_CustomNodes">Comfyroll_CustomNodes</a></td>
      <td>CRå¼€å¤´çš„ä¸€å †èŠ‚ç‚¹</td>
      <td>åŠŸèƒ½</td>
      <td>Â </td>
    </tr>
    <tr>
      <td><a href="https://github.com/ssitu/ComfyUI_UltimateSDUpscale">UltimateSDUpscale</a></td>
      <td>- åˆ†å—å›¾ç”Ÿå›¾<br />- æ”¹å˜tileçš„ä¸€äº›èåˆæ–¹å¼</td>
      <td>åŠŸèƒ½</td>
      <td>Â </td>
    </tr>
    <tr>
      <td><a href="https://github.com/shadowcz007/comfyui-mixlab-nodes?tab=readme-ov-file">comfyui-mixlab-nodes</a></td>
      <td>- clip interrogator èŠ‚ç‚¹: åˆ†æå›¾ç‰‡ä¿¡æ¯</td>
      <td>åŠŸèƒ½<br /></td>
      <td>Â </td>
    </tr>
    <tr>
      <td><a href="https://github.com/twri/sdxl_prompt_styler">promt styler</a></td>
      <td>- SDXL Prompt Styler: æŠŠä¸€äº›ç”»é£å†™æˆprompt</td>
      <td>åŠŸèƒ½</td>
      <td>Â </td>
    </tr>
    <tr>
      <td><a href="https://github.com/kijai/ComfyUI-Marigold">ComfyUI-Marigold</a></td>
      <td>è¯†åˆ«æ·±åº¦å›¾</td>
      <td>æ¨¡å‹</td>
      <td>Â </td>
    </tr>
    <tr>
      <td><a href="https://github.com/storyicon/comfyui_segment_anything">comfyui_segment_anything</a></td>
      <td>è¯†åˆ«mask</td>
      <td>æ¨¡å‹</td>
      <td>Â </td>
    </tr>
    <tr>
      <td><a href="https://github.com/Acly/comfyui-inpaint-nodes">inpaint-nodes</a></td>
      <td>ä¸€ç³»åˆ—å…³äºinpaintçš„èŠ‚ç‚¹<br />- Fooocus inapint<br />- Inpaint (using Model) : ç”¨äºåŠ è½½Lamaç­‰inpaintæ¨¡å‹</td>
      <td>æ¨¡å‹</td>
      <td>Â </td>
    </tr>
  </tbody>
</table>

<p>å¾ˆå¤šæ’ä»¶æä¾›é‡å¤çš„åŠŸèƒ½, æˆ–è€…æ²¡æœ‰ç»´æŠ¤, ç”Ÿæ€è¿˜æŒºæ··ä¹±çš„</p>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="tool" /><category term="content" /><category term="ComfyUI" /><summary type="html"><![CDATA[ComfyUIä½¿ç”¨æ—¶ç”¨åˆ°çš„æ’ä»¶]]></summary></entry><entry><title type="html">stable-diffusionçš„ç”¨æ³•: å¸¸ç”¨çš„ä½œå›¾åŠŸèƒ½-æå‡ç»†èŠ‚</title><link href="https://roshameow.github.io//personal_homepage/docs/photo/stable-diffusion4/" rel="alternate" type="text/html" title="stable-diffusionçš„ç”¨æ³•: å¸¸ç”¨çš„ä½œå›¾åŠŸèƒ½-æå‡ç»†èŠ‚" /><published>2024-02-24T00:00:00+00:00</published><updated>2024-02-28T20:19:41+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/photo/stable-diffusion4</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/photo/stable-diffusion4/"><![CDATA[<p>å’Œinpaintä¸€æ ·è¦åˆ©ç”¨stable-diffusionçš„å›¾ç”Ÿå›¾åŠŸèƒ½, æƒ³è®©å›¾åƒå¿ äºåŸå›¾çš„æƒ…å†µä¸‹æå‡å›¾åƒç»†èŠ‚, è§£å†³å›¾åƒæ¨¡ç³Š, æ‰­æ›², ä¸åˆç†çš„éƒ¨åˆ†.</p>

<h2 id="ä½¿ç”¨">ä½¿ç”¨</h2>

<ul>
  <li>æ¨¡å‹:
    <ul>
      <li>ä¸€èˆ¬æ¨¡å‹: å¯¹äºæ¨¡ç³Šçš„å›¾, encode+ksample+decodeå°±å¯ä»¥æå‡ç»†èŠ‚</li>
      <li><a href="https://iceclear.github.io/projects/stablesr/">StableSR</a>: åŸºäºsd2.1, å…³äºç»†èŠ‚ä¿®å¤ä»»åŠ¡é‡æ–°è®­ç»ƒçš„æ¨¡å‹</li>
      <li><a href="https://huggingface.co/stabilityai/stable-diffusion-xl-refiner-1.0">sdxl refineræ¨¡å‹</a>: è¾“å…¥latent image, å®˜æ–¹å»ºè®®æ¥åœ¨sdxl baseæ¨¡å‹çš„åé¢ç”¨
        <ul>
          <li>sdxl refinerä¸€èˆ¬åªèƒ½é…å’Œsdxl baseæ¨¡å‹, ä¸èƒ½é…åˆå…¶ä»–é£æ ¼çš„sdxlæ¨¡å‹, æ‰€ä»¥ä¸æ˜¯å¾ˆå®ç”¨</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>æ§åˆ¶:
    <ul>
      <li>æ›´åƒåŸå›¾:
        <ul>
          <li>é£æ ¼æ§åˆ¶: å’Œinpaintä¸€æ ·, å¯ä»¥ç”¨text promtå’Œipadpateræ§åˆ¶</li>
          <li>å¾®è°ƒæ¨¡å‹æ§åˆ¶:
            <ul>
              <li><a href="[https://github.com/Mikubill/sd-webui-controlnet/discussions/1142](https://github.com/Mikubill/sd-webui-controlnet/discussions/1142)">controlnet tile</a>(é…åˆv1.5æ¨¡å‹): è¿™æ˜¯ä¸ªéå¸¸å¥½ç”¨çš„æ¨¡å‹ğŸ‘, å¯ä»¥åœ¨åˆ†å—(è¾“å…¥çš„ä¸æ˜¯ä¸€æ•´å¼ å›¾)çš„æ—¶å€™, æ›´å€¾å‘ç†è§£å›¾åƒéƒ¨åˆ†è€Œä¸æ˜¯text prompt</li>
              <li><a href="https://huggingface.co/lllyasviel/sd_control_collection/discussions/1">å…³äºsdxlæ¨¡å‹æ²¡æœ‰ä¸€ä¸ªtileæ¨¡å‹çš„è®¨è®º</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>æå‡ç»†èŠ‚:
        <ul>
          <li>ä»æµç¨‹ä¸Šæ§åˆ¶:
            <ul>
              <li><a href="https://ku-cvlab.github.io/Self-Attention-Guidance">Self-attention Guidance(SAG)</a>
                <ul>
                  <li>å’Œcfg(class free guidance)ç±»ä¼¼, æ˜¯æ›´æ”¹reverse diffusion processçš„è¿‡ç¨‹</li>
                  <li>è®©å›¾ç‰‡å˜æ¸…æ™°åŸç†:  è®¤ä¸ºself-attentionå€¼æ›´å¤§çš„ä½ç½®æ˜¯æ›´é‡è¦çš„ä½ç½®, è®©å…¶ç¦»blurryçš„æ–¹å‘æ›´è¿œ, å³æ›´æ¸…æ™°
                    <ul>
                      <li>ä»æ–‡ç« é‡Œçš„ä¾‹å­çœ‹, è¿™ç§åšæ³•è¾¾æˆäº†ä¸€ç§ç¥å¥‡çš„è‡ªçº æ­£çš„æ•ˆæœ, å¯èƒ½æ˜¯å› ä¸ºåœ¨reverse diffusion processä¸­é‡è¦çš„åœ°æ–¹æ›´å¿«çš„å˜æ¸…æ™°, å¼•å¯¼äº†å…¶ä»–éƒ¨åˆ†çš„ç”Ÿæˆ</li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>æ–¹ä¾¿çš„èŠ‚ç‚¹: stable-diffusionæœ¬èº«çš„å›¾ç”Ÿå›¾åŠŸèƒ½inputå’Œoutputç­‰å¤§çš„, å›¾åƒå¤§å°å’Œæ¨¡å‹ä¸åŒ¹é…çš„æ—¶å€™å°±éœ€è¦åˆ†å—å¤„ç†æˆ–æ”¾å¤§
    <ul>
      <li>åˆ†å—: ä¸‹é¢ä¸¤ä¸ªåŠŸèƒ½ç±»ä¼¼
        <ul>
          <li><a href="https://github.com/ltdrdata/ComfyUI-Impact-Pack/blob/5f73ac55c02b588bf151c355522e8c402723e134/modules/impact/core.py#L329">ComfyUI Impact Pack æä¾›çš„detailerèŠ‚ç‚¹</a> : åŒ…å«ä¸€äº›æ–¹ä¾¿çš„åŠŸèƒ½
            <ul>
              <li>å¯ä»¥åˆ†å—å›¾ç”Ÿå›¾</li>
              <li>å¯ä»¥è®¾ç½®cycleæ¬¡æ•°, å³å›¾ç”Ÿå›¾çš„æ¬¡æ•° (å¦‚æœcomfyUIæœ¬èº«æä¾›å¾ªç¯åŠŸèƒ½å°±å¥½äº†)</li>
            </ul>
          </li>
          <li><a href="https://github.com/ssitu/ComfyUI_UltimateSDUpscale">UltimateSDUpscale</a>
            <ul>
              <li>æ”¯æŒåˆ†å—å›¾ç”Ÿå›¾</li>
              <li>æ”¹å˜tileçš„ä¸€äº›èåˆæ–¹å¼</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>æ”¾å¤§: æ”¾å¤§ç»å¸¸ä¼´éšç»†èŠ‚æŸå¤±, ä¸€èˆ¬æ˜¯å’ŒrefineåŠŸèƒ½æ¥åŠ›ä½¿ç”¨: upscale-&gt;refine-&gt;upscale-&gt;refine-&gt;upscale-&gt;refineâ€¦
        <ul>
          <li>æˆ‘çœ‹åˆ°æœ‰äººåœ¨latent imageä¸Šæ”¾å¤§, æ€»æ„Ÿè§‰è¿™ä¹ˆåšä¸å¯¹, latent imageçš„ä¸€ä¸ªç‚¹å¤§çº¦å¯¹åº”å›¾åƒ8x8çš„patch, æ”¾å¤§latentåè¿™ä¸ªæ¯”ä¾‹å…³ç³»å’Œæ”¾å¤§å›¾åƒæ˜¯ä¸ä¸€æ ·çš„</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="æ•ˆæœ">æ•ˆæœ</h2>

<ul>
  <li>ä½¿ç”¨æ—¶è¦æ³¨æ„:
    <ul>
      <li>è¾“å…¥å›¾åƒçš„å°ºå¯¸: å¦‚æœè¾“å…¥å›¾åƒå¤ªå°ä¹Ÿæ˜¯æ— æ³•ç”Ÿæˆæ­£å¸¸å›¾ç‰‡çš„, å°½é‡ç”¨å¤–éƒ¨çš„resizeå’Œupscaleè°ƒæ•´åˆ°å’Œæ¨¡å‹è®­ç»ƒçš„å¤§å°ç›¸è¿‘</li>
      <li>å›¾åƒåŒ…å«çš„è¯­ä¹‰ä¿¡æ¯çš„å°ºå¯¸</li>
      <li>reverse diffusion processçš„å‚æ•°: cfg, denoise, stepsç­‰</li>
    </ul>
  </li>
  <li>å¯¹ä¸€äº›å¸¸è§çš„å™ªå£°æ•ˆæœå¾ˆå¥½, ä¾‹å¦‚: jpgå‹ç¼©çš„é«˜é¢‘alias, æ‘©å°”çº¹
    <ul>
      <li>ä½†æ˜¯å¯¹äºå…¶ä»–å™ªå£°å°±ä¸è®¤è¯†, å¯èƒ½è¢«è®¤ä½œå›¾åƒæœ¬èº«çš„é£æ ¼?
        <ul>
          <li>ä¾‹å¦‚æˆ‘ç”¨å…¶ä»–prioræ­é…<a href="https://en.wikipedia.org/wiki/Augmented_Lagrangian_method">admmç®—æ³•</a>æ¢å¤å›¾åƒçš„ä¸­é—´ç»“æœ</li>
          <li>æ±‰å­—ä¹Ÿä¼šè¢«æ”¹å˜çš„çœ‹ä¸å‡ºå½¢çŠ¶</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>æ¢å¤å‡ºçš„å›¾åƒé£æ ¼ä¼šå—é€‰æ‹©çš„ä¸»è¦æ¨¡å‹é£æ ¼å½±å“, å¾ˆéš¾ä¿è¯ç»†èŠ‚ä¸å˜é£æ ¼è¿˜åŸ</li>
  <li>æ¢å¤çœŸå®äººç‰©çš„æ•ˆæœå¾ˆå·®, å¯èƒ½æ˜¯æœ¬èº«æˆ‘ä»¬å¯¹äººè„¸ç»†èŠ‚è¦æ±‚å°±æ›´ä¸¥æ ¼? å¯èƒ½éœ€è¦åŠ è½½ä¸“é—¨æ§åˆ¶äººè„¸çš„å¾®è°ƒæ¨¡å‹</li>
</ul>

<h2 id="comfyui-workflow">ComfyUI workflow</h2>

<p>ç”¨sdxlçš„refiner$\downarrow$ : <a href="https://gist.github.com/roshameow/7a46bcdb4d7bdc5b2c0e758e4aa85a9f#file-refine_sdxl_refiner-json"><strong>refine_sdxl_refiner.json</strong></a></p>

<p><img src="/personal_homepage/docs/attachment/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-02-27%20231030.png" alt="å±å¹•æˆªå›¾ 2024-02-27 231030.png" width="800" /></p>

<p>ç”¨detailerèŠ‚ç‚¹å’Œ <a href="https://github.com/ssitu/ComfyUI_UltimateSDUpscale">UltimateSDUpscale</a> èŠ‚ç‚¹$\downarrow$ : <a href="https://gist.github.com/roshameow/7a46bcdb4d7bdc5b2c0e758e4aa85a9f#file-refine_impact_pack_detailer_sag_ultimatesd-json"><strong>refine_impact_pack_detailer_SAG_UltimateSD.json</strong></a></p>
<ul>
  <li>å‚è€ƒ<a href="https://comfyworkflows.com/workflows/f9ed8191-b2e1-4417-ac26-2ecc7ff2a484">è¿™ä¸ªcomfyworkflowsä¸Šåˆ†äº«çš„workflow</a></li>
</ul>

<p><img src="/personal_homepage/docs/attachment/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-02-27%20221824.png" alt="å±å¹•æˆªå›¾ 2024-02-27 221824.png" width="800" /></p>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="photo" /><category term="content" /><category term="ComfyUI" /><category term="sdxl" /><category term="refine" /><summary type="html"><![CDATA[å’Œinpaintä¸€æ ·è¦åˆ©ç”¨stable-diffusionçš„å›¾ç”Ÿå›¾åŠŸèƒ½, æƒ³è®©å›¾åƒå¿ äºåŸå›¾çš„æƒ…å†µä¸‹æå‡å›¾åƒç»†èŠ‚, è§£å†³å›¾åƒæ¨¡ç³Š, æ‰­æ›², ä¸åˆç†çš„éƒ¨åˆ†.]]></summary></entry><entry><title type="html">stable-diffusionçš„ç”¨æ³•: å¸¸ç”¨çš„ä½œå›¾åŠŸèƒ½-æŠ å›¾, inpainting, å¼•å¯¼å›¾</title><link href="https://roshameow.github.io//personal_homepage/docs/photo/stable-diffusion3/" rel="alternate" type="text/html" title="stable-diffusionçš„ç”¨æ³•: å¸¸ç”¨çš„ä½œå›¾åŠŸèƒ½-æŠ å›¾, inpainting, å¼•å¯¼å›¾" /><published>2024-02-18T00:00:00+00:00</published><updated>2024-03-01T22:58:08+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/photo/stable-diffusion3</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/photo/stable-diffusion3/"><![CDATA[<h2 id="ç”¨samæŠ å›¾">ç”¨SAMæŠ å›¾</h2>

<p>ä»¥ä¸‹ä¸¤ç§æ–¹å¼éƒ½æ˜¯å¯¹segment-anythingäºŒæ¬¡å°è£…</p>
<ul>
  <li>åœ¨ComfyUIé‡Œç”¨<a href="https://github.com/storyicon/comfyui_segment_anything">segment anythingèŠ‚ç‚¹</a>
    <ul>
      <li>ç‰¹ç‚¹: ä»»ä½•shapeéƒ½å¯ä»¥, è¾“å…¥text prompt, ä½†æ˜¯æ²¡æ³•è¾“å…¥ä½ç½®</li>
      <li>æ­¥éª¤:
        <ol>
          <li><a href="https://github.com/IDEA-Research/GroundingDINO">groundingDINO</a>æ¨¡å‹: image, text prompt-&gt;ç›®æ ‡æ£€æµ‹box</li>
          <li><a href="https://github.com/facebookresearch/segment-anything">SAM</a>æ¨¡å‹: image, box-&gt; mask
            <ol>
              <li>SAMæ¨¡å‹æœ¬ä½“å¯ä»¥æ¥å—å¤šç§å½¢å¼çš„prompt</li>
              <li>SAMæ¨¡å¼çš„ç‰¹ç‚¹æ˜¯å¯¹imageåªencodeä¸€æ¬¡, è¿™é‡Œboxæ˜¯ä½œä¸ºpromptå½¢å¼è¾“å…¥çš„, ä¸æ˜¯åœ¨å›¾åƒä¸Šcropç„¶åå¤„ç†cropped image</li>
            </ol>
          </li>
        </ol>
      </li>
      <li>ğŸ¤”ï¸: SAMæœ¬æ¥å°±å¯ä»¥è¾“å…¥text prompt, åŠ å…¥groundingDINOæ¨¡å‹æ˜¯å› ä¸ºSAMçš„text promtæ•ˆæœä¸å¥½å—?</li>
    </ul>
  </li>
  <li><a href="https://github.com/geekyutao/Inpaint-Anything">inpaint-anything</a>
    <ul>
      <li>ç‰¹ç‚¹: è¾“å…¥point promptå’Œtext prompt(optional), å¯¹è¾“å…¥å›¾åƒå¤§å°æœ‰è¦æ±‚, è¿˜æ¥å…¥äº†ä¸€ä¸ªstable-diffusionçš„inpaintæ¨¡å—</li>
    </ul>
  </li>
</ul>

<h2 id="inpainting--outpainting--guided">inpainting &amp; outpainting &amp; guided</h2>

<ul>
  <li>å›¾ç”Ÿå›¾åŠŸèƒ½: åˆ©ç”¨stable-diffusionçš„sampleræµç¨‹, noise maskä¹‹å¤–çš„éƒ¨åˆ†ç½‘ç»œå°±ä¸ä¼šå»æ›´æ”¹, åˆ©ç”¨VAE decoderçš„å¡«è¡¥èƒ½åŠ›
    <ul>
      <li>VAE encodeæˆlatent: æ ¹æ®æƒ…å†µé€‰æ‹©å›¾åƒè¾“å…¥
        <ol>
          <li>è¾“å…¥åŸå›¾: ç›´æ¥ç”¨VAE Encode-&gt;latent-&gt;Set Latent Noise Mask-&gt;Ksampler
            <ul>
              <li>é€‚åˆæƒ³ä¿ç•™éƒ¨åˆ†åŸå›¾å…ƒç´ çš„</li>
            </ul>
          </li>
          <li>è¾“å…¥ç”¨ç°è‰²å¡«è¡¥maskçš„å›¾: ç”¨ <a href="https://blenderneko.github.io/ComfyUI-docs/Core%20Nodes/Latent/inpaint/VAEEncodeForInpainting/">VAE Encode(for inpainting)</a> -&gt;latent-&gt;Ksampler
            <ul>
              <li><a href="https://blenderneko.github.io/ComfyUI-docs/Core%20Nodes/Latent/inpaint/VAEEncodeForInpainting/">VAE Encode(for inpainting)</a> ç›¸å½“äº ç”¨ç°è‰²maskçš„å›¾<a href="https://blenderneko.github.io/ComfyUI-docs/Core%20Nodes/Latent/VAEEncode/">VAE Encode</a> + <a href="https://blenderneko.github.io/ComfyUI-docs/Core%20Nodes/Latent/inpaint/SetLatentNoiseMask/">Set Latent Noise Mask</a> ä¸¤ä¸ªèŠ‚ç‚¹çš„æ•ˆæœ</li>
              <li>é€‚åˆæƒ³è¦åœ¨maskå¤„æ–°ç”Ÿæˆç‰©ä½“çš„</li>
            </ul>
          </li>
          <li>è¾“å…¥è‡ªåˆ¶å¼•å¯¼å›¾: ç›´æ¥ç”¨VAE Encode-&gt;latent-&gt;Set Latent Noise Mask-&gt;Ksampler
            <ul>
              <li>é€‚åˆæƒ³è¦å¼•å¯¼å›¾ä¸Šçš„ä¸€äº›å…ƒç´ çš„: å½¢çŠ¶, å¸ƒå±€, é¢œè‰²ç­‰</li>
            </ul>
          </li>
          <li>è¾“å…¥LaMa inpaintçš„å›¾: ç”¨<a href="https://github.com/Acly/comfyui-inpaint-nodes">fooocus comfyUIç‰ˆæœ¬</a> æä¾›çš„inpaint from modelèŠ‚ç‚¹, ç„¶åå†èµ°VAE Encode-&gt;latent-&gt;Set Latent Noise Mask-&gt;Ksamplerçš„æµç¨‹
            <ul>
              <li><strong>ä¸€å®šè¦ç”¨GrowMaskåŠ å¤§maskçš„èŒƒå›´</strong>(æœ€å¥½æŠŠå›¾åƒä¸­å—ç‰©ä½“å½±å“çš„éƒ¨åˆ†å…¨maskæ‰,ä¾‹å¦‚maskäººç‰©çš„å½±å­, æˆ–æ˜¯è¢«æŒ¡ä½ä¸€åŠçš„æ–‡å­—. ä¸è¦ç•™ä¸‹ä¸å’Œè°çš„éƒ¨åˆ†. <a href="#ref">3</a> )</li>
              <li>é€‚åˆæœ‰é‡å¤patternçš„åœºæ™¯æ•ˆæœ</li>
            </ul>
          </li>
        </ol>
      </li>
      <li>ç”¨ <a href="https://blenderneko.github.io/ComfyUI-docs/Core%20Nodes/Latent/inpaint/SetLatentNoiseMask/">Set Latent Noise Mask</a> åœ¨åšsamplerçš„æµç¨‹ä¸­å¯¹maskä»¥å¤–çš„åœ°æ–¹è¿›è¡Œä¿ç•™
        <ul>
          <li>sdxlæ¨¡å‹latent imageå¯ä»¥å¯¹åº”åˆ°8x8çš„pixel patch, è¾“å…¥çš„maskä¼šresizeåˆ°latentå¤§å°æˆä¸ºlatent mask</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>æ§åˆ¶: inpaintingä»»åŠ¡æ˜¯æƒ³è®©ç”Ÿæˆçš„éƒ¨åˆ†é£æ ¼æ¥è¿‘åŸå›¾, å’ŒåŸå›¾è¾¹ç•Œèåˆçš„æ›´å¥½
    <ul>
      <li>ç”¨ipadapteræ§åˆ¶é£æ ¼
        <ul>
          <li>ipadapterä¼šå‚è€ƒåŸå›¾ç‰©ä½“çš„ä½ç½®å…³ç³», ä½¿è¿™ä¸ªæ§åˆ¶åœ¨outpaintingé‡Œéå¸¸é¸¡è‚‹, æˆ‘ä»¬çš„ç›®çš„æ˜¯ç”Ÿæˆå’ŒåŸå›¾é£æ ¼ä¸€è‡´çš„æ–°ç‰©ä½“, è€Œä¸æ˜¯æŠŠåŸæ¥çš„ç‰©ä½“å åŠ åœ¨å›¾ç‰‡ä¸Š
            <ul>
              <li>ç”¨åˆé€‚çš„text promptæ§åˆ¶+å¼•å¯¼å›¾å¯ä»¥æœ‰æ•ˆçš„å‡å°‘ipadapterå¯¹ç‰©ä½“ä½ç½®çš„å½±å“, æ•ˆæœéå¸¸å¥½</li>
            </ul>
          </li>
          <li>ipadapterçš„attention maskè¾“å…¥æ˜¯ æ•´å¼ å›¾-&gt; éƒ¨åˆ† çš„æµç¨‹, è€Œä¸æ˜¯æˆ‘ä»¬åœ¨inpaintingä»»åŠ¡æƒ³è¦çš„ éƒ¨åˆ† -&gt; æ•´å¼ å›¾
            <ul>
              <li>attention maskå¯ä»¥ç”¨æ¥æŠŠä¸¤å¼ å›¾èåˆåœ¨åŒä¸€å¼ å›¾çš„ä¸åŒä½ç½®, ä¾‹å¦‚è®©ä¸¤ä¸ªäººåˆå½±</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>ç”¨text promptæ§åˆ¶
        <ul>
          <li><a href="https://github.com/pythongosssss/ComfyUI-WD14-Tagger">WD14 Tagger</a> æ¨å¯¼æç¤ºè¯</li>
          <li>ç”¨<a href="https://github.com/ZHO-ZHO-ZHO/ComfyUI-Gemini">Gemini</a> çš„APIçš„æ‰“æ ‡åŠŸèƒ½</li>
        </ul>
      </li>
      <li>å¾®è°ƒæ¨¡å‹æ§åˆ¶: å¦‚æœä¸åŠ ä»»ä½•æ¨¡å‹, ç”Ÿæˆå‡ºæ¥çš„ç»“æœå’ŒåŸå›¾çœ‹èµ·æ¥å®Œå…¨ä¸èåˆ
        <ul>
          <li>controlnet inpaint:(é…åˆv1.5)
            <ul>
              <li>inpaintpreprocessorè¾“å…¥image, mask</li>
              <li>inpaintpreprocessorå¤„ç†è¿‡çš„å›¾åƒè¾“å…¥inpaint controlnet</li>
              <li>controlnetè¿æ¥text prompt</li>
              <li>ç”¨controlnetçš„æ—¶å€™ç”šè‡³å¯ä»¥ç”¨ç©ºçš„latent, å› ä¸ºcontrolnetä¼šæ›´æ”¹sampleræµç¨‹ä¸ºç”Ÿæˆæ•´å¼ å›¾?
                <ul>
                  <li>ä½†æ˜¯ä¸€èˆ¬è¿˜æ˜¯è¾“å…¥image latent å‚è€ƒ, ä¸ç„¶çš„è¯é¢œè‰²é£æ ¼ä¼šå˜å¥‡æ€ª</li>
                </ul>
              </li>
            </ul>
          </li>
          <li>fooocus inpaint: (é…åˆsdxl)
            <ul>
              <li><a href="https://github.com/lllyasviel/Fooocus/discussions/414">fooocusè‡ªå·±çš„uiç•Œé¢åšinpaint</a>ç½‘ä¸Šè¯„ä»·å¾ˆå¥½</li>
              <li><a href="https://github.com/Acly/comfyui-inpaint-nodes">fooocus comfyUIç‰ˆæœ¬</a>çš„ä¸€äº›ä½¿ç”¨é—®é¢˜: READMEé‡Œç»™å‡ºçš„å·¥ä½œæµéƒ½ä¸å¤ªwork
                <ul>
                  <li>è¾“å…¥model, patch(åŒ…å«ä¸€ä¸ªheadæ¨¡å‹å’Œä¸€ä¸ªloraæ¨¡å‹), latent(å¿…é¡»åŒ…å«latent imageå’Œnoise mask)</li>
                  <li>ä½¿ç”¨æ—¶æ„Ÿè§‰å¥½åƒä¸€å®šè¦é…åˆVAE Encode(for inpainting), å¦‚æœè¾“å…¥lamaè¡¥å……åçš„, ç»“æœä¼šå‡ºç°å¥‡æ€ªçš„åè‰², æ˜¯æ¨¡å‹å†…éƒ¨å¯¹maskéƒ¨åˆ†è¿›è¡Œäº†è¯†åˆ«å—?</li>
                  <li>ç”¨fooocus å¼€å‘çš„dpmpp sampleræ–¹å¼è¿­ä»£, ä¹Ÿä¼šå‡ºç°å¥‡æ€ªçš„ä¸œè¥¿, æ˜¯comfyuiçš„å®ç°æœ‰é—®é¢˜å—?</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>ç»“æœ: è¿œæ²¡æœ‰è¾¾åˆ°ä¸€é”®ç”Ÿæˆçš„æ•ˆæœ, ä½†æ˜¯æ¯”èµ·lamaåªä¼šå¡«å…¥é‡å¤èŠ±çº¹è¿˜æ˜¯æœ‰å¾ˆå¤§è¿›æ­¥
    <ul>
      <li>æ–°ç”Ÿæˆçš„éƒ¨åˆ†å’ŒåŸå›¾èåˆçš„ä¸å¥½
        <ul>
          <li>æŒ‰è¿™ä¸ªæµç¨‹åŸå›¾maskä¹‹å¤–çš„å†…å®¹ä¸ä¼šé‡æ–°ç”Ÿæˆ, èåˆçš„ä¸å¥½å¯ä»¥ç†è§£, åº”è¯¥æ˜¯ç”Ÿæˆæ•´å¼ å›¾æ‰å¯¹. è¿™ä¸ªå·¥ä½œæµåº”è¯¥æ˜¯æœ‰é—®é¢˜, æ²¡æœ‰å‘æŒ¥stable diffusionçš„å…¨éƒ¨èƒ½åŠ›</li>
        </ul>
      </li>
      <li>éœ€è¦ä¿®æ”¹seedå¤šæ¬¡ç”Ÿæˆ(æŠ½å¡), äººå·¥é€‰å¥½ä¸€ç‚¹çš„æ•ˆæœåšä¸ºå›¾ç”Ÿå›¾VAEéƒ¨åˆ†çš„è¾“å…¥ç»§ç»­</li>
      <li>å°¤å…¶æ˜¯äººç‰©, åŠ¨ç‰©, è¡¥å…¨çš„åœ°æ–¹å¯ä»¥çœ‹å‡ºå¾ˆæ˜æ˜¾çš„é—®é¢˜, æ˜¯å¤šæ¬¡æŠ½å¡è§£å†³ä¸äº†çš„, å¿…é¡»è¦é…åˆäººå·¥å®æ—¶ä¿®æ”¹</li>
    </ul>
  </li>
</ul>

<h2 id="comfyui-workflow">ComfyUI workflow</h2>
<h3 id="æ¢èƒŒæ™¯">æ¢èƒŒæ™¯</h3>

<p>å·¥ä½œæµ: <a href="https://gist.github.com/roshameow/041450c340e56d39f12c93bd7d2d8606#file-inpainting_background_sam_fooocus-json"><strong>inpainting_background_SAM_fooocus.json</strong></a> $\downarrow$</p>

<p><img src="/personal_homepage/docs/attachment/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-02-23%20232215.png" alt="å±å¹•æˆªå›¾ 2024-02-23 232215.png" width="800" /></p>
<h3 id="å»æ‰ä¸æƒ³è¦çš„äººç‰©">å»æ‰ä¸æƒ³è¦çš„äººç‰©</h3>

<p><a href="https://gist.github.com/roshameow/041450c340e56d39f12c93bd7d2d8606#file-inpaint_delete_person_sam_lama_fooocus-json"><strong>inpaint_delete_person_SAM_Lama_fooocus.json</strong></a> $\downarrow$</p>

<p><img src="/personal_homepage/docs/attachment/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-02-23%20231325.png" alt="å±å¹•æˆªå›¾ 2024-02-23 231325.png" width="800" /></p>

<h3 id="ä¿®æ”¹å±€éƒ¨">ä¿®æ”¹å±€éƒ¨</h3>

<p><a href="https://gist.github.com/roshameow/041450c340e56d39f12c93bd7d2d8606#file-inpaint_edit_fooocus_ipadapter-json"><strong>inpaint_edit_fooocus_ipadapter.json</strong></a> $\downarrow$</p>

<p><img src="/personal_homepage/docs/attachment/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-02-23%20235229.png" alt="å±å¹•æˆªå›¾ 2024-02-23 235229.png" width="800" /></p>

<p>å’Œinpaintç±»ä¼¼, ç”¨Pad for Outpaintingç”Ÿæˆmaskå’Œç°è‰²å¡«è¡¥çš„å›¾åƒ</p>

<h3 id="outpaint-æ›´æ”¹å›¾ç‰‡å°ºå¯¸">outpaint æ›´æ”¹å›¾ç‰‡å°ºå¯¸</h3>

<p><a href="https://gist.github.com/roshameow/041450c340e56d39f12c93bd7d2d8606#file-outpainting_lama_fooocus_ipadapter-json"><strong>outpainting_lama_fooocus_ipadapter.json</strong></a> $\downarrow$</p>

<p><img src="/personal_homepage/docs/attachment/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-02-23%20230951.png" alt="å±å¹•æˆªå›¾ 2024-02-23 230951.png" width="800" /></p>

<ul>
  <li>æƒ³ç”Ÿæˆç®€å•çº¯è‰²çš„èƒŒæ™¯ä¼¼ä¹ä¸å¯èƒ½, ç½‘ç»œæ€»ä¼šè‡ªå·±åŠ äº›ä¸œè¥¿: æ˜¯ä¸æ˜¯ç½‘ç»œè®¤ä¸ºçº¯è‰²èƒŒæ™¯æ˜¯ä¸€ç§æœªå®Œæˆçš„çŠ¶æ€?</li>
</ul>

<h3 id="ç”±å¼•å¯¼å›¾ç”Ÿæˆå›¾ç‰‡">ç”±å¼•å¯¼å›¾ç”Ÿæˆå›¾ç‰‡</h3>

<p><a href="https://gist.github.com/roshameow/041450c340e56d39f12c93bd7d2d8606#file-guided_image_ipadapter_attmask-json"><strong>guided_image_ipadapter_attmask.json</strong></a> $\downarrow$</p>
<ul>
  <li><a href="https://www.bilibili.com/video/BV1tU421o7hu/">å‚è€ƒç½‘ç»œä¸Šè¿™ä¸ªåšæ³•</a> : ç”Ÿæˆä¸€ç»„è¾¹æ¡†å’Œåœ†å½¢logo</li>
  <li>ç”¨åˆ°äº†inpaint, å›¾ç‰‡å¼•å¯¼, ipadapterçš„attmaskåŠŸèƒ½</li>
</ul>

<p><img src="/personal_homepage/docs/attachment/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-02-28%20224350.png" alt="å±å¹•æˆªå›¾ 2024-02-28 224350.png" width="800" /></p>

<ul>
  <li>ç”¨å¼•å¯¼å›¾æ§åˆ¶é¢œè‰²çš„ä¾‹å­:
    <ul>
      <li>
        <iframe src="//player.bilibili.com/player.html?aid=623547089&amp;bvid=BV1Jt4y1o7TY&amp;cid=1402072759&amp;p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>
      </li>
    </ul>
  </li>
  <li>ç”¨å¼•å¯¼å›¾æ§åˆ¶å¸ƒå±€çš„ä¾‹å­:
    <ul>
      <li>
        <iframe src="//player.bilibili.com/player.html?aid=1300455401&amp;bvid=BV1au4m1K7p4&amp;cid=1431479600&amp;p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>
      </li>
    </ul>
  </li>
</ul>

<h3 id="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹</h3>

<ul>
  <li>ç™½è‰²æ˜¯æƒ³è¦ç½‘ç»œç”Ÿæˆçš„éƒ¨åˆ†</li>
  <li>å¦‚æœåœ¨ä¸€ä¸ªå·¥ä½œæµé‡ŒåŒæ—¶ç”¨SAM, foocus inpaint, ipadapterç­‰æ¨¡å‹, æˆ‘16Gçš„æ˜¾å­˜ä¼šä¸å¤Ÿç”¨: å…¶å®SAMåœ¨ç”Ÿæˆmaskä¹‹åå°±å¯ä»¥ç§»å‡ºæ˜¾å­˜äº†, ä½†æ˜¯ä¸æ¸…æ¥šcomfyuiæ€ä¹ˆæ“ä½œ</li>
</ul>

<h2 id="reference">reference</h2>
<p><span id="ref"></span></p>

<p>[1] https://github.com/Sanster/IOPaint inpaint+outpaintåˆé›†</p>

<p>[2] https://github.com/comfyanonymous/ComfyUI/blob/master/nodes.py#L331 ComfyUI èŠ‚ç‚¹ä»£ç </p>

<p>[3] https://medium.com/gliacloud/removing-any-object-from-your-photo-with-lama-7e966765fadc lamaå®é™…ä½¿ç”¨æ„Ÿå—</p>

<p>[4] https://huggingface.co/blog/TimothyAlexisVass/explaining-the-sdxl-latent-space sdxlçš„latent imageçš„è§£é‡Š. sdxlçš„latent imageå’ŒåŸå›¾åƒç´ å¯¹åº”.</p>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="photo" /><category term="content" /><category term="ComfyUI" /><category term="sdxl" /><category term="inpaint" /><summary type="html"><![CDATA[ç”¨SAMæŠ å›¾]]></summary></entry><entry><title type="html">photoshop: é…¸æ€§é£æ ¼æµ·æŠ¥</title><link href="https://roshameow.github.io//personal_homepage/docs/photo/photoshop1/" rel="alternate" type="text/html" title="photoshop: é…¸æ€§é£æ ¼æµ·æŠ¥" /><published>2024-02-14T00:00:00+00:00</published><updated>2024-02-19T00:21:24+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/photo/photoshop1</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/photo/photoshop1/"><![CDATA[<p><a href="https://aesthetics.fandom.com/wiki/Acid_Design">é…¸æ€§(acid)é£æ ¼</a> è¿·å¹»æ„Ÿ . è®¾è®¡å…ƒç´ åŒ…å«: é«˜é¥±å’Œ, æµåŠ¨æ€§, æœªæ¥å¤å¤å…ƒç´ , æ ¼çº¹, é•­å°„é‡‘å±, éœ“è™¹è‰². 
<a href="https://www.bilibili.com/video/BV1gD4y127m1/">è¿™ä¸ªé“¾æ¥è§£é‡Šçš„æ¯”è¾ƒè¯¦ç»†</a></p>

<h2 id="åˆ¶ä½œæ¶²æ€æ•ˆæœ-æµåŠ¨æ„Ÿ-é‡‘å±æ„Ÿ">åˆ¶ä½œæ¶²æ€æ•ˆæœ, æµåŠ¨æ„Ÿ, é‡‘å±æ„Ÿ</h2>

<p>åœ¨ç½‘ä¸Šçœ‹åˆ°çš„ä¸¤ä¸ªç®€æ˜“æ•™ç¨‹$\downarrow$</p>
<ol>
  <li>ç‰©ä½“åªä¿ç•™çº¹ç†
    <ol>
      <li>é€‰å–ç´ æå˜æˆgray image: å›¾åƒ-&gt; è°ƒæ•´ -&gt; é»‘ç™½</li>
    </ol>
  </li>
  <li>åˆ¶ä½œç‰©ä½“ä¸­é—´ç±»ä¼¼æµåŠ¨é‡‘å±çš„æ•ˆæœ
    <ol>
      <li>æ•™ç¨‹1çš„åšæ³•:
        <ol>
          <li>å¤åˆ¶ç‰©ä½“</li>
          <li>gaussianæ»¤æ³¢
            <ul>
              <li>ä¸æƒ³æœ‰æ˜¾å¾—ç‰¹åˆ«ä¸å…‰æ»‘çš„åœ°æ–¹</li>
            </ul>
          </li>
          <li>åè‰²</li>
          <li>ä¸‹å±‚ç”¨é“¬é»„æ¸å˜, ç»†èŠ‚,å¹³æ»‘åº¦è°ƒåˆ°æœ€é«˜</li>
          <li>ä¸Šå±‚æ··åˆæ¨¡å¼æ”¹æˆæ­£ç‰‡å åº•(multiply): $I_1*I_2$
            <ul>
              <li>ä¿ç•™åŸç‰©ä½“çš„ç»†èŠ‚</li>
            </ul>
          </li>
          <li>ä¸Šä¸‹ä¸¤ä¸ªå›¾å±‚åˆå¹¶</li>
          <li>æ··åˆæ¨¡å¼æ”¹ä¸ºæ»¤è‰²(screen): æ˜¯$clip(I_1+I_2,0,1)$ å—? å› ä¸ºçœ‹åˆ°ç»“æœæœ‰å…¨ç™½éƒ¨åˆ†
            <ul>
              <li>ä»¿ç»ç’ƒçš„è´¨æ„Ÿ: é€æ˜, å¹¶æ¯”åŸå›¾å±‚äº®</li>
            </ul>
          </li>
        </ol>
      </li>
      <li>æ•™ç¨‹2çš„åšæ³•:
        <ol>
          <li>å¤åˆ¶ç‰©ä½“</li>
          <li>ä¸Šå±‚åè‰², ç”¨å·®å€¼æ¨¡å¼(difference): $abs(I_1-I_2)$
            <ul>
              <li>è¿™ä¸ªç»“æœæ˜¯è¶Šåç¦»ä¸­é—´å€¼128çš„åƒç´ è¶Šäº®</li>
            </ul>
          </li>
          <li>ä¸Šä¸‹ä¸¤ä¸ªå›¾å±‚åˆå¹¶</li>
          <li>é‡å¤2-3æ¬¡
            <ul>
              <li>è¿™ä¸ªçš„ç»“æœå¯èƒ½æ˜¯åœ¨0-255èŒƒå›´å†…è®¾ç½®äº†å‡ ä¸ªé‡åŒ–ç‚¹, è¶Šé è¿‘å…¶ä¸­ä¸€ä¸ªç‚¹å°±ä¼šè¶Šäº®
                <ul>
                  <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240218142334.png" alt="Pasted image 20240218142334.png" width="400" /></li>
                  <li>æ‰€ä»¥å®Œå…¨å¯ä»¥ç›´æ¥æ‹‰æ›²çº¿çš„. æ­¥éª¤1-4éƒ½æœ‰ç‚¹å¤šä½™. åªè¦æœ‰é‚£ç§ç›¸è¿‘çš„åœ°æ–¹æ˜æš—å˜åŒ–å¾ˆå¿«çš„æ„Ÿè§‰å°±å¯ä»¥äº†.</li>
                </ul>
              </li>
            </ul>
          </li>
          <li>ç”¨æ›²çº¿å‹ç¼©åŠ¨æ€èŒƒå›´</li>
          <li>æŠŠä¸€ä¸ªé‡‘å±è‰²æµåŠ¨çš„èƒŒæ™¯å åŠ (overlay)åœ¨ä¸Šå±‚
            <ul>
              <li>overlayæ˜¯screenå’Œmultiplyçš„æ··åˆ</li>
            </ul>
          </li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

<p><a href="https://www.bilibili.com/video/BV18w411B75n/">æ•™ç¨‹1</a> : <img src="/personal_homepage/docs/attachment/Pasted%20image%2020240217233149.png" alt="Pasted image 20240217233149.png" width="300" />   <a href="https://www.bilibili.com/video/BV1684y1T7t6/">æ•™ç¨‹2</a> : <img src="/personal_homepage/docs/attachment/Pasted%20image%2020240218102040.png" alt="Pasted image 20240218102040.png" width="300" /></p>

<ul>
  <li>è¿™ä¸¤ä¸ªæ•™ç¨‹çœ‹èµ·æ¥éƒ½æœ‰ç‚¹éšä¾¿, é¡¶å¤šç®—ä¸€ç§ç‰¹æ®Šæ•ˆæœæ»¤é•œ.
    <ul>
      <li>çœ‹èµ·æ¥å…·ä½“çš„æ­¥éª¤å¹¶ä¸é‡è¦. å› ä¸ºé‡Œé¢ç¡®å®æœ‰äº›æ“ä½œæ„ä¹‰ä¸æ˜å¯ä»¥ç®€åŒ–, å¥‡æ€ªçš„ä¸æ˜¯æ•™ç¨‹é‡Œç»•äº†å¼¯è·¯, è€Œæ˜¯ä¸æ˜ç™½æ¯ä¸€æ­¥çš„åŠ¨æœº. éš¾é“æ˜¯éšä¾¿è¯•äº†è¯•å‘ç°è¿™æ ·å¯ä»¥?</li>
    </ul>
  </li>
  <li>åœ¨<a href="https://www.bilibili.com/video/BV18w411B75n/">æ•™ç¨‹1</a> é‡Œç”¨é“¬é»„æ¸å˜çš„filteråˆ¶ä½œé‡‘å±æ„Ÿ,  <a href="https://www.bilibili.com/video/BV1684y1T7t6/">æ•™ç¨‹2</a> æ›´æ˜¯ç›´æ¥å äº†ä¸€ä¸ªé‡‘å±è‰²çš„å›¾
    <ul>
      <li><a href="https://www.youtube.com/watch?v=RHgT4Q4dDY8">è¿™ä¸ªæ•™ç¨‹</a> å¾ˆè¯¦ç»†çš„ç”¨bevel(å€’è§’)å’Œemboss(æµ®é›•) åˆ¶ä½œé‡‘å±åå…‰æ•ˆæœ. é“¬é»„æ¸å˜çš„æ»¤é•œå¯èƒ½ä¹Ÿæ˜¯ç±»ä¼¼åŸç†çš„ä¸€ç»„æ»¤é•œ?</li>
    </ul>
  </li>
  <li>photoshopçš„blending modeæœ‰äº›æ¨¡å¼æ‰¾ä¸åˆ°å…¬å¼â€¦æ„Ÿè§‰å¾ˆéš¾ç†è§£ç”¨æ³•
    <ul>
      <li>æ¯”å¦‚overlayå’Œscreenâ€¦</li>
    </ul>
  </li>
</ul>

<h2 id="reference">reference</h2>

<p>[1] http://pigs-blood-cake.blogspot.com/p/photoshop.html psä¸­è‹±æ–‡å¯¹ç…§</p>

<p>[2] https://photoshoptrainingchannel.com/blending-modes-explained/#multiply pså›¾å±‚æ··åˆ</p>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="photo" /><category term="content" /><category term="photoshop" /><category term="filter" /><category term="design" /><summary type="html"><![CDATA[é…¸æ€§(acid)é£æ ¼ è¿·å¹»æ„Ÿ . è®¾è®¡å…ƒç´ åŒ…å«: é«˜é¥±å’Œ, æµåŠ¨æ€§, æœªæ¥å¤å¤å…ƒç´ , æ ¼çº¹, é•­å°„é‡‘å±, éœ“è™¹è‰². è¿™ä¸ªé“¾æ¥è§£é‡Šçš„æ¯”è¾ƒè¯¦ç»†]]></summary></entry><entry><title type="html">blenderå­¦ä¹ : ç»ç’ƒæ¯</title><link href="https://roshameow.github.io//personal_homepage/docs/blender/blender-learning6/" rel="alternate" type="text/html" title="blenderå­¦ä¹ : ç»ç’ƒæ¯" /><published>2024-02-10T00:00:00+00:00</published><updated>2024-03-07T01:15:02+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/blender/blender-learning6</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/blender/blender-learning6/"><![CDATA[<p>ç”±cylinderå˜å½¢å¾—åˆ°æ°´æ¯. ç”¨cyclesæ¸²æŸ“ç»ç’ƒæè´¨.</p>
<h2 id="æ­¥éª¤">æ­¥éª¤</h2>

<p>å‚è€ƒ<a href="https://www.bilibili.com/video/BV1Fg4y127c7/">è¿™ä¸ªbç«™çš„æ•™å­¦è§†é¢‘</a></p>

<ul>
  <li>åˆ¶ä½œæ°´æ¯:
    <ol>
      <li>æ·»åŠ ä¸€ä¸ªcylinder</li>
      <li>åˆ é™¤ä¸Šä¸‹ä¸¤ä¸ªåº•: åœ¨Edit Mode, å¼€å¯é€è§†, æŒ‰3é€‰ä¸­é¢åˆ é™¤</li>
      <li>æŠŠä¸‹åº•ç¼©å°ä¸€ç‚¹: æŒ‰1é€‰ä¸­é¡¶ç‚¹</li>
      <li>å¡«å……åº•é¢: ç”¨Ctrl+Få¡«å……, é€‰æ‹©<a href="https://docs.blender.org/manual/en/latest/modeling/meshes/editing/face/grid_fill.html">Grid Fill</a>, è°ƒèŠ‚Offset
        <ul>
          <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240212082748.png" alt="Pasted image 20240212082748.png" width="100" /></li>
        </ul>
      </li>
      <li>åšå‡ºç»ç’ƒæ¯çš„åšåº¦: é€‰ä¸­ä¸Šé¢çš„é¡¶ç‚¹, ç”¨E+Så‘å†…
        <ul>
          <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240212082705.png" alt="Pasted image 20240212082705.png" width="100" /></li>
        </ul>
      </li>
      <li>åšå‡ºç»ç’ƒæ¯çš„å†…å±‚: ç»§ç»­E+Yå‘ä¸‹, Så‘å†…</li>
      <li>åšå‡ºç»ç’ƒæ¯çš„å†…åº•: Ctrl+Få¡«å……, é€‰æ‹©<a href="https://docs.blender.org/manual/en/latest/modeling/meshes/editing/face/grid_fill.html">Grid Fill</a> , è°ƒèŠ‚Offset</li>
      <li>æŠŠæ¯å­å˜å…‰æ»‘:
        <ol>
          <li>åœ¨è¾¹ç¼˜å¤„æ·»åŠ loop cut(å¡çº¿): Ctrl+R å¢åŠ loop cut, Ctrl+Bå‘ä¸Šä¸‹æ‹‰ä¼¸
            <ul>
              <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240212133706.png" alt="Pasted image 20240212133706.png" width="100" /></li>
              <li>æ·»åŠ loop cutæ˜¯ä¸ºäº†ä¹‹åæŠŠæ¯å­è¾¹ç¼˜å˜æˆå¼§å½¢, è€Œä¸å½±å“æ¯å£å’Œæ¯åº•å¹³çš„éƒ¨åˆ†</li>
            </ul>
          </li>
          <li>Shift+option é•¿æŒ‰å‡ºç°é€‰é¡¹, é€‰ä¸­loop, æŒ‰Gç§»åŠ¨loopè¿›è¡Œå¾®è°ƒ
            <ol>
              <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240212141056.png" alt="Pasted image 20240212141056.png" width="100" /></li>
            </ol>
          </li>
        </ol>
      </li>
      <li>æ”¹æˆshade smooth</li>
      <li>åŠ ä¸€ä¸ªsubdivision modifier</li>
    </ol>
  </li>
  <li>åˆ¶ä½œæ‹æ‘„åœºæ™¯:
    <ol>
      <li>æ·»åŠ ä¸€ä¸ªplane mesh</li>
      <li>åœ¨Edit Modeé€‰ä¸­ä¸€ä¸ªè¾¹, E+Zå¤åˆ¶ä¸€ä»½, å‘ä¸Šæ‹‰
        <ol>
          <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240212141942.png" alt="Pasted image 20240212141942.png" width="100" /></li>
        </ol>
      </li>
      <li>é€‰ä¸­ä¸­é—´çš„edge, æ‹‰æˆå¼§çº¿: Shift+Optioné€‰ä¸­, Ctrl+Bæ‹‰ä¼¸, æŒ‰Sæ”¹å˜æ®µæ•°
        <ol>
          <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240212142443.png" alt="Pasted image 20240212142443.png" width="150" /></li>
        </ol>
      </li>
      <li>é€‰æ‹©shade smooth</li>
    </ol>
  </li>
  <li>æ‰“å…‰
    <ul>
      <li>ä¸€ä¸ªarea lightåšä¸»å…‰, å¦ä¸€ä¸ªarea lightåšè¾…å…‰: å½¢çŠ¶è°ƒèŠ‚æˆdisk
        <ul>
          <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240212143950.png" alt="Pasted image 20240212143950.png" width="150" /> <img src="/personal_homepage/docs/attachment/Pasted%20image%2020240212152018.png" alt="Pasted image 20240212152018.png" width="130" /></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>shader:
    <ul>
      <li>cyclesçš„åšæ³•:
        <ul>
          <li>ç”¨Refractionå’ŒGlossyæ··åˆ</li>
          <li>ç”¨<a href="https://docs.blender.org/manual/en/4.0/render/shader_nodes/input/fresnel.html">Fresnel node</a> è°ƒèŠ‚æŠ˜å°„å’Œåå°„çš„æ¯”ä¾‹</li>
          <li>è®¾ç½®IOR(æŠ˜å°„ç‡)ä¸º1.52</li>
          <li>è®¾ç½®ç²—ç³™åº¦ä¸º0</li>
        </ul>
      </li>
      <li>eeveeçš„åšæ³•: <a href="https://www.bilibili.com/video/BV1Fe411Y7oY/">å‚è€ƒè¿™ä¸ªæ•™ç¨‹</a>
        <ul>
          <li>ç”¨glass BSDFå’ŒTransparent BSDFæ··åˆ
            <ul>
              <li>è®¾ç½®IOR(æŠ˜å°„ç‡)ä¸º1.52</li>
              <li>è®¾ç½®ç²—ç³™åº¦ä¸º0</li>
            </ul>
          </li>
          <li>MixShaderçš„æ··åˆå‚æ•°å›ºå®š0.5</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>render:
    <ul>
      <li>cyclesçš„å‚æ•°:
        <ul>
          <li>æŠŠlight Pathsè°ƒæˆFull Global Illumation: å³æ‰€æœ‰åå°„æ¬¡æ•°ä¸º32</li>
        </ul>
      </li>
      <li>eeveeçš„å‚æ•°:
        <ul>
          <li>æ‰“å¼€render-&gt;Screen Space Reflections-&gt;refraction</li>
          <li>æ‰“å¼€ç»ç’ƒæ¯çš„material-&gt;Screen Space Refractioné€‰é¡¹</li>
          <li>æŠŠmaterialçš„Blend Modeå’ŒShadow Modeéƒ½æ”¹æˆAlpha Hashed</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>ç»“æœ:
    <ul>
      <li>cycles: <img src="/personal_homepage/docs/attachment/Pasted%20image%2020240212152142.png" alt="Pasted image 20240212152142.png" width="400" />  eevee: <img src="/personal_homepage/docs/attachment/Pasted%20image%2020240306170629.png" alt="Pasted image 20240306170629.png" width="360" /></li>
    </ul>
  </li>
</ul>

<h2 id="ç”¨åˆ°çš„blenderçš„ä¸€äº›å¿«æ·é”®åŠŸèƒ½">ç”¨åˆ°çš„blenderçš„ä¸€äº›å¿«æ·é”®åŠŸèƒ½</h2>

<ul>
  <li>G/R/S (ç§»åŠ¨/æ—‹è½¬/æ”¾ç¼©) æŒ‰äº†ä¹‹åä¼šæç¤ºæ–¹å‘å¿«æ·é”®</li>
  <li>E (<a href="https://docs.blender.org/manual/en/2.80/modeling/meshes/editing/duplicating/extrude.html">Extrude</a>, æŒ¤å‡º): ä¿æŒåŸé¡¶ç‚¹ä¸å˜, å¤åˆ¶ä¸€ä»½, å¤åˆ¶çš„å’ŒåŸæ¥çš„ç”¨edgeè¿æ¥
    <ul>
      <li>selected face: <img src="https://docs.blender.org/manual/en/2.80/_images/modeling_meshes_editing_duplicating_extrude_face-before.png" alt="drawing" width="150" />  During extrude:  <img src="https://docs.blender.org/manual/en/2.80/_images/modeling_meshes_editing_duplicating_extrude_face-after.png" alt="drawing" width="150" /> Â </li>
    </ul>
  </li>
  <li><a href="https://docs.blender.org/manual/en/latest/modeling/meshes/tools/loop.html">Loop Cut</a>(å¡çº¿): åœ¨edgeä¸­é—´æ·»æ–°çš„é¡¶ç‚¹
    <ul>
      <li>æ·»åŠ loop cut: Ctrl+R</li>
      <li>é€‰ä¸­å·²æœ‰çš„loop cut: Shift+Option+é•¿æŒ‰</li>
    </ul>
  </li>
  <li>Ctrl+B( <a href="https://docs.blender.org/manual/en/2.81/modeling/meshes/editing/subdividing/bevel.html#:~:text=The%20Bevel%20tool%20smooths%20the,above%20to%20run%20the%20tool.">Bevel</a>, æ‹‰ä¼¸, å€’è§’): æŠŠä¸€ä¸ªedgeå˜æˆå¤šä¸ªedge, ä½¿ç‰©ä½“è¾¹ç¼˜å…‰æ»‘
    <ul>
      <li><img src="https://docs.blender.org/manual/zh-hans/2.81/_images/modeling_meshes_editing_subdividing_bevel_example-4.png" alt="drawing" width="150" /></li>
      <li>æŒ‰Så¯ä»¥æ”¹å˜æ®µæ•°</li>
    </ul>
  </li>
  <li>Edit Mode 1/2/3 (é€‰vertex, edge, face)</li>
</ul>

<h2 id="frenselåå°„ç³»æ•°">Frenselåå°„ç³»æ•°</h2>

<p>Frensel nodeç¡®å®šæŠ˜å°„å’Œåå°„æ¯”ä¾‹, ä»blenderçš„å‚æ•°çœ‹, å—IOR(æŠ˜å°„ç‡)å’Œå¹³é¢æ³•å‘çš„å½±å“</p>

<ul>
  <li>æ¨å¯¼:
    <ul>
      <li>æ ¹æ®<a href="https://en.wikipedia.org/wiki/Fresnel_equations">Fresnel equation</a> çš„dielectric(ç»ç¼˜ä½“)çš„ç‰ˆæœ¬: $R=0.5*(r_{\perp}^2+r_{\parallel}^2)$
        <ul>
          <li>å…¶ä¸­: $r_{\perp}=\frac{n_i\cos\theta_i-n_t\cos\theta_t}{n_i\cos\theta_i+n_t\cos\theta_t}$  , $r_{\parallel}=\frac{n_t\cos\theta_i-n_i\cos\theta_t}{n_t\cos\theta_i+n_i\cos\theta_t}$
            <ul>
              <li>$n_i$ æ˜¯å…¥å°„ä»‹è´¨(å³ç©ºæ°”=1)çš„æŠ˜å°„ç‡</li>
              <li>$n_t$ æ˜¯ä¼ æ’­ä»‹è´¨(å³ç»ç’ƒ=1.52)çš„æŠ˜å°„ç‡</li>
              <li>$\cos\theta_i=(n\cdot w_o)$ è¡¨ç¤ºå¹³é¢æ³•å‘å’Œè§‚å¯Ÿæ–¹å‘çš„å¤¹è§’ï¼šè§‚å¯Ÿæ–¹å‘è¶Šå¹³è¡Œäºå¹³é¢ï¼Œ$\theta_i$ è¶Šå¤§ï¼ŒæŠ˜å°„è¶Šå°‘, åå°„è¶Šå¼º
                <ul>
                  <li>pathtracingçš„æ–¹æ³•é‡Œ, è§‚å¯Ÿæ–¹å‘å°±æ˜¯å…¥å°„æ–¹å‘</li>
                </ul>
              </li>
              <li>$\cos\theta_t$ è¡¨ç¤ºå¹³é¢æ³•å‘å’Œä¼ æ’­æ–¹å‘çš„å¤¹è§’, æ ¹æ®<a href="https://en.wikipedia.org/wiki/Snell%27s_law">Snellâ€™s law</a>: $\frac{\sin\theta_t}{\sin\theta_i}=\frac{n_i}{n_t}=\frac{1}{\eta}$
                <ul>
                  <li>$\eta=n_t/n_i$ : ratio of IOR, æ­£é¢æ˜¯$n$, åé¢æ˜¯$1/n$</li>
                  <li>åˆ™$\cos\theta_t=\sqrt{1-\sin^2\theta_t}=\sqrt{1-\frac{1}{\eta^2}(1-\cos^2\theta_i)}=\frac{1}{\eta}\sqrt{\eta^2-1+\cos^2\theta_i}$</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>ä»£ç ä¸­çš„è¡¨è¾¾æ–¹å¼:
  \(\begin{align}R &amp;=0.5*((\frac{n_i\cos\theta_i-n_t\cos\theta_t}{n_i\cos\theta_i+n_t\cos\theta_t})^2+(\frac{n_t\cos\theta_i-n_i\cos\theta_t}{n_t\cos\theta_i+n_i\cos\theta_t})^2)\\\\ &amp;=0.5*((\frac{\cos\theta_i-\eta\cos\theta_t}{\cos\theta_i+\eta\cos\theta_t})^2+(\frac{\eta\cos\theta_i-\cos\theta_t}{\eta\cos\theta_i+\cos\theta_t})^2)\; (\eta=n_t/n_i\text{æ˜¯ratio of IOR, æ­£é¢æ˜¯n, åé¢æ˜¯1/n)}\\\\ &amp;=0.5*((\frac{c-g}{c+g})^2+(\frac{\eta^2c-g}{\eta^2c+g})^2)\;\; (\text{è®© }c=\cos\theta_i,\  g=\sqrt{\eta^2-1+\cos^2\theta}=\eta\cos\theta_t, \text{ è¿™æ­¥å·²ç»è¶³å¤ŸåŒ–ç®€äº†, ä¸ºä»€ä¹ˆè¦æŠŠ}\eta\text{å®Œå…¨æ›¿æ¢æ‰å‘¢?})\\\\ &amp;=0.5*((\frac{c-g}{c+g})^2+(\frac{(1+g^2-c^2)c-g}{(1+g^2-c^2)c+g})^2)\;\; (\text{æ ¹æ® }\eta^2=1+g^2-c^2)\\\\  &amp;=0.5*((\frac{c-g}{c+g})^2+(\frac{c-g}{c+g})^2(\frac{1-c(c+g)}{1+c(g-c)})^2)\\\\  &amp;=0.5*(A^2+A^2B^2)=0.5*A^2(1+B^2)\;\; (\text{è®© }A=\frac{g-c}{g+c}, B=\frac{c(g+c)-1}{c(g-c)+1})\end{align}\)</li>
    </ul>
  </li>
  <li>blenderä»£ç :
    <ul>
      <li><a href="https://projects.blender.org/blender/cycles/src/branch/main/src/kernel/osl/shaders/node_fresnel.osl">cycles/node_fresnel.osl at main</a></li>
      <li><a href="https://projects.blender.org/blender/cycles/src/branch/main/src/kernel/osl/shaders/node_fresnel.h">cycles/node_fresnel.h at main</a></li>
    </ul>
  </li>
</ul>

<h2 id="reference">reference</h2>
<p><span id="ref"></span></p>

<p>[1] https://seblagarde.wordpress.com/2013/04/29/memo-on-fresnel-equations/ ä¸€äº›ç‰ˆæœ¬çš„å…¬å¼æ¨å¯¼å’Œreference</p>

<p>[2] https://blenderartists.org/t/whats-the-math-behind-fresnel-node/1502809/11 Fensel nodeè®¨è®º</p>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="blender" /><category term="content" /><category term="shader" /><category term="3d_model" /><category term="shortcut" /><summary type="html"><![CDATA[ç”±cylinderå˜å½¢å¾—åˆ°æ°´æ¯. ç”¨cyclesæ¸²æŸ“ç»ç’ƒæè´¨. æ­¥éª¤]]></summary></entry></feed>