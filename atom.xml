<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.3.3">Jekyll</generator><link href="https://roshameow.github.io//personal_homepage/atom.xml" rel="self" type="application/atom+xml" /><link href="https://roshameow.github.io//personal_homepage/" rel="alternate" type="text/html" /><updated>2024-02-15T17:01:15+00:00</updated><id>https://roshameow.github.io//personal_homepage/atom.xml</id><title type="html">Liu, Wenâ€™s Home Page</title><subtitle>Work, Experiments and Ideas.</subtitle><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><entry><title type="html">photoshop: é…¸æ€§æµ·æŠ¥</title><link href="https://roshameow.github.io//personal_homepage/docs/photo/photoshop-sore/" rel="alternate" type="text/html" title="photoshop: é…¸æ€§æµ·æŠ¥" /><published>2024-02-14T00:00:00+00:00</published><updated>2024-02-16T08:57:10+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/photo/photoshop-sore</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/photo/photoshop-sore/"><![CDATA[]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="photo" /><category term="content" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">blenderå­¦ä¹ : ç»ç’ƒæ¯</title><link href="https://roshameow.github.io//personal_homepage/docs/blender/blender-learning6/" rel="alternate" type="text/html" title="blenderå­¦ä¹ : ç»ç’ƒæ¯" /><published>2024-02-10T00:00:00+00:00</published><updated>2024-02-16T08:39:36+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/blender/blender-learning6</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/blender/blender-learning6/"><![CDATA[<p>ç”±cylinderå˜å½¢å¾—åˆ°æ°´æ¯. ç”¨cyclesæ¸²æŸ“ç»ç’ƒæè´¨.</p>
<h2 id="æ­¥éª¤">æ­¥éª¤</h2>

<p>å‚è€ƒ<a href="https://www.bilibili.com/video/BV1Fg4y127c7/">è¿™ä¸ªbç«™çš„æ•™å­¦è§†é¢‘</a></p>

<ul>
  <li>åˆ¶ä½œæ°´æ¯:
    <ol>
      <li>æ·»åŠ ä¸€ä¸ªcylinder</li>
      <li>åˆ é™¤ä¸Šä¸‹ä¸¤ä¸ªåº•: åœ¨Edit Mode, å¼€å¯é€è§†, æŒ‰3é€‰ä¸­é¢åˆ é™¤</li>
      <li>æŠŠä¸‹åº•ç¼©å°ä¸€ç‚¹: æŒ‰1é€‰ä¸­é¡¶ç‚¹</li>
      <li>å¡«å……åº•é¢: ç”¨Ctrl+Få¡«å……, é€‰æ‹©<a href="https://docs.blender.org/manual/en/latest/modeling/meshes/editing/face/grid_fill.html">Grid Fill</a>, è°ƒèŠ‚Offset
        <ul>
          <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240212082748.png" alt="Pasted image 20240212082748.png" width="100" /></li>
        </ul>
      </li>
      <li>åšå‡ºç»ç’ƒæ¯çš„åšåº¦: é€‰ä¸­ä¸Šé¢çš„é¡¶ç‚¹, ç”¨E+Så‘å†…
        <ul>
          <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240212082705.png" alt="Pasted image 20240212082705.png" width="100" /></li>
        </ul>
      </li>
      <li>åšå‡ºç»ç’ƒæ¯çš„å†…å±‚: ç»§ç»­E+Yå‘ä¸‹, Så‘å†…</li>
      <li>åšå‡ºç»ç’ƒæ¯çš„å†…åº•: Ctrl+Få¡«å……, é€‰æ‹©<a href="https://docs.blender.org/manual/en/latest/modeling/meshes/editing/face/grid_fill.html">Grid Fill</a> , è°ƒèŠ‚Offset</li>
      <li>æŠŠæ¯å­å˜å…‰æ»‘:
        <ol>
          <li>åœ¨è¾¹ç¼˜å¤„æ·»åŠ loop cut(å¡çº¿): Ctrl+R å¢åŠ loop cut, Ctrl+Bå‘ä¸Šä¸‹æ‹‰ä¼¸
            <ul>
              <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240212133706.png" alt="Pasted image 20240212133706.png" width="100" /></li>
              <li>æ·»åŠ loop cutæ˜¯ä¸ºäº†ä¹‹åæŠŠæ¯å­è¾¹ç¼˜å˜æˆå¼§å½¢, è€Œä¸å½±å“æ¯å£å’Œæ¯åº•å¹³çš„éƒ¨åˆ†</li>
            </ul>
          </li>
          <li>Shift+option é•¿æŒ‰å‡ºç°é€‰é¡¹, é€‰ä¸­loop, æŒ‰Gç§»åŠ¨loopè¿›è¡Œå¾®è°ƒ
            <ol>
              <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240212141056.png" alt="Pasted image 20240212141056.png" width="100" /></li>
            </ol>
          </li>
        </ol>
      </li>
      <li>æ”¹æˆshade smooth</li>
      <li>åŠ ä¸€ä¸ªsubdivision modifier</li>
    </ol>
  </li>
  <li>åˆ¶ä½œæ‹æ‘„åœºæ™¯:
    <ol>
      <li>æ·»åŠ ä¸€ä¸ªplane mesh</li>
      <li>åœ¨Edit Modeé€‰ä¸­ä¸€ä¸ªè¾¹, E+Zå¤åˆ¶ä¸€ä»½, å‘ä¸Šæ‹‰
        <ol>
          <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240212141942.png" alt="Pasted image 20240212141942.png" width="100" /></li>
        </ol>
      </li>
      <li>é€‰ä¸­ä¸­é—´çš„edge, æ‹‰æˆå¼§çº¿: Shift+Optioné€‰ä¸­, Ctrl+Bæ‹‰ä¼¸, æŒ‰Sæ”¹å˜æ®µæ•°
        <ol>
          <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240212142443.png" alt="Pasted image 20240212142443.png" width="150" /></li>
        </ol>
      </li>
      <li>é€‰æ‹©shade smooth</li>
    </ol>
  </li>
  <li>æ‰“å…‰
    <ul>
      <li>ä¸€ä¸ªarea lightåšä¸»å…‰, å¦ä¸€ä¸ªarea lightåšè¾…å…‰: å½¢çŠ¶è°ƒèŠ‚æˆdisk
        <ul>
          <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240212143950.png" alt="Pasted image 20240212143950.png" width="150" /> <img src="/personal_homepage/docs/attachment/Pasted%20image%2020240212152018.png" alt="Pasted image 20240212152018.png" width="130" /></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>shader:
    <ul>
      <li>ç”¨Refractionå’ŒGlossyæ··åˆ</li>
      <li>ç”¨<a href="https://docs.blender.org/manual/en/4.0/render/shader_nodes/input/fresnel.html">Fresnel node</a> è°ƒèŠ‚æŠ˜å°„å’Œåå°„çš„æ¯”ä¾‹</li>
      <li>è®¾ç½®IOR(æŠ˜å°„ç‡)ä¸º1.52</li>
      <li>è®¾ç½®ç²—ç³™åº¦ä¸º0</li>
    </ul>
  </li>
  <li>render:
    <ul>
      <li>ç”¨cycles, æŠŠlight Pathsè°ƒæˆFull Global Illumation: å³æ‰€æœ‰åå°„æ¬¡æ•°ä¸º32</li>
    </ul>
  </li>
  <li>ç»“æœ:
    <ul>
      <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240212152142.png" alt="Pasted image 20240212152142.png" width="400" /></li>
    </ul>
  </li>
</ul>

<h2 id="ç”¨åˆ°çš„blenderçš„ä¸€äº›å¿«æ·é”®åŠŸèƒ½">ç”¨åˆ°çš„blenderçš„ä¸€äº›å¿«æ·é”®åŠŸèƒ½</h2>

<ul>
  <li>G/R/S (ç§»åŠ¨/æ—‹è½¬/æ”¾ç¼©) æŒ‰äº†ä¹‹åä¼šæç¤ºæ–¹å‘å¿«æ·é”®</li>
  <li>E (<a href="https://docs.blender.org/manual/en/2.80/modeling/meshes/editing/duplicating/extrude.html">Extrude</a>, æŒ¤å‡º): ä¿æŒåŸé¡¶ç‚¹ä¸å˜, å¤åˆ¶ä¸€ä»½, å¤åˆ¶çš„å’ŒåŸæ¥çš„ç”¨edgeè¿æ¥
    <ul>
      <li>selected face: <img src="https://docs.blender.org/manual/en/2.80/_images/modeling_meshes_editing_duplicating_extrude_face-before.png" alt="drawing" width="150" />  During extrude:  <img src="https://docs.blender.org/manual/en/2.80/_images/modeling_meshes_editing_duplicating_extrude_face-after.png" alt="drawing" width="150" /> Â </li>
    </ul>
  </li>
  <li><a href="https://docs.blender.org/manual/en/latest/modeling/meshes/tools/loop.html">Loop Cut</a>(å¡çº¿): åœ¨edgeä¸­é—´æ·»æ–°çš„é¡¶ç‚¹
    <ul>
      <li>æ·»åŠ loop cut: Ctrl+R</li>
      <li>é€‰ä¸­å·²æœ‰çš„loop cut: Shift+Option+é•¿æŒ‰</li>
    </ul>
  </li>
  <li>Ctrl+B( <a href="https://docs.blender.org/manual/en/2.81/modeling/meshes/editing/subdividing/bevel.html#:~:text=The%20Bevel%20tool%20smooths%20the,above%20to%20run%20the%20tool.">Bevel</a>, æ‹‰ä¼¸, å€’è§’): æŠŠä¸€ä¸ªedgeå˜æˆå¤šä¸ªedge, ä½¿ç‰©ä½“è¾¹ç¼˜å…‰æ»‘
    <ul>
      <li><img src="https://docs.blender.org/manual/zh-hans/2.81/_images/modeling_meshes_editing_subdividing_bevel_example-4.png" alt="drawing" width="150" /></li>
      <li>æŒ‰Så¯ä»¥æ”¹å˜æ®µæ•°</li>
    </ul>
  </li>
  <li>Edit Mode 1/2/3 (é€‰vertex, edge, face)</li>
</ul>

<h2 id="frenselåå°„ç³»æ•°">Frenselåå°„ç³»æ•°</h2>

<p>Frensel nodeç¡®å®šæŠ˜å°„å’Œåå°„æ¯”ä¾‹, ä»blenderçš„å‚æ•°çœ‹, å—IOR(æŠ˜å°„ç‡)å’Œå¹³é¢æ³•å‘çš„å½±å“</p>

<ul>
  <li>æ¨å¯¼:
    <ul>
      <li>æ ¹æ®<a href="https://en.wikipedia.org/wiki/Fresnel_equations">Fresnel equation</a> çš„dielectric(ç»ç¼˜ä½“)çš„ç‰ˆæœ¬: $R=0.5*(r_{\perp}^2+r_{\parallel}^2)$
        <ul>
          <li>å…¶ä¸­: $r_{\perp}=\frac{n_i\cos\theta_i-n_t\cos\theta_t}{n_i\cos\theta_i+n_t\cos\theta_t}$  , $r_{\parallel}=\frac{n_t\cos\theta_i-n_i\cos\theta_t}{n_t\cos\theta_i+n_i\cos\theta_t}$
            <ul>
              <li>$n_i$ æ˜¯å…¥å°„ä»‹è´¨(å³ç©ºæ°”=1)çš„æŠ˜å°„ç‡</li>
              <li>$n_t$ æ˜¯ä¼ æ’­ä»‹è´¨(å³ç»ç’ƒ=1.52)çš„æŠ˜å°„ç‡</li>
              <li>$\cos\theta_i=(n\cdot w_o)$ è¡¨ç¤ºå¹³é¢æ³•å‘å’Œè§‚å¯Ÿæ–¹å‘çš„å¤¹è§’ï¼šè§‚å¯Ÿæ–¹å‘è¶Šå¹³è¡Œäºå¹³é¢ï¼Œ$\theta_i$ è¶Šå¤§ï¼ŒæŠ˜å°„è¶Šå°‘, åå°„è¶Šå¼º
                <ul>
                  <li>pathtracingçš„æ–¹æ³•é‡Œ, è§‚å¯Ÿæ–¹å‘å°±æ˜¯å…¥å°„æ–¹å‘</li>
                </ul>
              </li>
              <li>$\cos\theta_t$ è¡¨ç¤ºå¹³é¢æ³•å‘å’Œä¼ æ’­æ–¹å‘çš„å¤¹è§’, æ ¹æ®<a href="https://en.wikipedia.org/wiki/Snell%27s_law">Snellâ€™s law</a>: $\frac{\sin\theta_t}{\sin\theta_i}=\frac{n_i}{n_t}=\frac{1}{\eta}$
                <ul>
                  <li>$\eta=n_t/n_i$ : ratio of IOR, æ­£é¢æ˜¯$n$, åé¢æ˜¯$1/n$</li>
                  <li>åˆ™$\cos\theta_t=\sqrt{1-\sin^2\theta_t}=\sqrt{1-\frac{1}{\eta^2}(1-\cos^2\theta_i)}=\frac{1}{\eta}\sqrt{\eta^2-1+\cos^2\theta_i}$</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>ä»£ç ä¸­çš„è¡¨è¾¾æ–¹å¼:
  \(\begin{align}R &amp;=0.5*((\frac{n_i\cos\theta_i-n_t\cos\theta_t}{n_i\cos\theta_i+n_t\cos\theta_t})^2+(\frac{n_t\cos\theta_i-n_i\cos\theta_t}{n_t\cos\theta_i+n_i\cos\theta_t})^2)\\\\ &amp;=0.5*((\frac{\cos\theta_i-\eta\cos\theta_t}{\cos\theta_i+\eta\cos\theta_t})^2+(\frac{\eta\cos\theta_i-\cos\theta_t}{\eta\cos\theta_i+\cos\theta_t})^2)\; (\eta=n_t/n_i\text{æ˜¯ratio of IOR, æ­£é¢æ˜¯n, åé¢æ˜¯1/n)}\\\\ &amp;=0.5*((\frac{c-g}{c+g})^2+(\frac{\eta^2c-g}{\eta^2c+g})^2)\;\; (\text{è®© }c=\cos\theta_i,\  g=\sqrt{\eta^2-1+\cos^2\theta}=\eta\cos\theta_t)\\\\ &amp;=0.5*((\frac{c-g}{c+g})^2+(\frac{(1+g^2-c^2)c-g}{(1+g^2-c^2)c+g})^2)\;\; (\text{æ ¹æ® }\eta^2=1+g^2-c^2)\\\\  &amp;=0.5*((\frac{c-g}{c+g})^2+(\frac{c-g}{c+g})^2(\frac{1-c(c+g)}{1+c(g-c)})^2)\\\\  &amp;=0.5*(A^2+A^2B^2)=0.5*A^2(1+B^2)\;\; (\text{è®© }A=\frac{g-c}{g+c}, B=\frac{c(g+c)-1}{c(g-c)+1})\end{align}\)</li>
    </ul>
  </li>
  <li>blenderä»£ç :
    <ul>
      <li><a href="https://projects.blender.org/blender/cycles/src/branch/main/src/kernel/osl/shaders/node_fresnel.osl">cycles/node_fresnel.osl at main</a></li>
      <li><a href="https://projects.blender.org/blender/cycles/src/branch/main/src/kernel/osl/shaders/node_fresnel.h">cycles/node_fresnel.h at main</a></li>
    </ul>
  </li>
</ul>

<h2 id="reference">reference</h2>
<p><span id="ref"></span></p>

<p>[1] https://seblagarde.wordpress.com/2013/04/29/memo-on-fresnel-equations/ ä¸€äº›ç‰ˆæœ¬çš„å…¬å¼æ¨å¯¼å’Œreference</p>

<p>[2] https://blenderartists.org/t/whats-the-math-behind-fresnel-node/1502809/11 Fensel nodeè®¨è®º</p>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="blender" /><category term="content" /><category term="shader" /><category term="3d_model" /><category term="shortcut" /><summary type="html"><![CDATA[ç”±cylinderå˜å½¢å¾—åˆ°æ°´æ¯. ç”¨cyclesæ¸²æŸ“ç»ç’ƒæè´¨. æ­¥éª¤]]></summary></entry><entry><title type="html">stable-diffusionçš„ç”¨æ³•: ç”¨ lora+controlnetåšé£æ ¼è½¬æ¢</title><link href="https://roshameow.github.io//personal_homepage/docs/photo/stable-diffusion2/" rel="alternate" type="text/html" title="stable-diffusionçš„ç”¨æ³•: ç”¨ lora+controlnetåšé£æ ¼è½¬æ¢" /><published>2024-02-09T00:00:00+00:00</published><updated>2024-02-16T01:38:07+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/photo/stable-diffusion2</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/photo/stable-diffusion2/"><![CDATA[<p>å°è¯•åªç”¨ipadapteråšçŒ«çš„é£æ ¼è½¬æ¢, éå¸¸ä¸æˆåŠŸ, ipadapterè¿˜æ˜¯æ— æ³•æ§åˆ¶è¾“å…¥çš„å…ƒç´ . å¿…é¡»è¦ç”¨å¤šå¼ å›¾ç‰‡è®­ç»ƒçš„LoRAæ§åˆ¶. 
å¦å¤–, çŒ«è„¸ä¸Šé¢œè‰²åˆ†å¸ƒçš„ç‰¹å¾, æ²¡æœ‰controlnetå¯ä»¥ç›´æ¥è¡¨ç¤º.</p>

<h2 id="comfyuiæ­¥éª¤">ComfyUIæ­¥éª¤</h2>

<ol>
  <li><strong>è®­ç»ƒLora</strong>
    <ul>
      <li>ç”¨<a href="https://github.com/bmaltais/kohya_ss">kohya_ss</a> çš„guiè®­ç»ƒ
        <ul>
          <li>network rankè®¾ç½®64</li>
          <li>æ‰“å¼€Gradient checkpoint, ä¸ç„¶æˆ‘16Gçš„æ˜¾å­˜ä¸å¤Ÿç”¨</li>
          <li>å¦å¤–, æˆ‘çš„wsl2éœ€è¦è§£å†³ä¸€ä¸‹æ‰¾ä¸åˆ°cuda toolkitçš„é—®é¢˜
            <ul>
              <li>æ£€æŸ¥å‘ç°æ˜¯ubuntuçš„requirementé‡Œé¢æŒ‡å®šçš„torchå’Œbitsandbytesç‰ˆæœ¬ä¸åŒ¹é…</li>
              <li>åœ¨è™šæ‹Ÿç¯å¢ƒé‡Œ, å‡çº§åˆ°æœ€æ–°ç‰ˆ2.2åä»£ç åˆå‡ºé—®é¢˜</li>
              <li>æœ€åå‚è€ƒwindowsç‰ˆæœ¬çš„requirement.txt, æ”¹æˆtorch=2.1.0+cu118è§£å†³äº†</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>è¿ä¸ŠLoraèŠ‚ç‚¹</strong>
    <ul>
      <li>ComfyUIé‡Œè¿æ¥é¡ºåºæ˜¯: Checkpoint: model, clip -&gt; Lora</li>
      <li>å¤šä¸ªLoraé¡ºåºè¿æ¥å°±è¡Œ</li>
      <li>ipçš„loraçš„weigtè®¾ä¸º1.22, é£æ ¼åŒ–loraçš„weightä¸ç”¨è®¾é‚£ä¹ˆå¤§</li>
    </ul>
  </li>
  <li><strong>å†™text prompt</strong>
    <ul>
      <li>å†™äº†åŒ…æ‹¬æè¿°å†…å®¹çš„, loraé…å¥—çš„, æè¿°æƒ³è¦é£æ ¼çš„positive prompt</li>
    </ul>
  </li>
  <li><strong>è¿ä¸ŠControlnetèŠ‚ç‚¹</strong>
    <ul>
      <li>ç”¨åˆ°äº†<a href="https://huggingface.co/collections/diffusers/sdxl-controlnets-64f9c35846f3f06f5abe351f">cannyæ¨¡å‹, depthæ¨¡å‹</a>
        <ul>
          <li>ä¸‹è½½<a href="https://github.com/kijai/ComfyUI-Marigold">Marigold</a>çš„æ·±åº¦è¯†åˆ«æ¨¡å‹èŠ‚ç‚¹</li>
        </ul>
      </li>
    </ul>
  </li>
</ol>

<h2 id="ç»“æœ">ç»“æœ</h2>

<p><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240209124721.png" alt="Pasted image 20240209124721.png" width="150" /> -&gt; <img src="/personal_homepage/docs/attachment/Pasted%20image%2020240209124343.png" alt="Pasted image 20240209124343.png" width="600" /></p>

<ul>
  <li><strong>é£æ ¼:</strong> 3ç§æ–¹æ³•éƒ½å¯ä»¥
    <ol>
      <li>text prompté‡Œè¾“å…¥</li>
      <li>é£æ ¼LoRA
        <ul>
          <li>åœ¨promptä¹Ÿè¦åŠ ä¸Šå¯¹åº”é£æ ¼å…³é”®è¯</li>
        </ul>
      </li>
      <li>ç”¨ipadpterè¾“å…¥é£æ ¼å›¾ç‰‡æ§åˆ¶
        <ul>
          <li>ipadpterçš„weightéœ€è¦è°ƒæ•´: ä¸èƒ½å¤ªä½(é£æ ¼åŒ–æ²¡ç”¨), ä¹Ÿä¸èƒ½å¤ªé«˜(å’Œé£æ ¼å›¾å¤ªåƒ)</li>
          <li>ä¸€ç›´æœ‰å’Œé£æ ¼å›¾å¤ªåƒ, æˆ–è€…é£æ ¼å›¾æä¾›æˆ‘ä»¬ä¸æƒ³è¦å…ƒç´ çš„é£é™©â€¦æ¯•ç«Ÿä¸€å¼ å›¾ç‰‡çš„ä¿¡æ¯ä¸åƒæ–‡å­—å’Œloraé‚£æ ·æœ‰æ˜ç¡®çš„æŒ‡å‘æ€§</li>
          <li>æˆ‘ç”¨çš„ä¸æ˜¯æ¢è„¸æ¨¡å‹, ä½†æ˜¯æ¨¡å‹å¥½åƒç‰¹åˆ«æ‰§ç€äºæ¢è„¸? çš„ç¡®æ¨¡å‹æœ¬æ¥çš„ç›®çš„æ˜¯æ¢ipâ€¦</li>
        </ul>
      </li>
    </ol>
  </li>
  <li><strong>æ§åˆ¶:</strong>
    <ul>
      <li>ç”¨cannyæˆ–depthæ¨¡å‹éƒ½èƒ½åšåˆ°æ§åˆ¶çŒ«çš„ä½ç½®
        <ul>
          <li>Marigoldçš„è¯†åˆ«ç‰¹åˆ«æ…¢, å°è¯•çš„æ—¶å€™è®¡ç®—å®Œæ·±åº¦å›¾è¦å…ˆæŠŠé‚£ä¸ªèŠ‚ç‚¹æ–­å¼€</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>é—®é¢˜:</strong>
    <ul>
      <li>æœ‰äº›é£æ ¼å•ç‹¬å¯ä»¥å‡ºå›¾, ä½†æ˜¯åŠ äº†æˆ‘è®­ç»ƒçš„çŒ«çš„LoRAå°±æ²¡æ³•å‡ºå¯¹åº”é£æ ¼çš„å›¾äº†</li>
      <li>ç”¨LoRAè®­ç»ƒçš„æ¨¡å‹æ²¡æœ‰å®Œå…¨ç†è§£æˆ‘çš„çŒ«çš„æ‰€æœ‰ç‰¹å¾: å°¤å…¶æ˜¯é¼»å­å’Œå˜´é™„è¿‘çš„æ¯›è‰²
        <ul>
          <li>æˆ‘ç”¨äº†30å¤šå¼ ç…§ç‰‡, ä¹Ÿæ²¡æœ‰æ”¹labelçš„caption, æ‰€ä»¥å¯èƒ½è¿˜æœ‰è´¨é‡å¢åŠ çš„ç©ºé—´</li>
        </ul>
      </li>
      <li>ç”¨ipadpterçš„å¤±è´¥ç»éªŒ:
        <ul>
          <li>å¦‚æœç”¨ä¸€å¼ çŒ«çš„å›¾ç‰‡å’Œä¸€å¼ é£æ ¼å›¾
            <ul>
              <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240209133511.png" alt="Pasted image 20240209133511.png" width="100" /></li>
              <li>æ— æ³•æ§åˆ¶è¾“å…¥å…ƒç´ </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="comfyui-workflow">ComfyUI workflow</h2>

<p>ç”¨Loraè°ƒæ•´é£æ ¼$\downarrow$ : <a href="https://gist.github.com/roshameow/d952bf0157a25ab3e9e724df1449b160#file-rosha_lora_controlnet_canny_depth_style_change-json"><strong>rosha_lora_controlnet_canny_depth_style_change.json</strong></a></p>

<p><img src="/personal_homepage/docs/attachment/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-02-08%20230728.png" alt="å±å¹•æˆªå›¾ 2024-02-08 230728.png" width="800" /></p>

<p>ç”¨ipadatorè°ƒæ•´é£æ ¼$\downarrow$ : <a href="https://gist.github.com/roshameow/d952bf0157a25ab3e9e724df1449b160#file-rosha_lora_ipadapter_style_tranformation-json"><strong>rosha_lora_ipadapter_style_tranformation.json</strong></a></p>

<p><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240209135354.png" alt="Pasted image 20240209135354.png" width="800" /></p>

<h2 id="èµ„æº">èµ„æº</h2>

<p>è‰ºæœ¯é£æ ¼prompt:</p>

<p>[1] https://medium.com/phygital/top-40-useful-prompts-for-stable-diffusion-xl-008c03dd0557</p>

<p>[2] https://docs.midjourney.com/docs/explore-prompting</p>

<p>[3] https://www.urania.ai/top-sd-artists</p>

<p>[4] https://github.com/SupaGruen/StableDiffusion-CheatSheet æ˜¯v1.5æ’ä»¶</p>

<p>Loraè®­ç»ƒ:</p>

<p>[5] Â <a href="https://www.youtube.com/watch?v=NaHtI0u3Am4">https://www.youtube.com/watch?v=NaHtI0u3Am4</a> kohya_ssçš„å‚æ•°è®¾ç½®,</p>

<p>[6] https://zhuanlan.zhihu.com/p/654322145.   ä¸‹é¢è®¨è®ºè¯´optimizerè¿˜æ˜¯é»˜è®¤æ¯”è¾ƒå¥½?</p>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="photo" /><category term="content" /><category term="ComfyUI" /><category term="ipadapter" /><category term="controlnet" /><category term="canny" /><category term="sdxl" /><summary type="html"><![CDATA[å°è¯•åªç”¨ipadapteråšçŒ«çš„é£æ ¼è½¬æ¢, éå¸¸ä¸æˆåŠŸ, ipadapterè¿˜æ˜¯æ— æ³•æ§åˆ¶è¾“å…¥çš„å…ƒç´ . å¿…é¡»è¦ç”¨å¤šå¼ å›¾ç‰‡è®­ç»ƒçš„LoRAæ§åˆ¶. å¦å¤–, çŒ«è„¸ä¸Šé¢œè‰²åˆ†å¸ƒçš„ç‰¹å¾, æ²¡æœ‰controlnetå¯ä»¥ç›´æ¥è¡¨ç¤º.]]></summary></entry><entry><title type="html">blenderå­¦ä¹ : åšç«ç„°æ•ˆæœ</title><link href="https://roshameow.github.io//personal_homepage/docs/blender/blender-learning5/" rel="alternate" type="text/html" title="blenderå­¦ä¹ : åšç«ç„°æ•ˆæœ" /><published>2024-02-08T00:00:00+00:00</published><updated>2024-02-12T03:33:52+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/blender/blender-learning5</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/blender/blender-learning5/"><![CDATA[<p>ç«ç„°çš„å½¢çŠ¶ç”¨åœ†å½¢å˜å½¢ä¸€åŠè·å¾—. ç”¨<a href="https://en.wikipedia.org/wiki/Perlin_noise">Perlin noise</a>ä½¿åæ ‡å˜å½¢åˆ¶ä½œéšæœºæŠ–åŠ¨. ç”¨Emission nodeæ¸²æŸ“å‘å…‰æ•ˆæœ.</p>

<h2 id="ç”¨graph-editorå’Œnoise-texture---é£è¡Œå™¨ç«ç„°">ç”¨graph editorå’Œnoise texture -&gt; é£è¡Œå™¨ç«ç„°</h2>
<h3 id="æ­¥éª¤">æ­¥éª¤</h3>

<p>å‚è€ƒRuiHuang_artåœ¨<a href="https://www.bilibili.com/video/BV1HH4y1Y7Vv/">bç«™çš„æ•™å­¦è§†é¢‘</a> , å’Œåšè½¦æµç”¨åˆ°çš„åŠŸèƒ½å·®ä¸å¤š</p>
<ul>
  <li>world property: åŠ å…¥ä¸€ä¸ªèƒŒæ™¯çš„è´´å›¾</li>
  <li>åˆ¶åšä¸€ä¸ªå¹³é¢çš„ç«ç„°:
    <ul>
      <li>æ·»åŠ ä¸€ä¸ªPlane mesh</li>
      <li>åˆ†æˆä¸¤åŠ: åœ¨Editç¼–è¾‘æ¨¡å¼ä¸‹, æŒ‰Ctrl+RåŠ <a href="https://docs.blender.org/manual/en/latest/modeling/meshes/tools/loop.html">loop cut</a> , åœ¨edgeä¸­é—´æ·»åŠ æ–°çš„é¡¶ç‚¹,</li>
      <li>æŠŠä¸€åŠæ‹‰é•¿: é€‰ä¸­é¡¶ç‚¹åæŒ‰G+Yåœ¨Yè½´æ‹‰ä¼¸</li>
    </ul>
  </li>
  <li>shader: ç›®çš„æ˜¯åˆ¶ä½œä¸€ä¸ªè‡ªå‘å…‰, åŠé€æ˜, æŠ–åŠ¨çš„æ•ˆæœ
    <ul>
      <li>é¢œè‰²æ•ˆæœ:
        <ol>
          <li>ç”¨<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/input/texture_coordinate.html">texture Coordinate</a> ç”Ÿæˆuvåæ ‡
            <ul>
              <li>åœ¨mappingé‡ŒæŠŠx,yçš„locationè°ƒåˆ°-2, scaleè°ƒåˆ°4</li>
              <li>uvåæ ‡ç³»å¥½åƒèŒƒå›´æ˜¯(-scale/2, scale/2)</li>
            </ul>
          </li>
          <li>ç”¨<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/textures/gradient.html">Gradient Texture</a> çš„spherical: åˆ¶ä½œä»å¤–åˆ°å†…çš„æ¸å˜</li>
          <li>è‡ªå‘å…‰: ç”¨<a href="https://docs.blender.org/manual/en/latest/editors/texture_node/types/converter/color_ramp.html">Color Ramp</a> åšä¸€ä¸ª è“-&gt;ç™½-&gt;çº¢-&gt;é»„ çš„æ¸å˜</li>
          <li>è°ƒæ•´é€æ˜åº¦: ç”¨<a href="https://docs.blender.org/manual/en/latest/editors/texture_node/types/converter/color_ramp.html">Color Ramp</a> åšä¸€ä¸ª é€æ˜-&gt;åŠé€æ˜-&gt;é€æ˜ çš„æ¸å˜</li>
          <li>è¿æ¥bsdf
            <ul>
              <li>æŠŠEmissionå’Œtransparent bsdfç”¨Mix shaderè¿æ¥åœ¨ä¸€èµ·</li>
            </ul>
          </li>
        </ol>
      </li>
      <li>æŠ–åŠ¨æ•ˆæœ:
        <ol>
          <li>ç”¨<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/input/texture_coordinate.html">texture Coordinate</a> ç”Ÿæˆobjectåæ ‡</li>
          <li>ç”¨<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/textures/noise.html">Noise Texture</a> æ‰­æ›²åæ ‡, åˆ¶ä½œæŠ–åŠ¨æ•ˆæœ: noise textureå’Œdisplacementçš„cloudy textureæ•ˆæœå·®ä¸å¤š
            <ul>
              <li>ç”¨<a href="https://docs.blender.org/manual/en/latest/compositing/types/color/mix/mix_color.html">Mix Node</a> çš„MultiplyæŠŠä¸¤ä¸ªåæ ‡æ··åˆ</li>
            </ul>
          </li>
          <li>ç”¨<a href="https://docs.blender.org/manual/zh-hans/dev/editors/graph_editor/fcurves/editing.html">Graph Editor</a> è°ƒæ•´mappingçš„yåæ ‡çš„location, å½¢æˆåŠ¨æ€çš„æ‰­æ›²</li>
        </ol>
      </li>
    </ul>
  </li>
  <li>æŠŠç«ç„°çš„plane meshæ—‹è½¬å¤åˆ¶å‡ºå¤šä¸ªç»•yè½´ä¸€åœˆ
    <ul>
      <li>åœ¨shaderé‡Œé€‰ä¸­ä¸€ä¸ªmaterail<a href="https://blender.stackexchange.com/questions/7044/copy-material-to-another-object">å¤åˆ¶ç»™æ‰€æœ‰mesh</a></li>
      <li>å¤åˆ¶å®Œæƒ³ä¿®æ”¹æ‰€æœ‰çš„meshå½¢çŠ¶ä½†æ˜¯æ²¡æ‰¾åˆ°æ–¹æ³•</li>
    </ul>
  </li>
  <li>ç»“æœ: æˆ‘å¤åˆ¶çš„æ¬¡æ•°æ¯”è¾ƒå°‘, è€Œä¸”é¢œè‰²ä¹Ÿä¸å¥½çœ‹,  å½¢çŠ¶ä¹Ÿæ‹‰çš„ä¸å¤ªå¯¹
    <ul>
      <li><img src="/personal_homepage/docs/attachment/fire.mp4" alt="fire.mp4" width="320" /></li>
    </ul>
  </li>
</ul>

<h3 id="shaderæµç¨‹">shaderæµç¨‹</h3>

<p><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240208164250.png" alt="Pasted image 20240208164250.png" width="600" /></p>

<h2 id="ç”¨displacementç²’å­ç³»ç»Ÿ---å¡é€šç«ç„°">ç”¨displacement+ç²’å­ç³»ç»Ÿ -&gt; å¡é€šç«ç„°</h2>
<h3 id="æ­¥éª¤-1">æ­¥éª¤:</h3>

<p>å‚è€ƒå°çº¢ä¹¦<a href="https://www.xiaohongshu.com/explore/658636a9000000003c010c5d">KurTipsçš„æ•™å­¦</a></p>
<ul>
  <li>åˆ¶ä½œç«ç„°å½¢çŠ¶
    <ul>
      <li>æ·»åŠ ä¸€ä¸ªcube mesh</li>
      <li>åœ¨modifieré‡ŒåŠ subdivision surface</li>
      <li>åœ¨Edit Mode, æ‰“å¼€Propotional Editing(è¡°å‡ç¼–è¾‘), é€‰æ‹©æœ€ä¸Šé¢vertex, æŒ‰G+Vå¯ä»¥åœ¨zè½´æ‹‰ä¼¸</li>
      <li>åˆ¶ä½œç„°å¿ƒ: å¤åˆ¶ä¸€ä¸ªæ›´å°çš„æ”¾åœ¨å‰é¢</li>
      <li>é€‰ä¸­ä¸¤ä¸ªobject, å³é”®<a href="https://docs.blender.org/manual/en/latest/scene_layout/object/editing/shading.html">shade smooth</a>
        <ul>
          <li>shaderè®¡ç®—æ—¶, ä¸‰è§’å½¢å†…çš„normal vectorç”±ä¸‰ä¸ªé¡¶ç‚¹çš„normal vectoræ’å€¼å¾—åˆ°</li>
        </ul>
      </li>
      <li>åˆå¹¶ä¸¤ä¸ªobject: <a href="https://docs.blender.org/manual/en/4.2/scene_layout/object/editing/join.html">Ctrl+J</a></li>
    </ul>
  </li>
  <li>shader: è®¾ç½®<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/input/texture_coordinate.html">texture Coordinate</a>  generate-&gt;Separate XYZ-&gt;Gradient Texture-&gt;ColorRamp-&gt; Emission
    <ul>
      <li>æŠŠå¤§å°ä¸¤å—ç”¨ä¸åŒçš„æè´¨
        <ul>
          <li>è¿›å…¥Edit Mode, éšä¾¿é€‰ä¸­ä¸€ä¸ªç‚¹, Ctrl+Lå¯ä»¥æŠŠåŸæœ¬çš„å¤§å°ä¸¤ä¸ªobjectåˆ†åˆ«é€‰ä¸­</li>
          <li>åœ¨Materialæ·»åŠ æè´¨</li>
        </ul>
      </li>
      <li>ColorRampé¢œè‰²: å¤–ç„°: çº¢-&gt;é»„ ; ç„°å¿ƒ: çº¢-&gt;æ©™çº¢</li>
    </ul>
  </li>
  <li>æŠ–åŠ¨æ•ˆæœ: ç”¨displacementå®ç°
    <ol>
      <li>åœ¨Modifieræ·»åŠ displace: é€‰Cloudsæè´¨, è°ƒæ•´Size, Depth=1, displacementçš„Stength</li>
      <li>è®©displacementçš„å¼ºåº¦ä»ä¸Šåˆ°ä¸‹æ¸å˜: ç”¨é¡¶ç‚¹ç»„å®ç°
        <ol>
          <li>å®šä¹‰é¡¶ç‚¹ç»„: åœ¨Edit Modeå¼€é€è§†æ¨¡å¼, é€‰ä¸­ä¸Šé¢ä¸€éƒ¨åˆ†é¡¶ç‚¹; åœ¨Ojectçš„Dataé‡Œæ·»åŠ vetex group, æŠŠåˆšæ‰é€‰ä¸­çš„éƒ¨åˆ†é¡¶ç‚¹assignç»™è¿™ä¸ªé¡¶ç‚¹ç»„</li>
          <li>åœ¨<a href="https://docs.blender.org/manual/en/latest/sculpt_paint/weight_paint/index.html">Weight Paint</a>æ¨¡å¼, å¢åŠ weight-&gt;<a href="https://docs.blender.org/manual/en/2.79/sculpt_paint/painting/weight_paint/weight_tools.html">smooth-&gt;iteration</a>: è®© in Vertex Group-&gt; outside Vertex Group çš„æ¸å˜æ›´å…‰æ»‘
            <ul>
              <li>smoothæ“ä½œçš„æ¯ä¸ªiterationéƒ½æ˜¯å’Œé‚»åŸŸçš„é¡¶ç‚¹åšå¹³æ»‘</li>
            </ul>
          </li>
          <li>åœ¨displaceçš„vertex groupé€‰æ‹©é¡¶ç‚¹ç»„</li>
        </ol>
      </li>
      <li>åˆ¶ä½œdisplacementçš„åŠ¨æ€: é€šè¿‡ç»‘å®šä¸€ä¸ªç©ºåæ ‡è½´å®ç°
        <ol>
          <li>åœ¨displaceçš„Coordinatesé€‰æ‹©object, ç‰©ä½“é€‰æ‹©æˆ‘ä»¬çš„ç©ºåæ ‡è½´</li>
          <li>ä¿®æ”¹ç©ºåæ ‡è½´çš„Oject-&gt;Transformçš„zè½´çš„å€¼, æ”¹ä¸º: <code class="language-plaintext highlighter-rouge">#frame/100(å¸§æ•°/100)</code>
            <ul>
              <li>è¿™æ ·åšæ¯”ç”¨<a href="https://docs.blender.org/manual/zh-hans/dev/editors/graph_editor/fcurves/editing.html">Graph Editor</a> æ–¹ä¾¿ä¸å°‘ğŸ‘</li>
            </ul>
          </li>
        </ol>
      </li>
    </ol>
  </li>
  <li>åˆ¶ä½œç«æ˜Ÿ: ç”¨ç²’å­ç³»ç»Ÿ
    <ol>
      <li>åœ¨ç«ç„°é‡Œæ·»åŠ ä¸€ä¸ªåœ†ç¯mesh</li>
      <li>è¿›å…¥Edit Mode, å¡«å……: å¿«æ·é”®F</li>
      <li>ä¿®æ”¹Particleså‚æ•°:
        <ul>
          <li>Field Weight-&gt; Gravityæ”¹ä¸º0: è®©ç²’å­å‘ä¸Š</li>
          <li>Velocity-&gt; normalæ”¹ä¸º2</li>
          <li>Emission: è°ƒæ•´Frame_start, Frame_end, lifetime(å’Œvelocityå…±åŒæ§åˆ¶ç²’å­ç§»åŠ¨çš„è·ç¦»)</li>
          <li>Physics-&gt; Brownianæ”¹ä¸º10.5: è®©ç²’å­åšå¸ƒæœ—è¿åŠ¨</li>
        </ul>
      </li>
      <li>è°ƒæ•´ç«æ˜Ÿæè´¨:
        <ol>
          <li>åˆ¶ä½œä¸€ä¸ªå¤šé¢ä½“mesh, subdivisionæ”¹æˆ1: å‡å°è®¡ç®—é‡</li>
          <li>æŠŠå¤šé¢ä½“çš„shaderæ”¹æˆè‡ªå‘å…‰, è°ƒæ•´color, strengthé€‚å½“å¢å¤§</li>
          <li><strong>æ‰“å¼€eeveeæ¸²æŸ“å™¨çš„<a href="https://docs.blender.org/manual/en/latest/render/eevee/render_settings/bloom.html">bloom(è¾‰å…‰)</a> åŠŸèƒ½</strong></li>
          <li>åˆ¶å®šParticles-&gt;Renderå‚æ•°:
            <ol>
              <li>Render Asè°ƒæˆObjectæ¨¡å¼, Render-&gt;Instanceé€‰æ‹©æˆ‘ä»¬çš„åˆ¶ä½œçš„å¤šé¢ä½“mesh</li>
              <li>scaleè°ƒå°, scale Randomnessè°ƒå¤§: è®©ç²’å­å¤§å°ä¸ä¸€</li>
            </ol>
          </li>
        </ol>
      </li>
    </ol>
  </li>
  <li>ç»“æœ: å› ä¸ºç„°å¿ƒçš„åˆ¶ä½œæ–¹æ³•, åªèƒ½åœ¨ä¸€å®šè§’åº¦çœ‹.
    <ul>
      <li><img src="/personal_homepage/docs/attachment/fire_cartoon_cut.mp4" alt="fire_cartoon_cut.mp4" width="200" /></li>
    </ul>
  </li>
</ul>

<h2 id="ç«ç„°æ•ˆæœçš„ç‰‡æ®µ">ç«ç„°æ•ˆæœçš„ç‰‡æ®µ</h2>

<p>[1] å†°æµ·æˆ˜è®°s2ep5çš„æ”¾ç«åœºæ™¯</p>

<h2 id="reference">reference</h2>

<p>[1] https://zhuanlan.zhihu.com/p/484222862 è¾‰å…‰æ•ˆæœ</p>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="blender" /><category term="content" /><category term="render" /><category term="shader" /><summary type="html"><![CDATA[ç«ç„°çš„å½¢çŠ¶ç”¨åœ†å½¢å˜å½¢ä¸€åŠè·å¾—. ç”¨Perlin noiseä½¿åæ ‡å˜å½¢åˆ¶ä½œéšæœºæŠ–åŠ¨. ç”¨Emission nodeæ¸²æŸ“å‘å…‰æ•ˆæœ.]]></summary></entry><entry><title type="html">stable-diffusionçš„ç”¨æ³•: ç”¨ ipadatper+controlnet cannyåšé£æ ¼è½¬æ¢</title><link href="https://roshameow.github.io//personal_homepage/docs/photo/stable-diffusion1/" rel="alternate" type="text/html" title="stable-diffusionçš„ç”¨æ³•: ç”¨ ipadatper+controlnet cannyåšé£æ ¼è½¬æ¢" /><published>2024-02-07T00:00:00+00:00</published><updated>2024-02-08T08:58:53+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/photo/stable-diffusion1</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/photo/stable-diffusion1/"><![CDATA[<p>ç”¨ipadapterå’Œcannyåšé£æ ¼è½¬æ¢</p>

<h2 id="comfyuiä½¿ç”¨">ComfyUIä½¿ç”¨</h2>

<ol>
  <li>è°ƒç”¨ComfyUIä¸­defaultçš„å·¥ä½œæµ
    <ul>
      <li>ä¸‹è½½<a href="https://huggingface.co/stabilityai/stable-diffusion-xl-base-1.0">sdxlæ¨¡å‹</a></li>
    </ul>
  </li>
  <li><strong>è¿ä¸ŠIPAdapterèŠ‚ç‚¹</strong>
    <ul>
      <li>å®‰è£…<a href="https://github.com/cubiq/ComfyUI_IPAdapter_plus">IPAdapter_plusæ’ä»¶</a>
        <ul>
          <li>ä¸‹è½½éœ€è¦çš„ipadaterå¾®è°ƒæ¨¡å‹å’Œclip visionç¼–ç å™¨: æŠŠå›¾åƒç”¨clip visionç¼–ç åè¾“å…¥base modelçš„cross-attentionå±‚</li>
        </ul>
      </li>
      <li>ComfyUIé‡Œè¿æ¥é¡ºåºæ˜¯: Checkpoint: model-&gt; IPAdapter: model -&gt; KSampler: model</li>
      <li>weigtè®¾ä¸º1, text promptéƒ½ç©ºç€, latent promptä¹Ÿç©ºç€</li>
    </ul>
  </li>
  <li><strong>è¿ä¸ŠControlnetèŠ‚ç‚¹</strong>
    <ul>
      <li>ä¸‹è½½<a href="https://huggingface.co/collections/diffusers/sdxl-controlnets-64f9c35846f3f06f5abe351f">cannyæ¨¡å‹</a>
        <ul>
          <li><del>æ‰¾ä¸åˆ°å…¶ä»–é€‚åˆsdxlçš„controlnetæ¨¡å‹</del>å› ä¸ºæˆ‘ä»¬çš„åŸå›¾æ˜¯ä¸ªçº¿ç¨¿é€‚åˆç”¨canny</li>
        </ul>
      </li>
      <li>ComfyUIé‡Œè¿æ¥é¡ºåºæ˜¯: Checkpoint-&gt;prompt-&gt;controlnet-&gt;Ksampler: text prompt
        <ul>
          <li>controlnetæœ€åæ˜¯ä½œç”¨åœ¨text promptä¸Šçš„?</li>
        </ul>
      </li>
      <li>è°ƒæ•´controlnetæƒé‡å’Œå½±å“æ­¥æ•°: stength=0.5, start_percent=0, end_percent=0.6
        <ul>
          <li>å¦‚æœè®¾ç½®è¿‡å¤§å°±åªèƒ½å¾—åˆ°ä¸€å¼ æœ‰é¢œè‰²çš„çº¿ç¨¿å›¾</li>
        </ul>
      </li>
    </ul>
  </li>
</ol>

<h2 id="ç»“æœ">ç»“æœ</h2>

<p>åŸå›¾: 
<img src="/personal_homepage/docs/attachment/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-02-07%20224110.png" alt="å±å¹•æˆªå›¾ 2024-02-07 224110.png" width="600" /> + <img src="/personal_homepage/docs/attachment/2e2b76d160ca4317bb8e095ffd8ff878.jpg.png" alt="2e2b76d160ca4317bb8e095ffd8ff878.jpg.png" width="150" /></p>

<p>åˆæˆå›¾: 
<img src="/personal_homepage/docs/attachment/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-02-07%20224141.png" alt="å±å¹•æˆªå›¾ 2024-02-07 224141.png" width="600" /></p>

<ul>
  <li>ç«Ÿç„¶å¯ä»¥è¯†åˆ«é¾™çš„çœ¼ç›å•Šâ€¦æœ‰å¥½å‡ å¹…å›¾éƒ½æŠŠçŒ«çœ¼æ›¿æ¢åˆ°äº†é¾™çœ¼ä¸Š
    <ul>
      <li>å¦‚æœä¸¤ç§å›¾æœ‰åŒæ ·çš„å…ƒç´ (çœ¼ç›ä¹‹ç±»çš„), å¯èƒ½å¯ä»¥æ¯”è¾ƒå¥½çš„æ›¿æ¢</li>
      <li>æœ€åçš„é¾™å’Œäºº, é¾™å’Œå±±, éƒ½ä¸èƒ½å¯¹åº”èµ·æ¥</li>
    </ul>
  </li>
  <li>ipadapteræ²¡æ³•ä¸»åŠ¨æ§åˆ¶åˆæˆå“ªä¸ªå›¾åƒä¸­çš„å“ªç§å…ƒç´ :
    <ul>
      <li>è™½ç„¶æ›¿æ¢äº†é¢œè‰², èƒŒæ™¯, ä½†æ˜¯æ²¡æ³•æ›¿æ¢æè´¨, ç¬”è§¦</li>
      <li>æœ‰å‡ å¼ å›¾è¿˜æ›¿æ¢äº†åŸå›¾çš„è‰²å—åˆ†å¸ƒ, è¿™æ˜¯æˆ‘ä»¬ä¸æƒ³è¦çš„</li>
    </ul>
  </li>
  <li>å¦å¤–, controlnet-cannyå’Œipadapterçš„é¾™éƒ½ä¸èƒ½çœç•¥
    <ul>
      <li>å¦‚æœipadapteråªç”¨é£æ ¼å›¾:
        <ul>
          <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240208003655.png" alt="Pasted image 20240208003655.png" width="100" /> <img src="/personal_homepage/docs/attachment/Pasted%20image%2020240208003712.png" alt="Pasted image 20240208003712.png" width="100" /></li>
          <li>å¢åŠ control-netçš„æƒé‡ä¹Ÿæ˜¯æ²¡ç”¨çš„, weight=0.8æ—¶å‡ºç°äº†å™ªå£°å›¾æ¡ˆ</li>
        </ul>
      </li>
      <li>å¦‚æœä¸åŠ controlnet:
        <ul>
          <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240208003804.png" alt="Pasted image 20240208003804.png" width="100" /> <img src="/personal_homepage/docs/attachment/Pasted%20image%2020240208003819.png" alt="Pasted image 20240208003819.png" width="100" /></li>
        </ul>
      </li>
      <li>çœ‹èµ·æ¥controlnetä¿æŒäº†é¾™çš„å¤–å½¢ç»“æ„, ipadpteråŠ é¾™æé«˜äº†é¾™çš„æƒé‡, ä¸è¿‡ipadapterä»é¾™å›¾ä¸­ç©¶ç«Ÿå­¦åˆ°äº†ä»€ä¹ˆ? æ˜¯æ‰å¹³çš„ç”»é£å—? åªç”¨é£æ ¼å›¾çš„æƒ…å†µä¸‹, ç¡®å®ç”»é£æ›´æ¥è¿‘é£æ ¼å›¾, ä½†æ˜¯å†…å®¹ä¹Ÿæ›´æ¥è¿‘äº†
        <ul>
          <li>å¯ä»¥é€šè¿‡text promptæ§åˆ¶å—? ä½†æ˜¯clipåˆæ— æ³•ç†è§£ç®€ç¬”ç”»çš„é¾™.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="comfyui-workflow">ComfyUI workflow</h2>

<p><a href="https://gist.github.com/roshameow/d952bf0157a25ab3e9e724df1449b160#file-ipadapter_controlnet-canny_loong_style_change-json"><strong>ipadapter_controlnet-canny_loong_style_change.json</strong></a></p>

<p><img src="/personal_homepage/docs/attachment/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-02-07%20224530.png" alt="å±å¹•æˆªå›¾ 2024-02-07 224530.png" width="800" /></p>

<h2 id="comfyuiéš¾ç”¨çš„åœ°æ–¹">ComfyUIéš¾ç”¨çš„åœ°æ–¹</h2>

<ul>
  <li>UIçš„å¥‡æ€ªåœ°æ–¹
    <ul>
      <li>æœ‰å‚æ•°çš„åœ°æ–¹å­—ä½“ç›¸å¯¹æ•´ä¸ªèŠ‚ç‚¹ç‰¹åˆ«å°, è€Œä¸”æ²¡æ³•è°ƒèŠ‚. è¾“å…¥text promptçš„æ—¶å€™æ˜¯æ ¹æœ¬çœ‹ä¸æ¸…..</li>
      <li>é¼ æ ‡çš„åå­—å€’æ˜¯ç‰¹åˆ«å¤§â€¦</li>
    </ul>
  </li>
  <li>èŠ‚ç‚¹è¿æ¥éå¸¸åå¸¸è¯†
    <ul>
      <li>loadèŠ‚ç‚¹
        <ul>
          <li>è¾“å…¥éƒ½åœ¨å³ä¾§, ä¸€èˆ¬ä¼šè§‰å¾—åº”è¯¥æŠŠpromptè¾“å…¥æ¨¡å‹</li>
          <li>loadèŠ‚ç‚¹çš„å­˜åœ¨å°±å¾ˆå¥‡æ€ª, ä¸ºä»€ä¹ˆä¸æŠŠloadå’Œapplyåˆå¹¶åˆ°ä¸€èµ·? æˆ–è€…åœ¨å³ä¾§ç”¨èœå•æ åˆ‡æ¢</li>
          <li>modelé‡Œé¢è¿˜æœ‰ä¸ªmodel_name? æ¨¡å‹çš„åå­—ä¸€é•¿å…¨æ··åœ¨ä¸€èµ·çœŸçš„åˆ†ä¸æ¸…å•Šâ€¦</li>
        </ul>
      </li>
      <li>preview ImageèŠ‚ç‚¹
        <ul>
          <li>ä¸ºä»€ä¹ˆä¸ç›´æ¥åšæˆä¸€ä¸ªä¸‹æ‹‰é€‰é¡¹â€¦</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>ä¸ºä»€ä¹ˆä¸èƒ½åšæˆä¸€ä¸ªChromiumå†…æ ¸çš„æœ¬åœ°app..
    <ul>
      <li>æ®è¯´æœ‰ä¸€äº›æ–¹æ³•å¯ä»¥æ‰“åŒ…æˆä¸€ä¸ªapp?</li>
      <li>å‡¡éœ€è¦inpaintè¾“å…¥çš„åœ°æ–¹, è¾“å…¥æ–¹å¼å¾ˆä¸æ–¹ä¾¿, èƒ½å’Œå…¶ä»–ä¸“é—¨ç”¨æ¥ç»˜å›¾çš„è½¯ä»¶ç»“åˆå°±å¥½äº†</li>
    </ul>
  </li>
  <li>è™½ç„¶å¦‚æ­¤, å¯ä»¥ç”¨èŠ‚ç‚¹å’Œåˆ†äº«å·¥ä½œæµå°±æ¯”webuiå¥½ç”¨å¤ªå¤šäº†</li>
</ul>

<h2 id="å…¶ä»–è®¨è®ºè¿™ä¸ªé“¾æ¥">å…¶ä»–è®¨è®ºè¿™ä¸ªé“¾æ¥</h2>

<p>[1] https://zhuanlan.zhihu.com/p/664201523 é‡Œé¢ä»‹ç»äº†ä¸€ä¸ªæ¢ç”»é£çš„å·¥ä½œæµ, ä¸è¿‡ä¾‹å­æ˜¯äººåƒ, å¯èƒ½æœ¬èº«ç½‘ç»œå¯¹äººåƒçš„ç†è§£èƒ½åŠ›æ›´å¼ºå§?ã€€</p>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="photo" /><category term="content" /><category term="ComfyUI" /><category term="ipadapter" /><category term="controlnet" /><category term="canny" /><category term="sdxl" /><summary type="html"><![CDATA[ç”¨ipadapterå’Œcannyåšé£æ ¼è½¬æ¢]]></summary></entry><entry><title type="html">ç¥ç»ç½‘ç»œattentionç»“æ„ç†è§£</title><link href="https://roshameow.github.io//personal_homepage/docs/deeplearning/attention/" rel="alternate" type="text/html" title="ç¥ç»ç½‘ç»œattentionç»“æ„ç†è§£" /><published>2024-02-04T00:00:00+00:00</published><updated>2024-02-08T01:13:42+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/deeplearning/attention</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/deeplearning/attention/"><![CDATA[<p>åœ¨ç½‘ç»œä¸­, blockæ˜¯æŠŠinputä¿¡æ¯è½¬æ¢æˆoutputä¿¡æ¯çš„è¿‡ç¨‹: ä¸€èˆ¬, output(position, vector)æ˜¯input(token, embedding vector)çš„çº¿æ€§ç»„åˆ, ç»„åˆçš„weight (position, token) ç”±inputå’Œoutputä¸¤æ–¹å…³ç³»ç¡®å®š. æŠŠç€é‡å¼ºè°ƒè¿™ç§ä¿¡æ¯äº¤äº’çš„æ¨¡å—å«attention.</p>
<h2 id="convolution">convolution</h2>

<p><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240207151034.png" alt="Pasted image 20240207151034.png" width="400" /></p>

<p>convolutionåœ¨ç¥ç»ç½‘ç»œæµè¡Œä¹‹å‰å°±å·²ç»åœ¨å›¾åƒä»»åŠ¡é‡Œå¹¿æ³›ä½¿ç”¨äº†</p>
<ul>
  <li><strong>ç›®çš„:</strong>
    <ul>
      <li>å¯¹spatial informationè¿›è¡Œç‰¹å¾çš„æå–å’Œè½¬æ¢</li>
    </ul>
  </li>
  <li><strong>ç‰¹ç‚¹:</strong>
    <ul>
      <li>pixelçš„weightåªå’Œ(input, output)çš„ç›¸å¯¹ä½ç½®æœ‰å…³, å› æ­¤ä¹Ÿæ˜¯å¹³ç§»ä¸å˜çš„. å¯¹æ¯ä¸ªè¾“å‡ºåƒç´ æœ‰å½±å“çš„åªæœ‰inputé‡Œkernelè¦†ç›–åˆ°çš„åŒºåŸŸ, ä¹Ÿå°±æ˜¯response field</li>
      <li>æ¯ä¸ªä¸åŒçš„ç›¸å¯¹ä½ç½®å¯¹åº”vector mappingä¸åŒ
        <ul>
          <li>è¿™ä¸ªç¬¦åˆå›¾åƒå¤„ç†çš„ç›´è§‚, å·¦è¾¹æœ‰æ¡çº¿å’Œå³è¾¹æœ‰æ¡çº¿å½“ç„¶è¦æ˜ å°„æˆä¸åŒçš„ç»“æœ</li>
          <li>æœ‰æ—¶ä¹Ÿä¼šæŠŠå·ç§¯æ‹†åˆ†æˆ1x1 convå’Œspatial conv(é€šé“æ— å…³) çš„å½¢å¼</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="gate-attention">gate attention</h2>

<p><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240207151122.png" alt="Pasted image 20240207151122.png" width="400" /> <img src="/personal_homepage/docs/attachment/Pasted%20image%2020240207151136.png" alt="Pasted image 20240207151136.png" width="400" /></p>

<ul>
  <li><strong>ç›®çš„:</strong>
    <ul>
      <li>æå–channel<a href="#ref">1</a>æˆ–spatialçš„æƒé‡, è®©ç½‘ç»œå…³æ³¨æ›´é‡è¦çš„ä¿¡æ¯</li>
    </ul>
  </li>
  <li><strong>ç‰¹ç‚¹:</strong>
    <ul>
      <li>spatial ä¿¡æ¯å¯¹äººç±»æ¥è¯´æ›´æœ‰å¯è¯»æ€§, æ‰€ä»¥å¯ä»¥æŠŠspatial weightå¯è§†åŒ–, çœ‹çœ‹å›¾ç‰‡ä»€ä¹ˆä½ç½®æ›´åŠ é‡è¦</li>
    </ul>
  </li>
</ul>

<h2 id="self-attention--cross-attention">self-attention &amp; cross-attention</h2>

<p><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240207151214.png" alt="Pasted image 20240207151214.png" width="400" /></p>

<ul>
  <li><strong>ç›®çš„:</strong>
    <ul>
      <li>ä¿¡æ¯çš„äº¤äº’: åœ¨æˆ‘çš„å›¾ç¤ºä¸­, æ˜¯æŠŠæ–‡å­—ä¿¡æ¯åŠ å…¥è§†è§‰ä¿¡æ¯</li>
    </ul>
  </li>
  <li><strong>ç‰¹ç‚¹:</strong>
    <ul>
      <li>self-attentionå’Œcross-attentionç»“æ„ç±»ä¼¼, åªæ˜¯å˜æˆäº†ä¸€ç§è¾“å…¥</li>
      <li>cross-attentionæ˜¯ç°åœ¨å¸¸è§çš„æŠŠä¸€ç§ä¿¡æ¯åŠ å…¥å¦ä¸€ç§ä¿¡æ¯çš„æ–¹æ³•
        <ul>
          <li>ä¹Ÿç”¨åˆ°äº†å›¾åƒä¿¡æ¯å’Œæ–‡å­—ä¿¡æ¯çš„ç»Ÿä¸€å½¢å¼, å³(position, embedding) , åœ¨å›¾åƒä¿¡æ¯ä¸­, position(S=H x W)æ˜¯åƒç´ æˆ–patchçš„ä½ç½®; æ–‡å­—ä¿¡æ¯ä¸­, positionæ˜¯tokenåœ¨å¥ä¸­çš„å‰åä½ç½®</li>
          <li>æˆ‘ä»¬å¯ä»¥å¯¹relative weightå¯è§†åŒ–, ä»è€ŒçŸ¥é“æŸä¸ªæ–‡å­—tokenå’Œå›¾åƒå“ªä¸ªä½ç½®æœ€ç›¸å…³</li>
        </ul>
      </li>
      <li>Q,K,V(query, key, value) çš„å«æ³•æ˜¯nlpæœç´¢(åŒ¹é…)ä»»åŠ¡çš„æœ¯è¯­, é¢, å…¶å®æˆ‘ä¸€ç›´æ²¡æ³•å¯¹è¿™ä¸ªæœ›æ–‡ç”Ÿä¹‰â€¦
        <ul>
          <li>å…¶å®ä»è®¡ç®—è¿‡ç¨‹å¯ä»¥çœ‹å‡º, ä¸ç®¡å®ƒä»¬çš„åŸä¹‰, Q, Käº¤æ¢ä¸€ä¸‹ä¹Ÿæ²¡å·®</li>
          <li>queryå’Œkeyçš„embedding channelæ•°åº”è¯¥ç›¸åŒ, ä¸ºäº†ä¹‹åè®¡ç®—ä»–ä»¬relationçš„ç›®çš„</li>
          <li>å’Œå·ç§¯ä¸ä¸€æ ·, æ”¾äº†æ›´å¤§çš„è®¡ç®—é‡åœ¨äº¤äº’éƒ¨åˆ†, ç›¸å¯¹çš„, æ¯ä¸ªinput tokenå¯¹åº”vector mappingç›¸åŒ, ä¹Ÿå°±æ˜¯ç”¨â€valueâ€éƒ¨åˆ†è§£å†³äº†channelçš„æ˜ å°„: è¿™æ ·å¯¼è‡´åŒæ ·çš„æ–‡å­—ä¿¡æ¯ä¸è®ºæ”¾åœ¨å‰é¢è¿˜æ˜¯åé¢, å¯¹åº”åŒä¸€ç§outputä¿¡æ¯, åŒºåˆ«çš„åªæ˜¯ä»–ä»¬æƒé‡å¯èƒ½ä¸åŒ, æˆ–åœ¨å›¾åƒçš„ä¸åŒä½ç½®</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="attentionçš„ä¸€äº›å˜å½¢å’Œä¼˜åŒ–">attentionçš„ä¸€äº›å˜å½¢å’Œä¼˜åŒ–</h3>

<ul>
  <li>mulit-head attention: æ˜ å°„å¤šç»„QKV, è®¡ç®—å¾—åˆ°çš„å¤šç»„outputå†concat
    <ul>
      <li>åœ¨å®é™…å®ç°è¿‡ç¨‹ä¸­,  å…ˆæ˜ å°„æˆä¸€ä¸ªå¤§çš„QKV, å†æŠŠQ, K, Våˆ‡åˆ†æ˜¯å®Œå…¨ç­‰ä»·çš„</li>
      <li>åšmulit-headå¯ä»¥å¾—åˆ°å¤šç»„ä¸åŒçš„æ˜ å°„æ–¹å¼, æˆ–å‡å°inner_dimension(T)çš„å¤§å°</li>
    </ul>
  </li>
  <li>åˆ†å±‚attention: åœ¨åšattentionä¹‹å‰å¯¹æ•°æ®æ’åº, åˆ‡åˆ†
    <ul>
      <li>å¯èƒ½æœ‰äº›pixelä¹‹é—´å…³è”ä¸å¤§, è¿™æ ·çš„è¯æŠŠå®ƒä»¬åˆ†åˆ°ä¸åŒçš„bucket, åˆ†åˆ«åšattention, å¯ä»¥å‡å°‘è®¡ç®—é‡<a href="#ref">2</a></li>
    </ul>
  </li>
  <li>å¤šä¸ªattentionåˆæˆ:
    <ul>
      <li>åœ¨æœ€è¿‘æµè¡Œçš„ipadapteré‡Œé¢ä¹Ÿè®¨è®ºäº†å¤šç§ä¸åŒæ¥æºçš„æ•°æ®åœ¨cross-attention é‡Œåˆæˆçš„é—®é¢˜, ç»“è®ºæ˜¯åˆ†åˆ«ä¸åŸæ•°æ®åšattentionæœ€åå†åˆæˆæ¯”è¾ƒå¥½<a href="#ref">3</a>, è¿™ä¸ªä¹Ÿæ˜¯æˆ‘ä»¬ä¸€èˆ¬naiveçš„æƒ³æ³•</li>
    </ul>
  </li>
</ul>

<h2 id="å…‰æµä¼°è®¡ç½‘ç»œ">å…‰æµä¼°è®¡ç½‘ç»œ</h2>

<p>è§†è§‰åŒ¹é…ä»»åŠ¡</p>

<h2 id="ä»£ç ">ä»£ç </h2>

<p><a href="https://gist.github.com/roshameow/503ec3769d75c47b82f2a7372e8c2dab#file-attention_block-py"><strong>attention_block.py</strong></a></p>

<h2 id="reference">reference</h2>
<p><span id="ref"></span></p>

<p>[1] Woo, Sanghyun, Jongchan Park, Joon-Young Lee, and In So Kweon. â€œCBAM: Convolutional Block Attention Module.â€ arXiv, July 18, 2018. <a href="https://doi.org/10.48550/arXiv.1807.06521">https://doi.org/10.48550/arXiv.1807.06521</a>. ä»‹ç»gate attention</p>

<p>[2] Cai, Yuanhao, Jing Lin, Xiaowan Hu, Haoqian Wang, Xin Yuan, Yulun Zhang, Radu Timofte, and Luc Van Gool. â€œCoarse-to-Fine Sparse Transformer for Hyperspectral Image Reconstruction.â€ arXiv, July 10, 2022. <a href="https://doi.org/10.48550/arXiv.2203.04845">https://doi.org/10.48550/arXiv.2203.04845</a>. ä»‹ç»äº†Spectra-aware hashing attention blockçš„ç»“æ„</p>

<p>[3] https://github.com/tencent-ailab/IP-Adapter</p>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="deeplearning" /><category term="content" /><category term="network" /><category term="attention" /><category term="block" /><summary type="html"><![CDATA[åœ¨ç½‘ç»œä¸­, blockæ˜¯æŠŠinputä¿¡æ¯è½¬æ¢æˆoutputä¿¡æ¯çš„è¿‡ç¨‹: ä¸€èˆ¬, output(position, vector)æ˜¯input(token, embedding vector)çš„çº¿æ€§ç»„åˆ, ç»„åˆçš„weight (position, token) ç”±inputå’Œoutputä¸¤æ–¹å…³ç³»ç¡®å®š. æŠŠç€é‡å¼ºè°ƒè¿™ç§ä¿¡æ¯äº¤äº’çš„æ¨¡å—å«attention. convolution]]></summary></entry><entry><title type="html">å¸¸ç”¨çš„å›¾åƒ reconstruction loss</title><link href="https://roshameow.github.io//personal_homepage/docs/deeplearning/restruction-loss/" rel="alternate" type="text/html" title="å¸¸ç”¨çš„å›¾åƒ reconstruction loss" /><published>2024-02-01T00:00:00+00:00</published><updated>2024-02-02T20:02:40+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/deeplearning/restruction-loss</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/deeplearning/restruction-loss/"><![CDATA[<p>è¾“å‡ºä¸ºå›¾åƒçš„ä»»åŠ¡, æ¯”å¦‚enhance, deblur, super-resolutionç­‰ç”¨åˆ°çš„loss, ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸¤ç±»</p>
<h2 id="outputå’Œlabelç›¸è¿‘">outputå’Œlabelç›¸è¿‘</h2>

<table>
  <thead>
    <tr>
      <th>loss</th>
      <th>å…¬å¼</th>
      <th>ç›®çš„</th>
      <th>ç‰¹ç‚¹<br /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>L1 loss</td>
      <td>$||I_1-I_2||_1$</td>
      <td>å¤§ä½“ç›¸è¿‘</td>
      <td>æœ€å¸¸ç”¨çš„loss</td>
    </tr>
    <tr>
      <td>L2 loss<br />(MSE)</td>
      <td>$||I_1-I_2||_2$<br />æˆ–$MSE=\overline{(I_1-I_2)^2}$</td>
      <td>Â </td>
      <td>å› ä¸ºå¯¼æ•°æ˜¯çº¿æ€§æ‰€ä»¥è®¡ç®—æœ€å¿«</td>
    </tr>
    <tr>
      <td><a href="[https://github.com/CVMI-Lab/UHDM/blob/main/utils/common.py](https://github.com/CVMI-Lab/UHDM/blob/main/utils/common.py)">SSIM</a> <br />(stuctural similarity<br /> index measure)</td>
      <td>$\frac{2\mu_1\mu_2+C_1}{\mu_1^2+\mu_2^2+C_1}\cdot \frac{2\sigma_{12}+C_2}{\sigma_1^2+\sigma_2^2+C_2}$ <br />$\mu, \sigma$ åˆ†åˆ«ä¸ºmean, variance<br />$\sigma_{12}$æ˜¯covariance<br />$C_1, C_2$ æ˜¯å¸¸æ•°</td>
      <td>çº¹ç†ç›¸è¿‘</td>
      <td>è¦åˆ†patchè®¡ç®—<br />$C_1, C_2$ çš„å€¼è¦æ ¹æ®å›¾åƒçš„èŒƒå›´è°ƒæ•´</td>
    </tr>
    <tr>
      <td>PSNR<br />(Peak signal-<br />to-noise ratio)</td>
      <td>$-10\log_{10}(MSE(I_1,I_2))$</td>
      <td>Â </td>
      <td>ç»å¸¸æ˜¯ç”¨æ¥éªŒè¯</td>
    </tr>
    <tr>
      <td><a href="[https://github.com/varun19299/deep-atrous-guided-filter/tree/master/PerceptualSimilarity](https://github.com/varun19299/deep-atrous-guided-filter/tree/master/PerceptualSimilarity)">PerceptualLoss</a></td>
      <td>ä¸€ä¸ªåˆ†ç±»ç½‘ç»œ</td>
      <td>è¯­ä¹‰ç›¸è¿‘</td>
      <td>ä¸€èˆ¬ç”¨vgg16, è¾“å…¥RGBå›¾åƒ<br />ä¸€èˆ¬ä¼šç”¨åå‡ å±‚çš„è¯­ä¹‰ç‰¹å¾å¯¹æ¯”<br /></td>
    </tr>
    <tr>
      <td><a href="https://github.com/richzhang/PerceptualSimilarity">LPIPS</a> <br />(Learned Perceptual<br />image patch similarity)</td>
      <td>Â </td>
      <td>Â </td>
      <td>perceptualLoss+åˆ†å—</td>
    </tr>
    <tr>
      <td>DeltaE</td>
      <td>è½¬æ¢æˆLabç©ºé—´çš„MSE</td>
      <td>é¢œè‰²ç›¸è¿‘</td>
      <td>Â </td>
    </tr>
    <tr>
      <td>Gan Loss</td>
      <td>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å­¦ä¹ åˆ°çš„loss<br />ç”¨determinateç½‘ç»œè¡¨ç¤º<br /></td>
      <td>determinateç½‘ç»œ<br />åŒºåˆ«ä¸å‡º</td>
      <td>Â </td>
    </tr>
    <tr>
      <td>KLæ•£åº¦</td>
      <td>Â </td>
      <td>Â </td>
      <td>Â </td>
    </tr>
  </tbody>
</table>

<h2 id="outputå›¾åƒç¬¦åˆè‡ªç„¶å›¾åƒçš„æ€§è´¨">outputå›¾åƒç¬¦åˆè‡ªç„¶å›¾åƒçš„æ€§è´¨</h2>

<ul>
  <li>Total Variant(TV) loss: å›¾åƒgradientç¨€ç–æ€§
    <ul>
      <li>anisotropicå®šä¹‰: <code class="language-plaintext highlighter-rouge">$|D_x I|_1+|D_y I|_1$</code></li>
    </ul>
  </li>
</ul>

<h2 id="ä»£ç ">ä»£ç </h2>

<p><a href="https://gist.github.com/roshameow/c59d5708610ae30eb4329b140ccab3a7#file-reconstruction_loss-py"><strong>reconstruction_loss.py</strong></a></p>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="deeplearning" /><category term="content" /><category term="loss" /><category term="image" /><summary type="html"><![CDATA[è¾“å‡ºä¸ºå›¾åƒçš„ä»»åŠ¡, æ¯”å¦‚enhance, deblur, super-resolutionç­‰ç”¨åˆ°çš„loss, ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸¤ç±» outputå’Œlabelç›¸è¿‘]]></summary></entry><entry><title type="html">é¾™å¹´æ˜¥è”</title><link href="https://roshameow.github.io//personal_homepage/docs/design/spring-couplets/" rel="alternate" type="text/html" title="é¾™å¹´æ˜¥è”" /><published>2024-01-31T00:00:00+00:00</published><updated>2024-01-31T23:44:44+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/design/spring-couplets</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/design/spring-couplets/"><![CDATA[<p><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240131145110.png" alt="Pasted image 20240131145110.png" width="400" /></p>

<p>ä¸Šè”æ˜¯â€œæŸ¥æ‰¾ï¼Œå›é€€ï¼Œç»ˆæ­¢ï¼Œå®šä¹‰ï¼Œè¿”å›ï¼Œæ ¼å¼åŒ–ï¼Œåˆ é™¤â€<br />
ä¸‹è”æ˜¯â€œå¯åŠ¨ï¼Œåˆ‡æ¢ï¼Œä¸Šä¸€çº§ï¼Œæ ¹ç›®å½•ï¼ŒæŸ¥æ‰¾ï¼Œæ›¿æ¢ï¼Œé€€å‡ºâ€<br />
æ¨ªæ‰¹æ˜¯â€œå…¨éƒ¨å†å²â€<br /></p>

<p>æœ¬ä»¥ä¸ºä¼šç®€å•çš„åˆ¶ä½œè¿‡ç¨‹, å±…ç„¶æ„Ÿè§¦æŒºå¤šçš„</p>

<h2 id="åˆ¶ä½œæ—¶é—´è½´">åˆ¶ä½œæ—¶é—´è½´</h2>

<ul>
  <li>çœ‹åˆ°å°çº¢ä¹¦ä¸Šè¿™ä¸ª<a href="https://www.xiaohongshu.com/explore/65b781c8000000000c00534a">psæ˜¥è”çš„å¸–å­</a></li>
  <li>æœ€å¼€å§‹æ˜¯æƒ³åšvscodeå’Œobsidiançš„å›¾æ ‡</li>
  <li>åšç€åšç€, æ„Ÿè§‰å¿«æ·é”®æ›´æœ‰åˆ†äº«æ¬²; è€Œä¸”, å›¾æ ‡æˆªå›¾ä¸‹æ¥æœ‰æ¸…æ™°åº¦å’Œå¤§å°ä¸ä¸€çš„é—®é¢˜</li>
  <li>ç›´æ¥å†™åœ¨çº¢åº•é»‘å­—çš„æ˜¥è”åº•è‰²ä¸Š, çœ‹èµ·æ¥å¤ªå•è°ƒäº†
    <ul>
      <li><img src="/personal_homepage/docs/attachment/Screenshot%202024-01-31%20at%2000.55.22.png" alt="Screenshot 2024-01-31 at 00.55.22.png" width="200" /></li>
    </ul>
  </li>
  <li>æƒ³ç”¨stable diffusionç”Ÿæˆä¸ªåä¸½çš„èƒŒæ™¯, ä½†æ˜¯â€¦ æ”¾å¼ƒ
    <ul>
      <li>åŸºäºv1.5çš„æ¨¡å‹æ²¡æ³•ç†è§£æ˜¥è”, ä¹Ÿæ²¡æ³•ç†è§£é¾™
        <ul>
          <li>ç”Ÿæˆçš„è¿™ç§çœ‹èµ·æ¥æŒºå¥‡æ€ªçš„ä¸œè¥¿: <img src="/personal_homepage/docs/attachment/00010-3341009059.png" alt="00010-3341009059.png" width="200" /></li>
          <li>cannyçš„controlnetæ²¡æ³•ä¿è¯æ–‡å­—çš„ç»†èŠ‚ä¸€è‡´: <img src="/personal_homepage/docs/attachment/00008-497390711.png" alt="00008-497390711.png" width="200" /></li>
          <li>ç”Ÿæˆçš„é¾™ğŸ˜®â€ğŸ’¨: <img src="/personal_homepage/docs/attachment/00014-2368775189.png" alt="00014-2368775189.png" width="200" /></li>
        </ul>
      </li>
      <li>SDXLå¯ä»¥ç”Ÿæˆä¸é”™çš„é¾™, è™½ç„¶ç»†èŠ‚ä¸å¯¹</li>
      <li>ComfyUIçš„å·¥ä½œæµæˆ‘ç”¨çš„ä¸å¤ªç†Ÿç»ƒ, è€Œä¸”, æˆ‘ä¸å¤ªäº†è§£å„ç§é£æ ¼çš„prompt</li>
    </ul>
  </li>
  <li>åœ¨å°çº¢ä¹¦ä¸Šæœç´¢æ˜¥è”çš„ç‰ˆå¼, çœ‹åˆ°äº†<a href="https://www.xiaohongshu.com/explore/63c12c19000000001f0223f0">è¿™ä¸ªå¸–å­</a>
    <ul>
      <li>æ¨¡ä»¿å¤±è´¥: å–å®¶ç§€$\rightarrow$ <img src="/personal_homepage/docs/attachment/Pasted%20image%2020240131150246.png" alt="Pasted image 20240131150246.png" width="200" />  ä¹°å®¶ç§€$\rightarrow$ <img src="/personal_homepage/docs/attachment/Pasted%20image%2020240131150756.png" alt="Pasted image 20240131150756.png" width="200" /></li>
      <li>æˆ‘çš„å›¾çœ‹èµ·æ¥åƒä¸œå—äºšé»‘å¸®, åˆåƒä¸ªç¥­å›</li>
      <li>å½“ç„¶æˆ‘çš„é¢œè‰²è°ƒçš„ä¸å¯¹, ä½†æ˜¯æˆ‘ä¹Ÿæ˜ç™½äº†è¿™ä¸ªæ’ç‰ˆä¸é€‚åˆé¾™(ä½ çš„å†…å®¹æ˜¯ç°ä»£çš„, ä½†æ˜¯æ’ç‰ˆå´ç›¸å½“å¤è€, ä½ ç©¶ç«Ÿæ˜¯ä»€ä¹ˆäººğŸ˜‚)</li>
    </ul>
  </li>
  <li>åˆå›å½’äº†é»‘ç™½çº¢é…è‰², æ”¹äº†ç‰ˆå¼, æ„Ÿè§‰èƒ½çœ‹äº†, è›®å–œåº†çš„, æœ‰ç§è¿‡å¹´çš„æ°”æ°›äº†</li>
</ul>

<h2 id="å·¥å…·">å·¥å…·</h2>

<ul>
  <li>pinterestæœç´¢, ç„¶åæ¨èç›¸ä¼¼é£æ ¼çš„å›¾ç‰‡</li>
  <li>eagleå­˜å›¾</li>
  <li>Freeformæ’ç‰ˆ
    <ul>
      <li>å¯æƒœFreeformé‡Œé¢æ²¡æ³•æ”¹å›¾ç‰‡æ•´ä½“çš„é¢œè‰², ä¹Ÿæ²¡æ³•æ—‹è½¬</li>
    </ul>
  </li>
  <li>previewçš„é­”æ£’å·¥å…·
    <ul>
      <li>ä¸­é—´æƒ³ç”¨photoshop, ä½†æ˜¯å‘ç°æˆ‘çš„photoshopä¸å¤ªç†Ÿç»ƒ, è¿˜æ˜¯previewç®€å•ç²—æš´</li>
      <li>æ„Ÿæ…¨å¹³æ—¶ä¸ç†Ÿæ‚‰çš„å·¥ä½œæµ, ä¸€ç€æ€¥èµ·æ¥å‹æ ¹ä¸æƒ³ç”¨â€¦</li>
    </ul>
  </li>
  <li>å†™è¿™ç¯‡blogçš„æ—¶å€™å‘ç°markdownå±…ç„¶æ²¡æœ‰å®˜æ–¹çš„æ—¶é—´è½´æ’ç‰ˆ, æ˜æ˜åº”è¯¥å¾ˆå¥½åšçš„å§</li>
</ul>

<h2 id="èµ„æº">èµ„æº</h2>

<p>å­—ä½“<a href="https://www.fontspace.com/category/artistic">OpenseaThecrownismineRegular</a></p>

<p><a href="https://www.pinterest.com/pin/732116483197126476/">é¾™</a></p>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="design" /><category term="content" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">blenderå­¦ä¹ : ç”¨graph editoråšèµ›åšè½¦æµ</title><link href="https://roshameow.github.io//personal_homepage/docs/blender/blender-learning4/" rel="alternate" type="text/html" title="blenderå­¦ä¹ : ç”¨graph editoråšèµ›åšè½¦æµ" /><published>2024-01-30T00:00:00+00:00</published><updated>2024-02-02T06:14:22+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/blender/blender-learning4</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/blender/blender-learning4/"><![CDATA[<h2 id="æ­¥éª¤">æ­¥éª¤</h2>

<p>å‚è€ƒRuiHuang_artåœ¨<a href="https://www.bilibili.com/video/BV19C4y1S7dL/">bç«™çš„æ•™å­¦è§†é¢‘</a></p>
<ul>
  <li>world property: åŠ å…¥ä¸€ä¸ªCyberPunkèƒŒæ™¯çš„è´´å›¾
    <ul>
      <li><a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/input/texture_coordinate.html">texture Coordinate</a> é€‰æ‹©cameraåæ ‡</li>
    </ul>
  </li>
  <li>åˆ¶åšè½¦æµ:
    <ul>
      <li>æ·»åŠ ä¸€ä¸ªPlane mesh</li>
      <li>åœ¨Editç¼–è¾‘æ¨¡å¼ä¸‹, æŒ‰Aé€‰ä¸­, <a href="https://blog.csdn.net/BuladeMian/article/details/79625926">S+X, S+Y</a> æ²¿X,Yè½´åŒå‘æ‹‰ä¼¸, æ‹‰æˆé•¿æ¡å½¢</li>
    </ul>
  </li>
  <li>shader: ç›®çš„æ˜¯æŠŠè½¦æµæ”¹æˆå¸¦çº¹ç†, è‡ªå‘å…‰, é€æ˜çš„æ•ˆæœ
    <ul>
      <li>color:
        <ul>
          <li>ä¸‹è½½ä¸€ä¸ªç¯ç«é€šæ˜çš„åŸå¸‚ä¿¯ç°å›¾
            <ul>
              <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240201173155.png" alt="Pasted image 20240201173155.png" width="100" /></li>
            </ul>
          </li>
          <li>æˆ‘ä»¬åªæƒ³è¦å›¾ä¸­äº®çš„åœ°æ–¹</li>
        </ul>
      </li>
      <li>emission: æŠŠè´´å›¾çº¹ç†è¿åˆ°bsdfçš„<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/shader/emission.html">emission</a>
        <ul>
          <li>éœ€è¦è°ƒæ•´strength: æŠŠstrengthè°ƒå¤§ä¹‹åå¥½åƒå‘çš„éƒ½æ˜¯ç™½å…‰?</li>
        </ul>
      </li>
      <li>alpha(è°ƒæ•´è½¦æµçš„é€æ˜åº¦): é™¤äº†è´´å›¾æœ¬èº«æš—çš„åœ°æ–¹è½¬æˆé€æ˜, æˆ‘ä»¬è¿˜æƒ³è¦ä¸€ä¸ªä¸¤ç«¯å®Œå…¨é€æ˜-&gt;ä¸­å¿ƒçš„æ¸å˜
        <ul>
          <li>æ ¹æ®åŸå›¾äº®åº¦è®¾ç½®é€æ˜: æš—å¤„é€æ˜, äº®å¤„ä¸é€æ˜
            <ul>
              <li>ç»™è´´å›¾è¿æ¥ä¸€ä¸ªColor Ramp</li>
            </ul>
          </li>
          <li>è®¾ç½®ä¸¤ç«¯å®Œå…¨é€æ˜-&gt;ä¸­å¿ƒçš„æ¸å˜
            <ol>
              <li>ç”¨<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/input/texture_coordinate.html">texture Coordinate</a> çš„uvç”Ÿæˆå¹³é¢çš„åæ ‡</li>
              <li>ç”¨<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/textures/gradient.html">Gradient Texture</a> æå–xæ–¹å‘</li>
              <li>ç”¨ <a href="https://docs.blender.org/manual/en/latest/editors/texture_node/types/converter/color_ramp.html">Color Ramp</a> åšä¸€ä¸ª æš—-&gt;äº®-&gt;æš— çš„æ¸å˜</li>
            </ol>
          </li>
          <li>ç”¨<a href="https://docs.blender.org/manual/en/latest/compositing/types/color/mix/mix_color.html">Mix Node</a> æŠŠä¸Šé¢ä¸¤ä¸ªæ§åˆ¶é€æ˜åº¦çš„å›¾èåˆ
            <ul>
              <li>è°ƒæˆMultiplyæ¨¡å¼: åŸè§†é¢‘ç”¨çš„æ˜¯Mixæ¨¡å¼, æŠŠä¸€ä¸ªè®¾æˆalpha, å’Œé»‘è‰²å¹³å‡..è¿™åº”è¯¥å’Œç›´æ¥ç”¨Multiplyç­‰ä»·..</li>
            </ul>
          </li>
          <li>åœ¨Material PropertiesæŠŠblendæ”¹æˆalpha blend</li>
        </ul>
      </li>
      <li>ç”¨<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/color/hue_saturation.html">Hue/Saturation/Value Node</a> è°ƒé¢œè‰²</li>
    </ul>
  </li>
  <li>åŠ å…¥åŠ¨ç”»:
    <ul>
      <li>åœ¨shaderé‡Œç»™è´´å›¾åŠ ä¸Šmapping</li>
      <li>è°ƒæ•´mappingçš„location
        <ul>
          <li>åœ¨Mappingçš„locationæ’å…¥å…³é”®å¸§</li>
          <li>åœ¨<a href="https://docs.blender.org/manual/zh-hans/dev/editors/graph_editor/fcurves/editing.html">Graph Editor</a> é‡Œç¼–è¾‘: éœ€è¦å¿«æ·é”®Tè°ƒå‡ºSelect Box, æŠŠéœ€è¦æ›´æ”¹çš„mappingé€‰ä¸­</li>
          <li>é€‰ä¸­ååœ¨Graph Editorçš„Shader Nodetreeé‡Œç¼–è¾‘Y Default Value</li>
          <li>æ·»åŠ Modifier, æŠŠx^1æ”¹æˆéœ€è¦çš„é€Ÿåº¦0.05</li>
        </ul>
      </li>
      <li>å¦å¤–ç”¨<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/input/object_info.html">Object Info</a> è·å–objectçš„ä½ç½®åŠ åˆ°locationé‡Œ, ç»™æ¯ä¸ªä¸åŒä½ç½®çš„è½¦æµåŠ ä¸€ä¸ªlocationçš„å˜åŒ–</li>
    </ul>
  </li>
  <li>å¤åˆ¶å¤šä¸ªè½¦æµç»„åˆ</li>
  <li>ç»“æœ: å½“ç„¶ä¹Ÿåªèƒ½è¿œçœ‹
    <ul>
      <li><img src="/personal_homepage/docs/attachment/car_flow.mp4" alt="car_flow.mp4" width="320" /></li>
    </ul>
  </li>
</ul>

<h2 id="shaderæµç¨‹">shaderæµç¨‹</h2>

<p><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240201172349.png" alt="Pasted image 20240201172349.png" width="800" /></p>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="blender" /><category term="content" /><category term="render" /><category term="shader" /><summary type="html"><![CDATA[æ­¥éª¤]]></summary></entry><entry><title type="html">blenderå­¦ä¹ : ç”¨volume shaderåšæ°”æ€è¡Œæ˜Ÿ</title><link href="https://roshameow.github.io//personal_homepage/docs/blender/blender-learning3/" rel="alternate" type="text/html" title="blenderå­¦ä¹ : ç”¨volume shaderåšæ°”æ€è¡Œæ˜Ÿ" /><published>2024-01-26T00:00:00+00:00</published><updated>2024-01-30T00:47:25+00:00</updated><id>https://roshameow.github.io//personal_homepage/docs/blender/blender-learning3</id><content type="html" xml:base="https://roshameow.github.io//personal_homepage/docs/blender/blender-learning3/"><![CDATA[<h2 id="æ­¥éª¤">æ­¥éª¤</h2>

<p>å‚è€ƒRuiHuang_artåœ¨<a href="https://www.bilibili.com/video/BV1Aj411j7CD">bç«™çš„æ•™å­¦è§†é¢‘</a></p>
<ul>
  <li>world property: åŠ å…¥ä¸€ä¸ªå¤ªç©ºèƒŒæ™¯çš„è´´å›¾</li>
  <li>å…‰æºï¼šæ”¹æˆ<a href="https://docs.blender.org/manual/en/latest/render/lights/light_object.html#sun-light">sun light</a>
    <ul>
      <li>strengthæ”¹æˆ12: å•ä½æ˜¯ $W/m^2$</li>
      <li>volumeæ”¹æˆ3: æ§åˆ¶åœ¨volume shaderæ—¶çš„å½±å“?</li>
    </ul>
  </li>
  <li>render: ç”¨eevee
    <ul>
      <li>è®¾ç½®volumetricså‚æ•°
        <ul>
          <li><strong>æ‰“å¼€volumetric shadows</strong></li>
          <li>start, end: ç›¸å¯¹ç›¸æœºçš„ä½“ç§¯æ•ˆæœèŒƒå›´, è®¾ä¸º(3.3m-&gt;200m)</li>
          <li>tile size: volumeå—å¤§å°</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>shader:
    <ul>
      <li>ç”¨<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/shader/volume_principled.html">principled volume</a> : æŠŠmeshåŒ…å«çš„éƒ¨åˆ†çœ‹æˆvolumeå—
        <ul>
          <li>color:
            <ol>
              <li>ç”¨<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/input/texture_coordinate.html">texture Coordinate</a> ç”Ÿæˆvolumeçš„åæ ‡</li>
              <li><a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/textures/image.html">Image Texture</a> æŠŠ2dçš„æœ¨æ˜Ÿè´´å›¾æ˜ å°„åˆ°3dçš„volumeä¸Š</li>
              <li>ç”¨<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/color/hue_saturation.html">Hue/Saturation/Value Node</a> è°ƒé¢œè‰²</li>
            </ol>
          </li>
          <li>density: ä¸€ä¸ªä»é‡Œåˆ°å¤–é€æ¸ç¨€è–„çš„çƒå½¢+è¢«çº¹ç†çš„å½±å“
            <ol>
              <li>ç”¨<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/input/texture_coordinate.html">texture Coordinate</a> ç”Ÿæˆvolumeçš„åæ ‡
                <ol>
                  <li>objectç”Ÿæˆä¸€ä¸ªåœ¨ä¸­å¿ƒçš„åæ ‡ç³»</li>
                  <li>ç”¨ <a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/textures/image.html">Image Texture</a> ç”Ÿæˆä¸€ä¸ªæŒ‰ç…§è´´å›¾çº¹ç†äº®åº¦çš„scale, æ¨¡æ‹Ÿæ°”ä½“çš„æ•ˆæœ
                    <ul>
                      <li>ç”¨Mulitiply nodeçš„Factor nodeè°ƒæ•´å—çº¹ç†å½±å“çš„å¼ºåº¦</li>
                      <li>ç”¨<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/color/invert.html">invert node</a> è°ƒæ•´: äº®çš„çº¹ç†å¯†åº¦ä½(å‡¹é™·), æš—å¾—çº¹ç†å¯†åº¦é«˜(çªå‡º), å¦‚æœFacè®¾ç½®æˆ1å°±ä¼šåè¿‡æ¥
                        <ul>
                          <li>Facå‚æ•°:  ç±»ä¼¼$\alpha \frac{1}{x}+(1-\alpha) x$ ?</li>
                        </ul>
                      </li>
                      <li>è¿™éƒ¨åˆ†åº”è¯¥å¯ä»¥ä¼˜åŒ–, ä¸æ˜¯ç”¨multiply è€Œæ˜¯ç”¨å…¶ä»–æ–¹å¼åšçº¹ç†çš„distortion?</li>
                    </ul>
                  </li>
                </ol>
              </li>
              <li>ç”¨<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/textures/gradient.html">gradient texture</a> è®¾ç½®æ¸å˜çš„å¯†åº¦</li>
              <li>ç”¨ <a href="https://docs.blender.org/manual/en/latest/editors/texture_node/types/converter/color_ramp.html">Color Ramp</a> åšä¸€ä¸ªåŠ¨æ€èŒƒå›´çš„å‹ç¼©:
                <ul>
                  <li>æˆ‘ä»¬æƒ³è¦ä¸€ä¸ª(å®ä½“-&gt;æ°”æ€-&gt;ç©º) çš„æ¸å˜, ä¸­é—´densityåœ¨0-1ä¹‹é—´çš„éƒ¨åˆ†, æ˜¯æ°”æ€éƒ¨åˆ†</li>
                  <li>è°ƒæ•´valueå‚æ•°, ä¹Ÿå°±æ˜¯æœ€åè¾“å…¥çš„å¯†åº¦</li>
                </ul>
              </li>
            </ol>
          </li>
        </ul>
      </li>
      <li>è§†é¢‘é‡Œè¿˜å¦å¤–åŠ äº†ä¸€ä¸ªåº•è‰², ä½†æ˜¯çœ‹èµ·æ¥æ²¡ä»€ä¹ˆå½±å“</li>
    </ul>
  </li>
  <li>ç›¸æœº: Camera-&gt; Data
    <ul>
      <li>Focal Length è°ƒå¤§åˆ°60mm: è°ƒæ•´ç‰©ä½“åœ¨é•œå¤´å†…çš„å¤§å°</li>
    </ul>
  </li>
  <li>ç»“æœ: å’Œè§†é¢‘é‡Œçš„ç»“æœä¸å®Œå…¨ä¸€æ ·, ä¸æ¸…æ¥šæ˜¯å“ªé‡Œçš„é—®é¢˜ğŸ˜®â€ğŸ’¨
    <ul>
      <li><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240129164109.png" alt="Pasted image 20240129164109.png" width="200" /> <img src="/personal_homepage/docs/attachment/Pasted%20image%2020240129164354.png" alt="Pasted image 20240129164354.png" width="200" /></li>
    </ul>
  </li>
</ul>

<h2 id="shaderæµç¨‹">shaderæµç¨‹</h2>

<p><img src="/personal_homepage/docs/attachment/Pasted%20image%2020240129164505.png" alt="Pasted image 20240129164505.png" width="900" /></p>

<h2 id="texture-coordinate-çš„è®¾ç½®"><a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/input/texture_coordinate.html">texture Coordinate</a> çš„è®¾ç½®</h2>

<p>texture coordinateä¸åŒæ¨¡å¼çš„åŒºåˆ«æ˜¯åæ ‡ç³»çš„åŸç‚¹ä½ç½®ä¸ä¸€æ ·: generateæ¨¡å¼çš„åŸç‚¹æ˜¯åœ¨meshçš„bounding boxä¸€è§’, è€Œobjectæ¨¡å¼çš„åŸç‚¹æ˜¯åœ¨bounding boxçš„ä¸­å¿ƒ(ä»åå­—æ˜¯çœ‹ä¸å‡ºæ¥..ä¹Ÿæ²¡çœ‹æºç éªŒè¯, éƒ½æ˜¯æˆ‘çŒœçš„)</p>
<ul>
  <li>ç”¨<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/textures/gradient.html">gradient texture</a> è°ƒæ•´å¯†åº¦æ—¶, è¾“å…¥çš„æ˜¯vectorçš„æ¨¡é•¿
    <ul>
      <li>å¦‚æœgenerateæ¨¡å¼ , å¯†åº¦æœ€å¤§çš„ç‚¹åœ¨boxçš„ä¸€è§’, å¾—åˆ°<img src="/personal_homepage/docs/attachment/Pasted%20image%2020240129151203.png" alt="Pasted image 20240129151203.png" width="120" />;</li>
      <li>ç”¨objectæ¨¡å¼  , å¯†åº¦æœ€å¤§çš„ç‚¹åœ¨ä¸­å¿ƒ, å¾—åˆ°<img src="/personal_homepage/docs/attachment/Pasted%20image%2020240129151233.png" alt="Pasted image 20240129151233.png" width="150" />, ä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦çš„è¡Œæ˜Ÿçš„å½¢æ€</li>
    </ul>
  </li>
  <li>è€Œæˆ‘ä»¬ç”¨<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/textures/image.html">Image Texture</a> è®¾ç½®é¢œè‰²çš„æ˜ å°„æ—¶, Sphereçš„æ˜ å°„æ–¹æ³•é»˜è®¤æ˜¯å›´ç»•ç‚¹ $(0.5,0.5,0.5)$ è¿›è¡Œæ˜ å°„, è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦åœ¨generateæ¨¡å¼çš„åæ ‡ç³»ä¸‹æ˜ å°„
    <ul>
      <li>Sphereçš„æ˜ å°„æ–¹æ³•: <img src="https://docs.blender.org/manual/en/latest/_images/render_shader-nodes_textures_image_projection-sphere.png" alt="sphere" /></li>
      <li>æŠŠè´´å›¾<img src="/personal_homepage/docs/attachment/jupiter_01_pd.png" alt="jupiter_01_pd.png" width="200" /> æ˜ å°„åˆ°<img src="/personal_homepage/docs/attachment/Pasted%20image%2020240129144125.png" alt="Pasted image 20240129144125.png" width="120" /></li>
    </ul>
  </li>
</ul>]]></content><author><name>{&quot;name&quot;=&gt;nil, &quot;picture&quot;=&gt;nil, &quot;email&quot;=&gt;&quot;w.liuatnk@gmail.com&quot;, &quot;twitter&quot;=&gt;nil, &quot;links&quot;=&gt;[{&quot;title&quot;=&gt;nil, &quot;url&quot;=&gt;nil, &quot;icon&quot;=&gt;nil}]}</name><email>w.liuatnk@gmail.com</email></author><category term="docs" /><category term="blender" /><category term="content" /><category term="render" /><category term="shader" /><summary type="html"><![CDATA[æ­¥éª¤]]></summary></entry></feed>